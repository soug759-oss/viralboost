<!DOCTYPE html>
<html lang="fr">
<script defer src="https://cloud.umami.is/script.js" data-website-id="2fb2c139-5a87-4082-b9f3-0aad697c9317"></script>
  <head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>ViralBoost â€” L'IA qui fait exploser votre prÃ©sence digitale</title>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=Cabinet+Grotesk:wght@300;400;500;700&display=swap" rel="stylesheet"/>
<script src="https://js.stripe.com/v3/"></script>
<style>
:root{
  --bg:#05030e;
  --bg2:#080514;
  --s1:#0d0920;
  --s2:#130d2e;
  --v1:#7c3aed;
  --v2:#9d5cff;
  --v3:#c084fc;
  --pink:#e879f9;
  --green:#4ade80;
  --text:#f5f0ff;
  --muted:#6b5b8a;
  --border:rgba(124,58,237,0.2);
  --glow:rgba(124,58,237,0.15);
  --toast-bg:#1a1030;
}
body.light-mode{
  --bg:#f0eeff;
  --bg2:#e8e0ff;
  --s1:#ffffff;
  --s2:#f3eeff;
  --text:#1a0a3c;
  --muted:#7c6aaa;
  --border:rgba(124,58,237,0.25);
  --glow:rgba(124,58,237,0.1);
  --toast-bg:#fff;
}
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent;}
html{scroll-behavior:smooth;}
body{font-family:'Cabinet Grotesk',sans-serif;background:var(--bg);color:var(--text);overflow-x:hidden;-webkit-text-size-adjust:100%;}
button,a,[onclick]{cursor:pointer;touch-action:manipulation;}
button{-webkit-appearance:none;}

/* â”€â”€ PARTICLES CANVAS â”€â”€ */
#particles{position:fixed;inset:0;z-index:0;pointer-events:none;}

/* â”€â”€ NOISE â”€â”€ */
body::after{content:'';position:fixed;inset:0;background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.025'/%3E%3C/svg%3E");pointer-events:none;z-index:0;}

/* â”€â”€ GLOW ORBS â”€â”€ */
.orb{position:fixed;border-radius:50%;filter:blur(100px);pointer-events:none;z-index:0;}
.o1{width:700px;height:700px;background:rgba(124,58,237,0.08);top:-200px;right:-200px;animation:drift 12s ease-in-out infinite alternate;}
.o2{width:500px;height:500px;background:rgba(232,121,249,0.05);bottom:-100px;left:-150px;animation:drift 15s ease-in-out infinite alternate-reverse;}
@keyframes drift{from{transform:translate(0,0)}to{transform:translate(30px,30px)}}

/* â”€â”€ NAV â”€â”€ */
nav{position:fixed;top:0;left:0;right:0;z-index:200;padding:0 6%;height:72px;display:flex;align-items:center;justify-content:space-between;transition:all 0.3s;}
nav.scrolled{background:rgba(5,3,14,0.9);backdrop-filter:blur(24px);border-bottom:1px solid var(--border);}
body.light-mode nav.scrolled{background:rgba(240,238,255,0.92);}
.logo{font-family:'Syne',sans-serif;font-size:22px;font-weight:800;background:linear-gradient(135deg,var(--v2),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent;letter-spacing:-0.5px;position:relative;z-index:1;}
.nav-links{display:flex;gap:36px;}
.nav-links a{font-size:14px;color:var(--muted);text-decoration:none;font-weight:500;transition:color 0.2s;position:relative;z-index:1;}
.nav-links a:hover{color:var(--text);}
.nav-cta{display:flex;gap:10px;align-items:center;position:relative;z-index:1;}
.btn-nav{padding:9px 22px;border-radius:100px;font-family:'Cabinet Grotesk',sans-serif;font-size:14px;font-weight:700;cursor:pointer;transition:all 0.2s;}
.btn-nav-ghost{background:transparent;border:1.5px solid var(--border);color:var(--v3);}
.btn-nav-ghost:hover{border-color:var(--v1);background:var(--glow);}
.btn-nav-solid{background:linear-gradient(135deg,var(--v1),var(--v2));border:none;color:white;box-shadow:0 0 24px rgba(124,58,237,0.35);}
.btn-nav-solid:hover{box-shadow:0 0 48px rgba(124,58,237,0.5);transform:translateY(-1px);}

/* â”€â”€ THEME TOGGLE â”€â”€ */
.theme-toggle{background:transparent;border:1.5px solid var(--border);border-radius:100px;width:38px;height:38px;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:16px;transition:all 0.2s;color:var(--muted);}
.theme-toggle:hover{border-color:var(--v1);background:var(--glow);}

/* â”€â”€ HAMBURGER â”€â”€ */
.hamburger{display:none;flex-direction:column;gap:5px;cursor:pointer;padding:8px;background:transparent;border:1.5px solid var(--border);border-radius:10px;z-index:301;transition:all 0.2s;-webkit-appearance:none;touch-action:manipulation;}
.hamburger:hover{border-color:var(--v1);background:var(--glow);}
.hamburger span{display:block;width:22px;height:2px;background:var(--v3);border-radius:2px;transition:all 0.3s;}
.hamburger.open span:nth-child(1){transform:rotate(45deg) translate(5px,5px);}
.hamburger.open span:nth-child(2){opacity:0;transform:translateX(-8px);}
.hamburger.open span:nth-child(3){transform:rotate(-45deg) translate(5px,-5px);}
.mobile-menu{display:none;position:fixed;inset:0;background:rgba(5,3,14,0.97);backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);z-index:300;flex-direction:column;align-items:center;justify-content:center;gap:32px;}
body.light-mode .mobile-menu{background:rgba(240,238,255,0.97);}
.mobile-menu.open{display:flex;animation:fadeUp 0.3s ease;}
.mobile-menu a,.mobile-menu button{font-family:'Syne',sans-serif;font-size:28px;font-weight:700;color:var(--text);text-decoration:none;background:none;border:none;cursor:pointer;transition:color 0.2s;-webkit-appearance:none;touch-action:manipulation;padding:8px 0;}
.mobile-menu a:hover,.mobile-menu button:hover{color:var(--v3);}
.mobile-menu-btns{display:flex;flex-direction:column;gap:12px;width:80%;max-width:300px;margin-top:16px;}
.mobile-menu-btns button{width:100%;padding:14px;border-radius:100px;font-family:'Syne',sans-serif;font-size:16px;font-weight:700;cursor:pointer;-webkit-appearance:none;touch-action:manipulation;}

/* â”€â”€ TOAST NOTIFICATIONS â”€â”€ */
#toast-container{position:fixed;bottom:28px;right:28px;z-index:9999;display:flex;flex-direction:column;gap:10px;pointer-events:none;}
.toast{background:var(--toast-bg);border:1.5px solid var(--border);border-radius:14px;padding:14px 20px;font-size:14px;font-weight:600;color:var(--text);display:flex;align-items:center;gap:10px;box-shadow:0 8px 32px rgba(0,0,0,0.4);pointer-events:auto;animation:toastIn 0.4s cubic-bezier(0.34,1.56,0.64,1) both;min-width:240px;max-width:340px;}
.toast.out{animation:toastOut 0.3s ease forwards;}
.toast-success{border-color:rgba(74,222,128,0.4);}
.toast-error{border-color:rgba(244,63,94,0.4);}
.toast-info{border-color:rgba(124,58,237,0.4);}
@keyframes toastIn{from{opacity:0;transform:translateX(60px) scale(0.9)}to{opacity:1;transform:translateX(0) scale(1)}}
@keyframes toastOut{from{opacity:1;transform:translateX(0)}to{opacity:0;transform:translateX(60px)}}

/* â”€â”€ SEARCH BAR â”€â”€ */
.search-sort-bar{display:flex;gap:10px;margin-bottom:24px;flex-wrap:wrap;align-items:center;}
.search-input-wrap{position:relative;flex:1;min-width:200px;}
.search-input-wrap input{width:100%;padding:10px 16px 10px 40px;background:var(--s1);border:1.5px solid var(--border);border-radius:100px;font-family:'Cabinet Grotesk',sans-serif;font-size:14px;color:var(--text);outline:none;transition:all 0.2s;}
.search-input-wrap input:focus{border-color:var(--v1);box-shadow:0 0 16px rgba(124,58,237,0.1);}
.search-icon{position:absolute;left:14px;top:50%;transform:translateY(-50%);font-size:14px;color:var(--muted);}
.sort-select{padding:10px 16px;background:var(--s1);border:1.5px solid var(--border);border-radius:100px;font-family:'Cabinet Grotesk',sans-serif;font-size:13px;color:var(--text);outline:none;cursor:pointer;transition:all 0.2s;}
.sort-select:focus{border-color:var(--v1);}

/* â”€â”€ PROJECT MODAL â”€â”€ */
.proj-modal-banner{height:120px;display:flex;align-items:center;justify-content:center;font-size:56px;border-radius:16px;margin-bottom:20px;}
.proj-modal-stats{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;margin:16px 0;}
.proj-stat{background:rgba(124,58,237,0.08);border:1px solid var(--border);border-radius:10px;padding:10px;text-align:center;}
.proj-stat-num{font-family:'Syne',sans-serif;font-size:20px;font-weight:800;color:var(--v3);}
.proj-stat-label{font-size:10px;color:var(--muted);margin-top:2px;}
.proj-strategy{background:rgba(124,58,237,0.05);border:1px solid var(--border);border-radius:12px;padding:16px;font-size:13px;line-height:1.8;color:var(--text);white-space:pre-wrap;max-height:280px;overflow-y:auto;margin-top:16px;}

/* â”€â”€ SCROLL REVEAL â”€â”€ */
.reveal{opacity:0;transform:translateY(32px);transition:opacity 0.6s ease,transform 0.6s ease;}
.reveal.visible{opacity:1;transform:translateY(0);}

/* â”€â”€ SKELETON LOADER â”€â”€ */
.skeleton{background:linear-gradient(90deg,var(--s1) 25%,var(--s2) 50%,var(--s1) 75%);background-size:200% 100%;animation:shimmer 1.4s infinite;border-radius:8px;}
@keyframes shimmer{0%{background-position:200% 0}100%{background-position:-200% 0}}
.skel-card{background:var(--s1);border:1.5px solid var(--border);border-radius:20px;overflow:hidden;}
.skel-banner{height:140px;}
.skel-body{padding:20px;}
.skel-line{height:12px;margin-bottom:10px;border-radius:6px;}
.skel-line.short{width:60%;}
.skel-line.medium{width:80%;}

/* â”€â”€ PDF EXPORT BTN â”€â”€ */
.btn-pdf{background:linear-gradient(135deg,#dc2626,#f97316);border:none;border-radius:100px;padding:9px 20px;font-family:'Cabinet Grotesk',sans-serif;font-size:13px;font-weight:700;cursor:pointer;color:white;transition:all 0.2s;}
.btn-pdf:hover{box-shadow:0 0 20px rgba(220,38,38,0.4);transform:translateY(-1px);}

/* â”€â”€ HISTORY â”€â”€ */
.history-list{display:flex;flex-direction:column;gap:10px;margin-top:16px;}
.history-item{background:var(--s1);border:1.5px solid var(--border);border-radius:12px;padding:14px 18px;display:flex;align-items:center;gap:14px;transition:all 0.2s;}
.history-item:hover{border-color:rgba(124,58,237,0.4);}
.history-dot{width:8px;height:8px;border-radius:50%;background:var(--v2);flex-shrink:0;}
.history-meta{flex:1;min-width:0;}
.history-name{font-size:14px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.history-date{font-size:11px;color:var(--muted);margin-top:2px;}
.history-type{font-size:11px;color:var(--v3);font-weight:700;padding:2px 10px;background:var(--glow);border-radius:100px;border:1px solid var(--border);white-space:nowrap;}

/* â”€â”€ HERO â”€â”€ */
.hero{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:120px 6% 80px;position:relative;z-index:1;}
.hero-eyebrow{display:inline-flex;align-items:center;gap:10px;background:rgba(124,58,237,0.1);border:1px solid rgba(124,58,237,0.25);border-radius:100px;padding:7px 18px;font-size:12px;font-weight:600;color:var(--v3);margin-bottom:36px;letter-spacing:0.5px;animation:fadeUp 0.7s ease both;}
.live-dot{width:7px;height:7px;border-radius:50%;background:var(--green);box-shadow:0 0 8px var(--green);animation:blink 1.8s infinite;}
@keyframes blink{0%,100%{opacity:1}50%{opacity:0.3}}
.hero h1{font-family:'Syne',sans-serif;font-size:clamp(48px,8vw,100px);font-weight:800;line-height:0.95;letter-spacing:-3px;margin-bottom:28px;animation:fadeUp 0.7s 0.1s ease both;}
.hero h1 .grad{background:linear-gradient(135deg,var(--v2) 0%,var(--pink) 50%,var(--v3) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;display:block;}
.hero-sub{font-size:19px;color:var(--muted);max-width:580px;line-height:1.7;margin-bottom:48px;font-weight:400;animation:fadeUp 0.7s 0.2s ease both;}
.hero-btns{display:flex;gap:14px;flex-wrap:wrap;justify-content:center;margin-bottom:72px;animation:fadeUp 0.7s 0.3s ease both;}
.btn-hero-primary{background:linear-gradient(135deg,var(--v1),var(--v2));border:none;border-radius:100px;padding:16px 40px;font-family:'Syne',sans-serif;font-size:15px;font-weight:700;cursor:pointer;color:white;transition:all 0.3s;box-shadow:0 0 40px rgba(124,58,237,0.4);}
.btn-hero-primary:hover{box-shadow:0 0 70px rgba(124,58,237,0.6);transform:translateY(-2px);}
.btn-hero-ghost{background:transparent;border:1.5px solid var(--border);border-radius:100px;padding:16px 40px;font-family:'Syne',sans-serif;font-size:15px;font-weight:700;cursor:pointer;color:var(--v3);transition:all 0.3s;}
.btn-hero-ghost:hover{border-color:var(--v1);background:var(--glow);}
.hero-note{font-size:13px;color:var(--muted);animation:fadeUp 0.7s 0.4s ease both;}

/* COUNTERS */
.counters{display:flex;gap:0;justify-content:center;animation:fadeUp 0.7s 0.5s ease both;}
.counter-item{padding:32px 48px;text-align:center;border:1px solid var(--border);position:relative;}
.counter-item+.counter-item{border-left:none;}
.counter-item::before{content:'';position:absolute;top:0;left:50%;transform:translateX(-50%);width:50%;height:1px;background:linear-gradient(90deg,transparent,var(--v1),transparent);}
.c-num{font-family:'Syne',sans-serif;font-size:38px;font-weight:800;background:linear-gradient(135deg,var(--v2),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:6px;}
.c-label{font-size:12px;color:var(--muted);font-weight:500;letter-spacing:0.5px;}

/* â”€â”€ SHOWCASE (la section star) â”€â”€ */
.showcase-section{padding:100px 6%;position:relative;z-index:1;}
.sec-header{text-align:center;margin-bottom:64px;}
.sec-tag{font-size:11px;font-weight:700;letter-spacing:3px;text-transform:uppercase;color:var(--v3);margin-bottom:16px;}
.sec-tag::before{content:'âœ¦ ';} .sec-tag::after{content:' âœ¦';}
h2{font-family:'Syne',sans-serif;font-size:clamp(32px,5vw,56px);font-weight:800;letter-spacing:-1.5px;line-height:1.05;}
h2 em{font-style:italic;background:linear-gradient(135deg,var(--v2),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
.sec-sub{font-size:17px;color:var(--muted);max-width:480px;margin:14px auto 0;line-height:1.7;}

/* SHOWCASE FILTERS */
.showcase-filters{display:flex;gap:8px;justify-content:center;margin-bottom:36px;flex-wrap:wrap;}
.sf-btn{padding:8px 20px;border-radius:100px;border:1.5px solid var(--border);background:transparent;color:var(--muted);font-family:'Cabinet Grotesk',sans-serif;font-size:13px;font-weight:600;cursor:pointer;transition:all 0.2s;}
.sf-btn:hover,.sf-btn.active{border-color:var(--v1);color:var(--v3);background:var(--glow);}

/* SHOWCASE GRID */
.showcase-grid{max-width:1200px;margin:0 auto;display:grid;grid-template-columns:repeat(3,1fr);gap:20px;}
.showcase-card{background:var(--s1);border:1.5px solid var(--border);border-radius:20px;overflow:hidden;transition:all 0.3s;cursor:pointer;position:relative;}
.showcase-card:hover{border-color:rgba(124,58,237,0.5);transform:translateY(-4px);box-shadow:0 20px 60px rgba(124,58,237,0.12);}
.sc-banner{height:140px;display:flex;align-items:center;justify-content:center;font-size:48px;position:relative;overflow:hidden;}
.sc-banner::after{content:'';position:absolute;inset:0;background:linear-gradient(180deg,transparent 40%,var(--s1));}
.sc-body{padding:20px;}
.sc-category{font-size:10px;font-weight:700;letter-spacing:2px;text-transform:uppercase;color:var(--v3);margin-bottom:8px;}
.sc-name{font-family:'Syne',sans-serif;font-size:17px;font-weight:700;margin-bottom:6px;}
.sc-desc{font-size:13px;color:var(--muted);line-height:1.6;margin-bottom:16px;}
.sc-footer{display:flex;align-items:center;justify-content:space-between;}
.sc-author{display:flex;align-items:center;gap:8px;font-size:12px;color:var(--muted);}
.sc-avatar{width:26px;height:26px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:700;color:white;}
.sc-votes{display:flex;align-items:center;gap:6px;}
.btn-vote{background:transparent;border:1.5px solid var(--border);border-radius:100px;padding:5px 14px;font-family:'Cabinet Grotesk',sans-serif;font-size:12px;font-weight:700;cursor:pointer;color:var(--muted);transition:all 0.2s;display:flex;align-items:center;gap:5px;}
.btn-vote:hover,.btn-vote.voted{border-color:var(--v1);color:var(--v3);background:var(--glow);}
.sc-badge{position:absolute;top:12px;right:12px;background:linear-gradient(135deg,var(--v1),var(--pink));color:white;font-size:9px;font-weight:700;padding:3px 10px;border-radius:100px;letter-spacing:1px;z-index:2;}

/* â”€â”€ SERVICES â”€â”€ */
.services-section{padding:100px 6%;position:relative;z-index:1;background:linear-gradient(180deg,var(--bg) 0%,var(--bg2) 100%);}
.services-grid{max-width:1100px;margin:0 auto;display:grid;grid-template-columns:repeat(3,1fr);gap:2px;background:var(--border);}
.service-card{background:var(--bg);padding:40px 36px;transition:all 0.3s;position:relative;overflow:hidden;}
.service-card::before{content:'';position:absolute;inset:0;background:linear-gradient(135deg,rgba(124,58,237,0.05),transparent);opacity:0;transition:opacity 0.3s;}
.service-card:hover{background:var(--s1);}
.service-card:hover::before{opacity:1;}
.srv-num{font-size:11px;color:var(--muted);letter-spacing:2px;font-weight:600;margin-bottom:20px;}
.srv-icon{font-size:36px;margin-bottom:16px;}
.service-card h3{font-family:'Syne',sans-serif;font-size:19px;font-weight:700;margin-bottom:12px;color:var(--text);}
.service-card p{font-size:14px;color:var(--muted);line-height:1.8;}
.srv-tag{display:inline-block;background:rgba(124,58,237,0.12);border:1px solid rgba(124,58,237,0.2);border-radius:100px;padding:4px 12px;font-size:11px;color:var(--v3);margin-top:16px;font-weight:600;}

/* â”€â”€ HOW IT WORKS â”€â”€ */
.how-section{padding:100px 6%;position:relative;z-index:1;}
.how-grid{max-width:1100px;margin:0 auto;display:grid;grid-template-columns:repeat(4,1fr);gap:1px;background:var(--border);}
.how-step{background:var(--bg);padding:40px 32px;position:relative;}
.how-step::after{content:attr(data-num);position:absolute;top:24px;right:24px;font-family:'Syne',sans-serif;font-size:48px;font-weight:800;color:rgba(124,58,237,0.06);}
.how-icon{font-size:28px;margin-bottom:16px;}
.how-step h3{font-family:'Syne',sans-serif;font-size:16px;font-weight:700;margin-bottom:8px;}
.how-step p{font-size:14px;color:var(--muted);line-height:1.7;}

/* â”€â”€ PRICING â”€â”€ */
.pricing-section{padding:100px 6%;position:relative;z-index:1;}
.pricing-grid{max-width:1050px;margin:0 auto;display:grid;grid-template-columns:repeat(3,1fr);gap:20px;}
.price-card{background:var(--s1);border:1.5px solid var(--border);border-radius:20px;padding:40px 32px;position:relative;transition:all 0.3s;}
.price-card:hover{border-color:rgba(124,58,237,0.4);box-shadow:0 20px 60px rgba(124,58,237,0.08);}
.price-card.hot{background:linear-gradient(135deg,rgba(124,58,237,0.12),rgba(232,121,249,0.06));border-color:rgba(124,58,237,0.4);}
.price-card.hot::before{content:'â­ POPULAIRE';position:absolute;top:-14px;left:50%;transform:translateX(-50%);background:linear-gradient(135deg,var(--v1),var(--pink));color:white;font-size:10px;font-weight:700;padding:5px 16px;border-radius:100px;letter-spacing:1px;white-space:nowrap;}
.price-plan{font-size:11px;font-weight:700;letter-spacing:2px;text-transform:uppercase;color:var(--v3);margin-bottom:20px;}
.price-num{font-family:'Syne',sans-serif;font-size:52px;font-weight:800;color:var(--text);letter-spacing:-2px;line-height:1;}
.price-card.hot .price-num{background:linear-gradient(135deg,var(--v2),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
.price-per{font-size:13px;color:var(--muted);margin:6px 0 20px;}
.price-desc{font-size:14px;color:var(--muted);line-height:1.7;margin-bottom:24px;min-height:56px;}
.price-feats{list-style:none;margin-bottom:32px;}
.price-feats li{padding:9px 0;border-bottom:1px solid rgba(124,58,237,0.08);font-size:14px;color:#9d8bb8;display:flex;align-items:center;gap:10px;}
.price-feats li:last-child{border:none;}
.price-feats li::before{content:'â†’';color:var(--v3);font-size:12px;flex-shrink:0;}
.btn-plan{width:100%;padding:14px;border-radius:100px;font-family:'Syne',sans-serif;font-size:14px;font-weight:700;cursor:pointer;transition:all 0.2s;}
.btn-plan-outline{background:transparent;border:1.5px solid var(--border);color:var(--v3);}
.btn-plan-outline:hover{border-color:var(--v1);background:var(--glow);}
.btn-plan-solid{background:linear-gradient(135deg,var(--v1),var(--v2));border:none;color:white;box-shadow:0 0 24px rgba(124,58,237,0.3);}
.btn-plan-solid:hover{box-shadow:0 0 48px rgba(124,58,237,0.5);transform:translateY(-1px);}

/* â”€â”€ REVIEWS â”€â”€ */
.reviews-section{padding:100px 6%;position:relative;z-index:1;background:var(--bg2);}
.reviews-grid{max-width:1100px;margin:0 auto;display:grid;grid-template-columns:repeat(3,1fr);gap:16px;}
.rev-card{background:var(--s1);border:1.5px solid var(--border);border-radius:16px;padding:28px;transition:all 0.3s;}
.rev-card:hover{border-color:rgba(124,58,237,0.4);transform:translateY(-3px);}
.rev-stars{color:#f59e0b;font-size:13px;letter-spacing:1px;margin-bottom:14px;}
.rev-text{font-size:15px;color:#9d8bb8;line-height:1.8;margin-bottom:20px;}
.rev-text strong{color:var(--v3);}
.rev-author{display:flex;align-items:center;gap:12px;}
.rev-ava{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:700;color:white;flex-shrink:0;}
.rev-name{font-size:14px;font-weight:700;}
.rev-handle{font-size:12px;color:var(--muted);}
.rev-result{font-size:12px;color:var(--green);font-weight:600;margin-top:3px;}

/* â”€â”€ CTA â”€â”€ */
.cta-section{padding:120px 6%;position:relative;z-index:1;text-align:center;overflow:hidden;}
.cta-section::before{content:'';position:absolute;inset:0;background:radial-gradient(ellipse 60% 60% at 50% 50%,rgba(124,58,237,0.12),transparent);}
.cta-section h2{margin:0 auto 20px;}
.cta-section p{color:var(--muted);font-size:17px;max-width:480px;margin:0 auto 44px;line-height:1.7;}

/* â”€â”€ FOOTER â”€â”€ */
footer{background:var(--bg2);border-top:1px solid var(--border);padding:40px 6%;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:16px;position:relative;z-index:1;}
.footer-logo{font-family:'Syne',sans-serif;font-size:20px;font-weight:800;background:linear-gradient(135deg,var(--v2),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
footer p{color:var(--muted);font-size:13px;}

/* â”€â”€ MODALS â”€â”€ */
.modal-bg{display:none;position:fixed;inset:0;background:rgba(5,3,14,0.85);backdrop-filter:blur(16px);z-index:500;align-items:center;justify-content:center;padding:20px;}
.modal-bg.open{display:flex;}
.modal{background:var(--s1);border:1.5px solid var(--border);border-radius:24px;padding:48px;width:100%;max-width:480px;position:relative;animation:popIn 0.3s ease;max-height:90vh;overflow-y:auto;}
.modal::before{content:'';position:absolute;top:0;left:50%;transform:translateX(-50%);width:60%;height:2px;background:linear-gradient(90deg,transparent,var(--v1),transparent);border-radius:100px;}
@keyframes popIn{from{opacity:0;transform:scale(0.95) translateY(8px)}to{opacity:1;transform:scale(1) translateY(0)}}
.modal-close{position:absolute;top:18px;right:18px;background:rgba(124,58,237,0.1);border:1.5px solid var(--border);border-radius:50%;width:32px;height:32px;cursor:pointer;color:var(--muted);font-size:14px;display:flex;align-items:center;justify-content:center;transition:all 0.2s;}
.modal-close:hover{border-color:var(--v1);color:var(--v3);}
.modal h2{font-family:'Syne',sans-serif;font-size:26px;font-weight:800;letter-spacing:-0.5px;margin-bottom:6px;background:linear-gradient(135deg,var(--v2),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
.modal-sub{color:var(--muted);font-size:14px;margin-bottom:28px;}
.fg{margin-bottom:16px;}
label{display:block;font-size:11px;font-weight:700;color:var(--v3);margin-bottom:6px;letter-spacing:1px;text-transform:uppercase;}
input,select,textarea{width:100%;padding:12px 16px;background:rgba(5,3,14,0.8);border:1.5px solid var(--border);border-radius:10px;font-family:'Cabinet Grotesk',sans-serif;font-size:15px;color:var(--text);outline:none;transition:all 0.2s;}
input:focus,select:focus,textarea:focus{border-color:var(--v1);box-shadow:0 0 16px rgba(124,58,237,0.1);}
select option{background:var(--s1);}
textarea{resize:vertical;min-height:80px;}
.btn-modal{width:100%;padding:14px;background:linear-gradient(135deg,var(--v1),var(--v2));border:none;border-radius:100px;font-family:'Syne',sans-serif;font-size:15px;font-weight:700;cursor:pointer;color:white;transition:all 0.2s;margin-top:8px;box-shadow:0 0 24px rgba(124,58,237,0.3);}
.btn-modal:hover{box-shadow:0 0 48px rgba(124,58,237,0.5);}
.btn-modal:disabled{opacity:0.4;cursor:not-allowed;}
.modal-switch{text-align:center;margin-top:16px;font-size:14px;color:var(--muted);}
.modal-switch a{color:var(--v3);cursor:pointer;font-weight:600;}
#card-element{background:rgba(5,3,14,0.8);border:1.5px solid var(--border);border-radius:10px;padding:14px;margin-bottom:6px;}
#card-errors{color:#f43f5e;font-size:13px;min-height:18px;margin-bottom:10px;}
.pay-sum{background:rgba(124,58,237,0.08);border:1.5px solid rgba(124,58,237,0.2);border-radius:12px;padding:20px;text-align:center;margin-bottom:20px;}
.pay-plan{font-size:11px;font-weight:700;letter-spacing:2px;color:var(--v3);text-transform:uppercase;margin-bottom:6px;}
.pay-price{font-family:'Syne',sans-serif;font-size:44px;font-weight:800;background:linear-gradient(135deg,var(--v2),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
.pay-period{font-size:13px;color:var(--muted);}

/* â”€â”€ APP â”€â”€ */
#app{display:none;min-height:100vh;background:var(--bg);}
.app-bar{background:rgba(5,3,14,0.95);border-bottom:1px solid var(--border);padding:0 4%;height:66px;display:flex;align-items:center;position:sticky;top:0;z-index:100;backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);}
.app-bar-logo{font-family:'Syne',sans-serif;font-size:18px;font-weight:800;background:linear-gradient(135deg,var(--v2),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-right:20px;white-space:nowrap;}
.app-tabs{display:flex;flex:1;overflow-x:auto;gap:0;}
.app-tab{padding:0 18px;height:66px;display:flex;align-items:center;font-size:13px;font-weight:600;color:var(--muted);cursor:pointer;border-bottom:2px solid transparent;transition:all 0.2s;background:none;border-top:none;border-left:none;border-right:none;font-family:'Cabinet Grotesk',sans-serif;white-space:nowrap;-webkit-appearance:none;touch-action:manipulation;}
.app-tab:hover{color:var(--text);}
.app-tab.active{color:var(--v3);border-bottom-color:var(--v1);}
.app-right{margin-left:auto;display:flex;align-items:center;gap:10px;}
.user-badge{display:flex;align-items:center;gap:8px;background:rgba(124,58,237,0.1);border:1.5px solid var(--border);border-radius:100px;padding:6px 14px;font-size:13px;font-weight:600;}
.plan-tag{background:linear-gradient(135deg,var(--v1),var(--v2));color:white;font-size:10px;font-weight:700;padding:2px 8px;border-radius:100px;letter-spacing:0.5px;}
.btn-out{background:transparent;border:1.5px solid var(--border);border-radius:100px;padding:6px 16px;font-family:'Cabinet Grotesk',sans-serif;font-size:13px;cursor:pointer;color:var(--muted);transition:all 0.2s;-webkit-appearance:none;touch-action:manipulation;}
.btn-out:hover{border-color:#f43f5e;color:#f43f5e;}

.app-content{max-width:1200px;margin:0 auto;padding:48px 4%;}
.tpanel{display:none;animation:fadeUp 0.3s ease;}
.tpanel.active{display:block;}
@keyframes fadeUp{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
.ptitle{font-family:'Syne',sans-serif;font-size:28px;font-weight:800;letter-spacing:-0.5px;background:linear-gradient(135deg,var(--text),var(--v3));-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:6px;}
.psub{color:var(--muted);font-size:15px;margin-bottom:36px;}

/* DASHBOARD CARDS */
.dash-row{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;margin-bottom:28px;}
.d-card{background:var(--s1);border:1.5px solid var(--border);border-radius:16px;padding:24px;transition:all 0.2s;}
.d-card:hover{border-color:rgba(124,58,237,0.3);}
.d-card.featured{background:linear-gradient(135deg,rgba(124,58,237,0.12),rgba(232,121,249,0.06));border-color:rgba(124,58,237,0.3);}
.d-label{font-size:11px;font-weight:700;color:var(--muted);letter-spacing:1px;text-transform:uppercase;margin-bottom:12px;}
.d-num{font-family:'Syne',sans-serif;font-size:30px;font-weight:800;color:var(--text);}
.d-card.featured .d-num{background:linear-gradient(135deg,var(--v2),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
.d-delta{font-size:12px;color:var(--green);margin-top:6px;font-weight:600;}

/* SUBMIT PROJECT */
.submit-box{background:var(--s1);border:1.5px solid var(--border);border-radius:20px;padding:36px;margin-bottom:28px;}
.submit-box h3{font-family:'Syne',sans-serif;font-size:18px;font-weight:700;margin-bottom:6px;}
.submit-box p{color:var(--muted);font-size:14px;margin-bottom:24px;}
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px;}
.btn-submit-big{width:100%;padding:16px;background:linear-gradient(135deg,var(--v1),var(--v2));border:none;border-radius:100px;font-family:'Syne',sans-serif;font-size:15px;font-weight:700;cursor:pointer;color:white;transition:all 0.3s;box-shadow:0 0 24px rgba(124,58,237,0.3);margin-top:8px;}
.btn-submit-big:hover{box-shadow:0 0 48px rgba(124,58,237,0.5);transform:translateY(-1px);}
.btn-submit-big:disabled{opacity:0.4;cursor:not-allowed;transform:none;}

/* OUTPUT */
.output-area{background:rgba(124,58,237,0.05);border:1.5px solid rgba(124,58,237,0.2);border-radius:16px;padding:24px;margin-top:20px;font-size:15px;line-height:1.9;color:var(--text);white-space:pre-wrap;min-height:100px;}
.output-actions{display:flex;gap:10px;margin-top:12px;flex-wrap:wrap;}
.btn-act{padding:9px 22px;border-radius:100px;font-family:'Cabinet Grotesk',sans-serif;font-size:13px;font-weight:700;cursor:pointer;transition:all 0.2s;}
.btn-copy-act{background:linear-gradient(135deg,var(--v1),var(--v2));border:none;color:white;}
.btn-copy-act:hover{box-shadow:0 0 24px rgba(124,58,237,0.4);}
.btn-regen-act{background:transparent;border:1.5px solid var(--border);color:var(--v3);}
.btn-regen-act:hover{border-color:var(--v1);}

/* MY PROJECTS */
.projects-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:16px;}
.proj-card{background:var(--s1);border:1.5px solid var(--border);border-radius:16px;overflow:hidden;transition:all 0.2s;}
.proj-card:hover{border-color:rgba(124,58,237,0.4);transform:translateY(-2px);}
.proj-banner{height:90px;display:flex;align-items:center;justify-content:center;font-size:32px;}
.proj-body{padding:16px 18px;}
.proj-name{font-family:'Syne',sans-serif;font-size:16px;font-weight:700;margin-bottom:4px;}
.proj-cat{font-size:11px;color:var(--v3);font-weight:600;letter-spacing:1px;text-transform:uppercase;margin-bottom:10px;}
.proj-votes{font-size:13px;color:var(--muted);}
.proj-actions{display:flex;gap:8px;margin-top:12px;}
.btn-proj{flex:1;padding:8px;border-radius:100px;font-size:12px;font-weight:700;cursor:pointer;transition:all 0.2s;font-family:'Cabinet Grotesk',sans-serif;}
.btn-proj-view{background:rgba(124,58,237,0.1);border:1.5px solid var(--border);color:var(--v3);}
.btn-proj-view:hover{border-color:var(--v1);}
.empty-state{text-align:center;padding:60px;color:var(--muted);font-size:15px;}
.empty-icon{font-size:40px;margin-bottom:12px;}

/* CHAT */
.chat-wrap{background:var(--s1);border:1.5px solid var(--border);border-radius:20px;overflow:hidden;height:500px;display:flex;flex-direction:column;}
.chat-top{padding:18px 24px;border-bottom:1px solid var(--border);background:rgba(124,58,237,0.05);display:flex;align-items:center;gap:14px;}
.chat-ava{width:38px;height:38px;background:linear-gradient(135deg,var(--v1),var(--pink));border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:16px;}
.chat-name{font-family:'Syne',sans-serif;font-size:15px;font-weight:700;}
.chat-status{font-size:12px;color:var(--green);font-weight:600;}
.chat-body{flex:1;overflow-y:auto;padding:24px;display:flex;flex-direction:column;gap:14px;}
.chat-body::-webkit-scrollbar{width:4px;}
.chat-body::-webkit-scrollbar-thumb{background:var(--v1);border-radius:2px;}
.msg-ai{align-self:flex-start;max-width:78%;}
.msg-user{align-self:flex-end;max-width:78%;}
.bubble-ai{background:var(--s2);border:1.5px solid var(--border);border-radius:4px 18px 18px 18px;padding:12px 16px;font-size:14px;line-height:1.7;color:var(--text);}
.bubble-user{background:linear-gradient(135deg,var(--v1),var(--v2));border-radius:18px 4px 18px 18px;padding:12px 16px;font-size:14px;line-height:1.7;color:white;}
.chat-in-row{padding:14px 18px;border-top:1px solid var(--border);display:flex;gap:8px;}
.chat-input{flex:1;background:rgba(5,3,14,0.6);border:1.5px solid var(--border);border-radius:100px;padding:10px 18px;font-family:'Cabinet Grotesk',sans-serif;font-size:14px;color:var(--text);outline:none;transition:all 0.2s;}
.chat-input:focus{border-color:var(--v1);}
.btn-send{background:linear-gradient(135deg,var(--v1),var(--v2));border:none;border-radius:100px;width:42px;height:42px;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:16px;color:white;transition:all 0.2s;flex-shrink:0;}
.btn-send:hover{box-shadow:0 0 16px rgba(124,58,237,0.4);}

/* UPGRADE */
.upgrade-strip{background:linear-gradient(135deg,rgba(124,58,237,0.1),rgba(232,121,249,0.05));border:1.5px solid rgba(124,58,237,0.25);border-radius:16px;padding:24px 28px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:16px;margin-top:24px;}
.upgrade-strip h4{font-family:'Syne',sans-serif;font-size:16px;font-weight:700;margin-bottom:4px;}
.upgrade-strip p{font-size:13px;color:var(--muted);}

/* â”€â”€ ENGAGEMENT STATS â”€â”€ */
.sc-engagement{display:flex;align-items:center;gap:6px;flex-wrap:wrap;margin-top:12px;padding-top:12px;border-top:1px solid rgba(124,58,237,0.1);}
.btn-engage{background:transparent;border:1.5px solid var(--border);border-radius:100px;padding:4px 12px;font-family:'Cabinet Grotesk',sans-serif;font-size:12px;font-weight:700;cursor:pointer;color:var(--muted);transition:all 0.2s;display:flex;align-items:center;gap:4px;white-space:nowrap;}
.btn-engage:hover{border-color:var(--v1);color:var(--v3);background:var(--glow);}
.btn-engage.liked{border-color:#f43f5e;color:#f43f5e;background:rgba(244,63,94,0.08);}
.btn-engage.faved{border-color:#f59e0b;color:#f59e0b;background:rgba(245,158,11,0.08);}
.btn-engage.shared{border-color:var(--green);color:var(--green);background:rgba(74,222,128,0.08);}
.views-badge{font-size:11px;color:var(--muted);display:flex;align-items:center;gap:3px;padding:4px 8px;}
.sc-url-link{display:block;margin-top:8px;font-size:12px;color:var(--v3);text-decoration:none;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;transition:color 0.2s;}
.sc-url-link:hover{color:var(--pink);text-decoration:underline;}

/* DOTS */
.dots{display:inline-flex;gap:4px;align-items:center;}
.dots span{width:7px;height:7px;border-radius:50%;background:var(--v2);animation:bounce 1.2s ease infinite;}
.dots span:nth-child(2){animation-delay:.2s;}
.dots span:nth-child(3){animation-delay:.4s;}
@keyframes bounce{0%,60%,100%{transform:translateY(0);opacity:.3}30%{transform:translateY(-7px);opacity:1}}

/* â”€â”€ LIVE CHAT â”€â”€ */
.live-msg{display:flex;gap:10px;align-items:flex-start;animation:fadeUp 0.2s ease;}
.live-msg-avatar{width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;color:white;flex-shrink:0;background:linear-gradient(135deg,var(--v1),var(--pink));}
.live-msg-content{flex:1;min-width:0;}
.live-msg-header{display:flex;align-items:center;gap:8px;margin-bottom:3px;}
.live-msg-name{font-size:13px;font-weight:700;color:var(--v3);}
.live-msg-plan{font-size:9px;font-weight:700;padding:2px 7px;border-radius:100px;letter-spacing:0.5px;}
.live-msg-plan.free{background:rgba(107,91,138,0.2);color:var(--muted);}
.live-msg-plan.starter{background:rgba(124,58,237,0.2);color:var(--v2);}
.live-msg-plan.elite{background:rgba(232,121,249,0.2);color:var(--pink);}
.live-msg-time{font-size:11px;color:var(--muted);}
.live-msg-text{font-size:14px;line-height:1.5;word-break:break-word;}
.live-msg-text a{color:var(--v3);}
.user-item{display:flex;align-items:center;gap:8px;padding:8px 10px;border-radius:10px;cursor:pointer;transition:all 0.2s;}
.user-item:hover{background:var(--glow);border:1px solid var(--border);}
.user-item-avatar{width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:700;color:white;flex-shrink:0;}
.user-item-name{font-size:13px;font-weight:600;flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.user-item-dm{font-size:11px;color:var(--v3);opacity:0;transition:opacity 0.2s;}
.user-item:hover .user-item-dm{opacity:1;}
.online-dot{width:7px;height:7px;border-radius:50%;background:var(--green);box-shadow:0 0 6px var(--green);flex-shrink:0;}
/* DM messages */
.dm-msg{display:flex;flex-direction:column;max-width:80%;}
.dm-msg.mine{align-self:flex-end;align-items:flex-end;}
.dm-msg.theirs{align-self:flex-start;align-items:flex-start;}
.dm-bubble{padding:10px 14px;border-radius:16px;font-size:14px;line-height:1.5;word-break:break-word;}
.dm-msg.mine .dm-bubble{background:linear-gradient(135deg,var(--v1),var(--v2));color:white;border-bottom-right-radius:4px;}
.dm-msg.theirs .dm-bubble{background:var(--s2);border:1px solid var(--border);border-bottom-left-radius:4px;}
.dm-time{font-size:10px;color:var(--muted);margin-top:3px;}
/* system messages */
.system-msg{text-align:center;font-size:12px;color:var(--muted);padding:6px 0;font-style:italic;}
@media(max-width:768px){#chat-layout{grid-template-columns:1fr;height:auto;}#chat-layout>div:last-child{display:none;}}


@media(max-width:768px){
  .services-grid,.pricing-grid,.reviews-grid,.showcase-grid,.how-grid{grid-template-columns:1fr;}
  .dash-row{grid-template-columns:repeat(2,1fr);}
  .form-row{grid-template-columns:1fr;}
  .nav-links,.nav-cta{display:none;}
  .hamburger{display:flex;}
  /* App mobile - cacher les tabs, montrer hamburger */
  .app-tabs,.app-right .user-badge,.app-right .btn-out,.app-right .theme-toggle{display:none;}
  .app-right{display:flex;}
  #hamburger-app{display:flex;}
  .counters{flex-direction:column;align-items:center;}
  .counter-item{width:100%;max-width:300px;}
  .proj-modal-stats{grid-template-columns:repeat(2,1fr);}
  #toast-container{bottom:16px;right:16px;left:16px;}
  .toast{min-width:unset;max-width:100%;}
  .btn-engage,.btn-vote,.btn-nav,.btn-hero-primary,.btn-hero-ghost{min-height:44px;}
  .modal{padding:28px 20px;}
  .hero h1{letter-spacing:-1.5px;}
  .mobile-menu{height:100%;height:-webkit-fill-available;}
  .app-content{padding:24px 4%;}
}
</style>
</head>
<body>

<canvas id="particles"></canvas>
<div class="orb o1"></div>
<div class="orb o2"></div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• LANDING â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="landing">

<!-- TOAST CONTAINER -->
<div id="toast-container"></div>

<!-- MOBILE MENU -->
<div class="mobile-menu" id="mobile-menu">
  <a href="#showcase" onclick="closeMobileMenu()">Vitrine</a>
  <a href="#services" onclick="closeMobileMenu()">Services</a>
  <a href="#pricing" onclick="closeMobileMenu()">Tarifs</a>
  <a href="#reviews" onclick="closeMobileMenu()">Avis</a>
  <div class="mobile-menu-btns">
    <button class="btn-nav btn-nav-ghost" onclick="closeMobileMenu();openModal('login-modal')">Connexion</button>
    <button class="btn-nav btn-nav-solid" onclick="closeMobileMenu();openModal('signup-modal')">Commencer â†’</button>
  </div>
</div>

<nav id="navbar">
  <div class="logo">ViralBoost</div>
  <div class="nav-links">
    <a href="#showcase">Vitrine</a>
    <a href="#services">Services</a>
    <a href="#pricing">Tarifs</a>
    <a href="#reviews">Avis</a>
  </div>
  <div class="nav-cta">
    <button class="theme-toggle" onclick="toggleTheme()" id="theme-btn" title="Mode clair/sombre">ğŸŒ™</button>
    <select class="sort-select" id="lang-select" onchange="setLang(this.value)" style="padding:7px 14px;font-size:13px;border-radius:100px;cursor:pointer">
      <option value="fr">ğŸ‡«ğŸ‡· FR</option>
      <option value="en">ğŸ‡¬ğŸ‡§ EN</option>
      <option value="es">ğŸ‡ªğŸ‡¸ ES</option>
    </select>
    <button class="btn-nav btn-nav-ghost" id="btn-login" onclick="openModal('login-modal')">Connexion</button>
    <button class="btn-nav btn-nav-solid" id="btn-signup" onclick="openModal('signup-modal')">Commencer â†’</button>
  </div>
  <button class="hamburger" id="hamburger" onclick="toggleMobileMenu()">
    <span></span><span></span><span></span>
  </button>
</nav>

<!-- HERO -->
<section class="hero">
  <div class="hero-eyebrow"><div class="live-dot"></div> 1 247 projets propulsÃ©s ce mois</div>
  <h1>
    Ton projet mÃ©rite<br>
    <span class="grad">d'Ãªtre vu.</span>
  </h1>
  <p class="hero-sub">ViralBoost combine l'IA et la promotion communautaire pour faire exploser la visibilitÃ© de ton site, app ou compte TikTok. StratÃ©gie, contenu, SEO â€” tout automatisÃ©.</p>
  <div class="hero-btns">
    <button class="btn-hero-primary" onclick="openModal('signup-modal')">Propulser mon projet â†’</button>
    <button class="btn-hero-ghost" onclick="document.getElementById('showcase').scrollIntoView({behavior:'smooth'})">Voir la vitrine</button>
  </div>
  <p class="hero-note">âœ“ 3 boosts gratuits Â· âœ“ Sans carte bancaire Â· âœ“ RÃ©sultats en 24h</p>
  <div class="counters" style="margin-top:64px">
    <div class="counter-item"><div class="c-num" id="c1">0</div><div class="c-label">Projets propulsÃ©s</div></div>
    <div class="counter-item"><div class="c-num" id="c2">0</div><div class="c-label">Vues gÃ©nÃ©rÃ©es</div></div>
    <div class="counter-item"><div class="c-num" id="c3">0</div><div class="c-label">Utilisateurs actifs</div></div>
    <div class="counter-item"><div class="c-num" id="c4">0</div><div class="c-label">Note moyenne</div></div>
  </div>
</section>

<!-- SHOWCASE -->
<section class="showcase-section reveal" id="showcase">
  <div class="sec-header">
    <div class="sec-tag">Vitrine communautaire</div>
    <h2>Les projets <em>mis en avant</em></h2>
    <p class="sec-sub">Vote pour tes projets prÃ©fÃ©rÃ©s. Les plus votÃ©s apparaissent en tÃªte de liste et gagnent en visibilitÃ©.</p>
  </div>
  <div class="showcase-filters">
    <button class="sf-btn active" onclick="filterShowcase(this,'all')">Tous</button>
    <button class="sf-btn" onclick="filterShowcase(this,'site')">ğŸŒ Sites web</button>
    <button class="sf-btn" onclick="filterShowcase(this,'app')">ğŸ“± Apps</button>
    <button class="sf-btn" onclick="filterShowcase(this,'tiktok')">ğŸµ TikTok</button>
    <button class="sf-btn" onclick="filterShowcase(this,'saas')">ğŸš€ SaaS</button>
  </div>
  <div class="search-sort-bar" style="max-width:1200px;margin:0 auto 24px">
    <div class="search-input-wrap"><span class="search-icon">ğŸ”</span><input type="text" id="search-landing" placeholder="Rechercher un projet..." oninput="searchShowcase('showcase-grid',this.value)"/></div>
    <select class="sort-select" onchange="sortShowcase('showcase-grid',this.value)">
      <option value="votes">Trier : Votes</option>
      <option value="views">Trier : Vues</option>
      <option value="likes">Trier : Likes</option>
      <option value="recent">Trier : RÃ©cents</option>
    </select>
  </div>
  <div class="showcase-grid" id="showcase-grid"></div>
</section>

<!-- SERVICES -->
<section class="services-section reveal" id="services">
  <div class="sec-header">
    <div class="sec-tag">Ce qu'on fait pour toi</div>
    <h2>Six services. <em>Un seul outil.</em></h2>
  </div>
  <div class="services-grid">
    <div class="service-card">
      <div class="srv-num">01 â€” SOCIAL</div>
      <div class="srv-icon">ğŸ“±</div>
      <h3>Promo TikTok & Instagram</h3>
      <p>Scripts viraux, calendrier de contenu 30 jours, hashtags optimisÃ©s, stratÃ©gie de croissance personnalisÃ©e â€” tout gÃ©nÃ©rÃ© par l'IA en quelques secondes.</p>
      <span class="srv-tag">IA GÃ©nÃ©rative</span>
    </div>
    <div class="service-card">
      <div class="srv-num">02 â€” SEO</div>
      <div class="srv-icon">ğŸ”</div>
      <h3>RÃ©fÃ©rencement Google</h3>
      <p>Audit SEO complet, plan de mots-clÃ©s ciblÃ©s, articles optimisÃ©s pour Google. L'IA analyse ton secteur et gÃ©nÃ¨re une stratÃ©gie pour apparaÃ®tre en premiÃ¨re page.</p>
      <span class="srv-tag">SEO IA</span>
    </div>
    <div class="service-card">
      <div class="srv-num">03 â€” ADS</div>
      <div class="srv-icon">ğŸ¨</div>
      <h3>CrÃ©ation de publicitÃ©s</h3>
      <p>Textes publicitaires Facebook Ads, Google Ads, TikTok Ads. L'IA gÃ©nÃ¨re des accroches, descriptions et call-to-actions qui convertissent.</p>
      <span class="srv-tag">Copywriting IA</span>
    </div>
    <div class="service-card">
      <div class="srv-num">04 â€” EMAIL</div>
      <div class="srv-icon">ğŸ“§</div>
      <h3>Email marketing automatisÃ©</h3>
      <p>SÃ©quences d'emails de bienvenue, relance, promotion. L'IA rÃ©dige des emails personnalisÃ©s qui convertissent et fidÃ©lisent ton audience.</p>
      <span class="srv-tag">Automatisation</span>
    </div>
    <div class="service-card">
      <div class="srv-num">05 â€” STRATÃ‰GIE</div>
      <div class="srv-icon">ğŸ“Š</div>
      <h3>StratÃ©gie complÃ¨te 90 jours</h3>
      <p>Plan de croissance complet : objectifs, canaux Ã  prioriser, actions semaine par semaine. L'IA analyse ton projet et crÃ©e une roadmap sur-mesure.</p>
      <span class="srv-tag">Roadmap IA</span>
    </div>
    <div class="service-card">
      <div class="srv-num">06 â€” VITRINE</div>
      <div class="srv-icon">ğŸš€</div>
      <h3>Exposition communautaire</h3>
      <p>Ton projet affichÃ© sur notre vitrine publique. Des milliers de visiteurs peuvent le dÃ©couvrir, voter pour lui et partager. Une visibilitÃ© organique rÃ©elle.</p>
      <span class="srv-tag">Community</span>
    </div>
  </div>
</section>

<!-- HOW IT WORKS -->
<section class="how-section">
  <div class="sec-header">
    <div class="sec-tag">Comment Ã§a marche</div>
    <h2>PrÃªt en <em>5 minutes.</em></h2>
  </div>
  <div class="how-grid">
    <div class="how-step" data-num="01">
      <div class="how-icon">ğŸ“</div>
      <h3>DÃ©cris ton projet</h3>
      <p class="how-desc" style="color:var(--muted);font-size:14px;line-height:1.7;margin-top:8px">Remplis le brief en 2 minutes : ton projet, ta cible, tes objectifs. Plus c'est prÃ©cis, meilleur c'est.</p>
    </div>
    <div class="how-step" data-num="02">
      <div class="how-icon">ğŸ¤–</div>
      <h3>L'IA gÃ©nÃ¨re tout</h3>
      <p class="how-desc" style="color:var(--muted);font-size:14px;line-height:1.7;margin-top:8px">En 10 secondes, l'IA crÃ©e ta stratÃ©gie complÃ¨te : contenus, SEO, emails, pubs. PrÃªt Ã  copier-coller.</p>
    </div>
    <div class="how-step" data-num="03">
      <div class="how-icon">ğŸŒ</div>
      <h3>Ton projet est exposÃ©</h3>
      <p class="how-desc" style="color:var(--muted);font-size:14px;line-height:1.7;margin-top:8px">Tu apparais dans notre vitrine communautaire. La communautÃ© vote, partage et dÃ©couvre ton projet.</p>
    </div>
    <div class="how-step" data-num="04">
      <div class="how-icon">ğŸ“ˆ</div>
      <h3>Tu vois les rÃ©sultats</h3>
      <p class="how-desc" style="color:var(--muted);font-size:14px;line-height:1.7;margin-top:8px">Suis tes votes, vues et clics. Ajuste ta stratÃ©gie avec le coach IA en temps rÃ©el.</p>
    </div>
  </div>
</section>

<!-- REVIEWS -->
<section class="reviews-section reveal" id="reviews">
  <div class="sec-header">
    <div class="sec-tag">Ils nous font confiance</div>
    <h2>Des rÃ©sultats <em>concrets</em></h2>
  </div>
  <div class="reviews-grid">
    <div class="rev-card">
      <div class="rev-stars">â˜…â˜…â˜…â˜…â˜…</div>
      <p class="rev-text">Â« ViralBoost a gÃ©nÃ©rÃ© <strong>ma stratÃ©gie TikTok complÃ¨te en 30 secondes</strong>. RÃ©sultat : +45 000 followers en 6 semaines. Je n'aurais jamais trouvÃ© Ã§a seul. Â»</p>
      <div class="rev-author"><div class="rev-ava" style="background:linear-gradient(135deg,#7c3aed,#e040fb)">LM</div><div><div class="rev-name">Lucas M.</div><div class="rev-handle">CrÃ©ateur fitness Â· 142K abonnÃ©s</div><div class="rev-result">+45K followers en 6 semaines</div></div></div>
    </div>
    <div class="rev-card">
      <div class="rev-stars">â˜…â˜…â˜…â˜…â˜…</div>
      <p class="rev-text">Â« Mon app a reÃ§u <strong>1 200 votes sur la vitrine en 2 jours</strong>. Du trafic organique que je n'aurais jamais eu autrement. Le systÃ¨me de votes c'est du gÃ©nie. Â»</p>
      <div class="rev-author"><div class="rev-ava" style="background:linear-gradient(135deg,#2563eb,#7c3aed)">KA</div><div><div class="rev-name">Karim A.</div><div class="rev-handle">Fondateur SaaS Â· Paris</div><div class="rev-result">1 200 votes Â· 8 400 vues</div></div></div>
    </div>
    <div class="rev-card">
      <div class="rev-stars">â˜…â˜…â˜…â˜…â˜…</div>
      <p class="rev-text">Â« La stratÃ©gie SEO gÃ©nÃ©rÃ©e par l'IA m'a permis de <strong>passer de la page 8 Ã  la page 1 Google</strong> en 3 mois. Incroyable pour 29â‚¬/mois. Â»</p>
      <div class="rev-author"><div class="rev-ava" style="background:linear-gradient(135deg,#059669,#2563eb)">SB</div><div><div class="rev-name">Sophie B.</div><div class="rev-handle">E-commerce Â· Lyon</div><div class="rev-result">Page 1 Google Â· +280% trafic</div></div></div>
    </div>
    <div class="rev-card">
      <div class="rev-stars">â˜…â˜…â˜…â˜…â˜…</div>
      <p class="rev-text">Â« Les sÃ©quences emails gÃ©nÃ©rÃ©es <strong>convertissent Ã  34%</strong>. Avant je galÃ©rais Ã  Ã©crire un seul email. Maintenant j'ai une sÃ©quence complÃ¨te en 2 minutes. Â»</p>
      <div class="rev-author"><div class="rev-ava" style="background:linear-gradient(135deg,#d97706,#dc2626)">NL</div><div><div class="rev-name">Nicolas L.</div><div class="rev-handle">Formateur en ligne Â· Bordeaux</div><div class="rev-result">34% taux de conversion email</div></div></div>
    </div>
    <div class="rev-card">
      <div class="rev-stars">â˜…â˜…â˜…â˜…â˜…</div>
      <p class="rev-text">Â« Mon compte Instagram est passÃ© de <strong>800 Ã  28 000 abonnÃ©s</strong> en 4 mois en suivant la stratÃ©gie ViralBoost. Le calendrier de contenu est parfait. Â»</p>
      <div class="rev-author"><div class="rev-ava" style="background:linear-gradient(135deg,#be185d,#7c3aed)">AM</div><div><div class="rev-name">Amina M.</div><div class="rev-handle">Photographe Â· Marseille</div><div class="rev-result">800 â†’ 28K Instagram</div></div></div>
    </div>
    <div class="rev-card">
      <div class="rev-stars">â˜…â˜…â˜…â˜…â˜…</div>
      <p class="rev-text">Â« Pour un crÃ©ateur solo comme moi, <strong>ViralBoost remplace une vraie agence</strong>. J'ai tout : stratÃ©gie, contenu, pub, SEO. Et Ã§a coÃ»te 100x moins cher. Â»</p>
      <div class="rev-author"><div class="rev-ava" style="background:linear-gradient(135deg,#0284c7,#059669)">RP</div><div><div class="rev-name">RÃ©mi P.</div><div class="rev-handle">DÃ©veloppeur indie Â· Nantes</div><div class="rev-result">3 apps propulsÃ©es via ViralBoost</div></div></div>
    </div>
  </div>
</section>

<!-- PRICING -->
<section class="pricing-section reveal" id="pricing">
  <div class="sec-header">
    <div class="sec-tag">Tarifs</div>
    <h2>Simple. <em>Transparent.</em></h2>
    <p class="sec-sub">Commence gratuitement. Passe au Pro quand tu vois les rÃ©sultats.</p>
  </div>
  <div class="pricing-grid">
    <div class="price-card">
      <div class="price-plan">Gratuit</div>
      <div class="price-num">0â‚¬</div>
      <div class="price-per">pour toujours</div>
      <div class="price-desc">Pour tester et dÃ©couvrir ViralBoost sans risque.</div>
      <ul class="price-feats">
        <li>3 stratÃ©gies IA/mois</li>
        <li>Vitrine publique (1 projet)</li>
        <li>Coach IA (5 messages/jour)</li>
        <li>AccÃ¨s communautÃ©</li>
      </ul>
      <button class="btn-plan btn-plan-outline" onclick="openModal('signup-modal')">Commencer gratuitement</button>
    </div>
    <div class="price-card hot">
      <div class="price-plan">Starter</div>
      <div class="price-num">29â‚¬</div>
      <div class="price-per">/mois Â· sans engagement</div>
      <div class="price-desc">Pour les crÃ©ateurs qui veulent des rÃ©sultats concrets rapidement.</div>
      <ul class="price-feats">
        <li>30 stratÃ©gies IA/mois</li>
        <li>Vitrine prioritaire (3 projets)</li>
        <li>Coach IA illimitÃ©</li>
        <li>GÃ©nÃ©rateur de pubs</li>
        <li>SÃ©quences email</li>
        <li>BanniÃ¨re rotative landing</li>
      </ul>
      <button class="btn-plan btn-plan-solid" onclick="startSub('starter')">Commencer Starter â†’</button>
    </div>
    <div class="price-card">
      <div class="price-plan">Elite</div>
      <div class="price-num">79â‚¬</div>
      <div class="price-per">/mois Â· sans engagement</div>
      <div class="price-desc">Pour les projets ambitieux qui veulent dominer leur marchÃ©.</div>
      <ul class="price-feats">
        <li>StratÃ©gies IA illimitÃ©es</li>
        <li>Vitrine en tÃªte de liste</li>
        <li>Tous les services dÃ©bloquÃ©s</li>
        <li>StratÃ©gie 90 jours complÃ¨te</li>
        <li>Support dÃ©diÃ© direct</li>
        <li>Badge "Elite" sur la vitrine</li>
      </ul>
      <button class="btn-plan btn-plan-outline" onclick="startSub('elite')">Commencer Elite â†’</button>
    </div>
  </div>
</section>

<!-- CTA -->
<section class="cta-section">
  <div class="sec-tag">Rejoins 1 200+ projets</div>
  <h2>Ton projet mÃ©rite<br><em>d'Ãªtre vu.</em></h2>
  <p>Commence gratuitement. 3 boosts offerts. Aucune carte bancaire requise.</p>
  <button class="btn-hero-primary" onclick="openModal('signup-modal')">Propulser mon projet maintenant â†’</button>
</section>

<footer>
  <div class="footer-logo">ViralBoost</div>
  <p>Â© 2025 ViralBoost â€” Tous droits rÃ©servÃ©s Â· L'IA au service de ta visibilitÃ©</p>
  <p>Paiements sÃ©curisÃ©s Stripe Â· IA Claude by Anthropic</p>
</footer>

</div><!-- /landing -->


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• APP â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->

<!-- MENU MOBILE APP -->
<div class="mobile-menu" id="mobile-menu-app">
  <div style="font-size:13px;color:var(--muted);font-weight:700;letter-spacing:2px;text-transform:uppercase;margin-bottom:8px" id="app-menu-user">ğŸ‘¤ Utilisateur</div>
  <button onclick="closeMobileMenuApp();showTab('dashboard',null)">ğŸ  Dashboard</button>
  <button onclick="closeMobileMenuApp();showTab('boost',null)">ğŸš€ Booster</button>
  <button onclick="closeMobileMenuApp();showTab('projects',null)">ğŸŒ Mes projets</button>
  <button onclick="closeMobileMenuApp();showTab('showcase',null)">âœ¨ Vitrine</button>
  <button onclick="closeMobileMenuApp();showTab('coach',null)">ğŸ¤– Coach IA</button>
  <button onclick="closeMobileMenuApp();showTab('livechat',null)">ğŸ’¬ Live Chat</button>
  <button onclick="closeMobileMenuApp();showTab('history',null)">ğŸ“‹ Historique</button>
  <div class="mobile-menu-btns">
    <button class="btn-nav btn-nav-ghost" style="font-size:14px" onclick="closeMobileMenuApp();toggleTheme()">ğŸŒ™ Mode clair/sombre</button>
    <button class="btn-nav" style="background:linear-gradient(135deg,#dc2626,#f43f5e);border:none;color:white;font-size:14px" onclick="closeMobileMenuApp();logout()">ğŸšª DÃ©connexion</button>
  </div>
</div>

<div id="app">
  <div class="app-bar">
    <div class="app-bar-logo">ViralBoost</div>
    <div class="app-tabs">
      <button class="app-tab active" onclick="showTab('dashboard',this)">ğŸ  Dashboard</button>
      <button class="app-tab" onclick="showTab('boost',this)">ğŸš€ Booster</button>
      <button class="app-tab" onclick="showTab('projects',this)">ğŸŒ Mes projets</button>
      <button class="app-tab" onclick="showTab('showcase',this)">âœ¨ Vitrine</button>
      <button class="app-tab" onclick="showTab('coach',this)">ğŸ¤– Coach IA</button>
      <button class="app-tab" onclick="showTab('livechat',this)" id="tab-btn-livechat">ğŸ’¬ Live Chat</button>
      <button class="app-tab" onclick="showTab('history',this)">ğŸ“‹ Historique</button>
    </div>
    <div class="app-right">
      <button class="theme-toggle" onclick="toggleTheme()" id="theme-btn-app" title="Mode clair/sombre">ğŸŒ™</button>
      <div class="user-badge">ğŸ‘¤ <span id="app-username">Utilisateur</span> <span class="plan-tag" id="app-plan">FREE</span></div>
      <button class="btn-out" onclick="logout()">DÃ©connexion</button>
    </div>
    <button class="hamburger" id="hamburger-app" style="display:none" onclick="toggleMobileMenuApp()">
      <span></span><span></span><span></span>
    </button>
  </div>

  <div class="app-content">

    <!-- DASHBOARD -->
    <div class="tpanel active" id="tab-dashboard">
      <div class="ptitle">Bonjour, <span id="dash-name"></span> ğŸ‘‹</div>
      <p class="psub">Voici l'Ã©tat de ta prÃ©sence digitale.</p>
      <div class="dash-row">
        <div class="d-card featured"><div class="d-label">Boosts restants</div><div class="d-num" id="stat-boosts">3</div><div class="d-delta">Ce mois</div></div>
        <div class="d-card"><div class="d-label">Projets actifs</div><div class="d-num" id="stat-projects">0</div><div class="d-delta" style="color:var(--muted)">Sur la vitrine</div></div>
        <div class="d-card"><div class="d-label">Votes reÃ§us</div><div class="d-num" id="stat-votes">0</div><div class="d-delta">â†‘ CommunautÃ©</div></div>
        <div class="d-card"><div class="d-label">Plan actuel</div><div class="d-num" id="stat-plan" style="font-size:20px;margin-top:4px">FREE</div><div class="d-delta" style="color:var(--muted)">ViralBoost</div></div>
      </div>

      <!-- FEATURED PROJECTS ON DASHBOARD -->
      <div class="submit-box" style="padding:24px">
        <h3>ğŸ† Top projets de la semaine</h3>
        <p style="margin-bottom:16px">Les projets les plus votÃ©s par la communautÃ© ViralBoost.</p>
        <div id="dash-top" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:12px"></div>
      </div>

      <div class="upgrade-strip">
        <div><h4>Passe au plan Starter ğŸš€</h4><p>30 boosts/mois Â· vitrine prioritaire Â· coach IA illimitÃ© Â· 29â‚¬/mois</p></div>
        <button class="btn-hero-primary" style="padding:12px 28px;font-size:14px" onclick="startSub('starter')">Upgrade â†’</button>
      </div>
    </div>

    <!-- BOOST -->
    <div class="tpanel" id="tab-boost">
      <div class="ptitle">ğŸš€ Booster mon projet</div>
      <p class="psub">DÃ©cris ton projet et l'IA gÃ©nÃ¨re ta stratÃ©gie complÃ¨te en 10 secondes.</p>

      <div class="submit-box">
        <h3>Choisis ton service</h3>
        <p>SÃ©lectionne le type de stratÃ©gie que tu veux gÃ©nÃ©rer.</p>
        <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:10px;margin-bottom:24px" id="service-picker">
          <div class="sf-btn active" style="padding:12px;text-align:center;border-radius:12px;cursor:pointer" onclick="pickService(this,'social')">ğŸ“±<br>TikTok/Instagram</div>
          <div class="sf-btn" style="padding:12px;text-align:center;border-radius:12px;cursor:pointer" onclick="pickService(this,'seo')">ğŸ”<br>SEO Google</div>
          <div class="sf-btn" style="padding:12px;text-align:center;border-radius:12px;cursor:pointer" onclick="pickService(this,'ads')">ğŸ¨<br>PublicitÃ©s</div>
          <div class="sf-btn" style="padding:12px;text-align:center;border-radius:12px;cursor:pointer" onclick="pickService(this,'email')">ğŸ“§<br>Email marketing</div>
          <div class="sf-btn" style="padding:12px;text-align:center;border-radius:12px;cursor:pointer" onclick="pickService(this,'strategy')">ğŸ“Š<br>StratÃ©gie 90j</div>
          <div class="sf-btn" style="padding:12px;text-align:center;border-radius:12px;cursor:pointer" onclick="pickService(this,'showcase')">ğŸŒ<br>Ajouter vitrine</div>
        </div>

        <div class="form-row">
          <div class="fg"><label>Nom de ton projet</label><input type="text" id="b-name" placeholder="Ex: ContentPro, Mon app fitness..."/></div>
          <div class="fg"><label>Type de projet</label>
            <select id="b-type">
              <option value="site">ğŸŒ Site web</option>
              <option value="app">ğŸ“± Application</option>
              <option value="saas">ğŸš€ SaaS</option>
              <option value="tiktok">ğŸµ Compte TikTok</option>
              <option value="instagram">ğŸ“¸ Compte Instagram</option>
              <option value="ecommerce">ğŸ›ï¸ E-commerce</option>
            </select>
          </div>
        </div>
        <div class="form-row">
          <div class="fg"><label>URL / lien</label><input type="text" id="b-url" placeholder="https://..."/></div>
          <div class="fg"><label>Ta cible</label><input type="text" id="b-target" placeholder="Ex: Traders dÃ©butants, crÃ©ateurs 18-25 ans..."/></div>
        </div>
        <div class="fg"><label>DÃ©cris ton projet et tes objectifs</label>
          <textarea id="b-desc" rows="3" placeholder="Ex: Je veux promouvoir mon SaaS de trading IA, ciblant les traders crypto franÃ§ais. Objectif: 100 abonnÃ©s en 30 jours..."></textarea>
        </div>
        <button class="btn-submit-big" id="btn-boost" onclick="generateBoost()">âš¡ GÃ©nÃ©rer ma stratÃ©gie</button>

        <div id="boost-output" style="display:none">
          <div class="output-area" id="boost-text"></div>
          <div class="output-actions">
            <button class="btn-act btn-copy-act" onclick="copyBoost()">ğŸ“‹ Copier la stratÃ©gie</button>
            <button class="btn-act btn-regen-act" onclick="generateBoost()">â†» RegÃ©nÃ©rer</button>
            <button class="btn-act btn-copy-act" style="background:linear-gradient(135deg,#059669,#0284c7)" onclick="addToShowcase()">ğŸŒ Ajouter Ã  la vitrine</button>
          </div>
        </div>
      </div>
    </div>

    <!-- MY PROJECTS -->
    <div class="tpanel" id="tab-projects">
      <div class="ptitle">ğŸŒ Mes projets</div>
      <p class="psub">Tous tes projets sur la vitrine ViralBoost.</p>
      <div class="projects-grid" id="projects-grid">
        <div class="empty-state"><div class="empty-icon">ğŸš€</div>Aucun projet encore.<br>Booste ton premier projet !</div>
      </div>
    </div>

    <!-- SHOWCASE APP -->
    <div class="tpanel" id="tab-showcase">
      <div class="ptitle">âœ¨ Vitrine communautaire</div>
      <p class="psub">DÃ©couvrez et votez pour les projets de la communautÃ© ViralBoost.</p>
      <div class="showcase-filters" style="justify-content:flex-start;margin-bottom:16px">
        <button class="sf-btn active" onclick="filterApp(this,'all')">Tous</button>
        <button class="sf-btn" onclick="filterApp(this,'site')">ğŸŒ Sites</button>
        <button class="sf-btn" onclick="filterApp(this,'app')">ğŸ“± Apps</button>
        <button class="sf-btn" onclick="filterApp(this,'tiktok')">ğŸµ TikTok</button>
        <button class="sf-btn" onclick="filterApp(this,'saas')">ğŸš€ SaaS</button>
      </div>
      <div class="search-sort-bar" style="margin-bottom:20px">
        <div class="search-input-wrap"><span class="search-icon">ğŸ”</span><input type="text" id="search-app" placeholder="Rechercher un projet..." oninput="searchShowcase('app-showcase-grid',this.value)"/></div>
        <select class="sort-select" onchange="sortShowcase('app-showcase-grid',this.value)">
          <option value="votes">Trier : Votes</option>
          <option value="views">Trier : Vues</option>
          <option value="likes">Trier : Likes</option>
          <option value="recent">Trier : RÃ©cents</option>
        </select>
      </div>
      <div class="showcase-grid" id="app-showcase-grid"></div>
    </div>

    <!-- COACH -->
    <div class="tpanel" id="tab-coach">
      <div class="ptitle">ğŸ¤– Coach IA Promotion</div>
      <p class="psub">Ton expert en croissance digitale disponible 24h/24.</p>
      <div class="chat-wrap">
        <div class="chat-top">
          <div class="chat-ava">ğŸ¤–</div>
          <div>
            <div class="chat-name">Coach ViralBoost</div>
            <div class="chat-status">â— En ligne Â· RÃ©pond en quelques secondes</div>
          </div>
        </div>
        <div class="chat-body" id="chat-msgs">
          <div class="msg-ai"><div class="bubble-ai" data-i18n-html="coach_greeting">Salut ! Je suis ton coach IA spÃ©cialisÃ© en croissance digitale et promotion. ğŸš€<br><br>Je peux t'aider avec <strong>TikTok, Instagram, SEO, publicitÃ©s, email marketing, stratÃ©gie de contenu</strong> â€” et bien plus.<br><br>Parle-moi de ton projet et je te donne des conseils personnalisÃ©s !</div></div>
        </div>
        <div class="chat-in-row">
          <input class="chat-input" id="coach-in" type="text" placeholder="Ex: Comment faire mes premiers 10 000 abonnÃ©s TikTok ?" onkeydown="if(event.key==='Enter')sendCoach()"/>
          <button class="btn-send" onclick="sendCoach()">â†’</button>
        </div>
      </div>
    </div>

    <!-- LIVE CHAT -->
    <div class="tpanel" id="tab-livechat">
      <div class="ptitle">ğŸ’¬ <span data-i18n="livechat_title">Live Chat</span></div>
      <p class="psub" data-i18n="livechat_sub">Discutez en temps rÃ©el avec tous les membres ViralBoost.</p>
      <div style="display:grid;grid-template-columns:1fr 280px;gap:20px;height:600px" id="chat-layout">
        <!-- Main chat -->
        <div class="chat-wrap" style="display:flex;flex-direction:column;height:600px">
          <div class="chat-top" style="justify-content:space-between">
            <div style="display:flex;align-items:center;gap:10px">
              <div class="live-dot" style="width:9px;height:9px"></div>
              <div>
                <div class="chat-name" data-i18n="livechat_room">Salle communautaire</div>
                <div class="chat-status" id="online-count">â— 0 en ligne</div>
              </div>
            </div>
          </div>
          <div class="chat-body" id="live-msgs" style="flex:1;overflow-y:auto"></div>
          <div id="live-typing" style="font-size:12px;color:var(--muted);padding:4px 16px;min-height:20px"></div>
          <div class="chat-in-row">
            <input class="chat-input" id="live-in" type="text" placeholder="Message..." maxlength="500" onkeydown="if(event.key==='Enter')sendLiveMsg()" oninput="sendTyping()"/>
            <button class="btn-send" onclick="sendLiveMsg()">â†’</button>
          </div>
        </div>
        <!-- Users sidebar -->
        <div style="background:var(--s1);border:1.5px solid var(--border);border-radius:16px;overflow:hidden;display:flex;flex-direction:column">
          <div style="padding:14px 16px;border-bottom:1px solid var(--border);font-size:12px;font-weight:700;color:var(--v3);letter-spacing:1px;text-transform:uppercase" data-i18n="online_users">Membres en ligne</div>
          <div id="users-list" style="flex:1;overflow-y:auto;padding:8px"></div>
        </div>
      </div>
    </div>

    <!-- HISTORY -->
    <div class="tpanel" id="tab-history">
      <div class="ptitle">ğŸ“‹ Historique des boosts</div>
      <p class="psub">Tous tes boosts gÃ©nÃ©rÃ©s avec ViralBoost.</p>
      <div id="history-list-container">
        <div class="empty-state"><div class="empty-icon">ğŸ“‹</div>Aucun boost encore.<br>Lance ta premiÃ¨re stratÃ©gie !</div>
      </div>
    </div>

  </div>
</div>

<!-- DM MODAL -->
<div class="modal-bg" id="dm-modal">
  <div class="modal" style="max-width:500px;padding:0;overflow:hidden;display:flex;flex-direction:column;height:560px">
    <div style="padding:20px 24px;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:12px">
      <div id="dm-avatar" style="width:38px;height:38px;border-radius:50%;background:linear-gradient(135deg,var(--v1),var(--pink));display:flex;align-items:center;justify-content:center;font-size:16px">ğŸ‘¤</div>
      <div>
        <div style="font-weight:700;font-size:15px" id="dm-username">Utilisateur</div>
        <div style="font-size:12px;color:var(--muted)" id="dm-status">En ligne</div>
      </div>
      <button class="modal-close" style="position:static;margin-left:auto" onclick="closeModal('dm-modal')">âœ•</button>
    </div>
    <div id="dm-msgs" style="flex:1;overflow-y:auto;padding:16px;display:flex;flex-direction:column;gap:8px"></div>
    <div id="dm-typing-ind" style="font-size:12px;color:var(--muted);padding:4px 16px;min-height:18px"></div>
    <div style="padding:12px 16px;border-top:1px solid var(--border);display:flex;gap:8px">
      <input class="chat-input" id="dm-in" type="text" placeholder="Message privÃ©..." maxlength="500" onkeydown="if(event.key==='Enter')sendDM()" oninput="sendDMTyping()" style="flex:1"/>
      <button class="btn-send" onclick="sendDM()">â†’</button>
    </div>
  </div>
</div>

<!-- PROJECT DETAIL MODAL -->
<div class="modal-bg" id="proj-detail-modal">
  <div class="modal" style="max-width:560px">
    <button class="modal-close" onclick="closeModal('proj-detail-modal')">âœ•</button>
    <div class="proj-modal-banner" id="pdm-banner">ğŸš€</div>
    <h2 id="pdm-name">Projet</h2>
    <div class="modal-sub" id="pdm-type"></div>
    <div class="proj-modal-stats">
      <div class="proj-stat"><div class="proj-stat-num" id="pdm-views">0</div><div class="proj-stat-label">ğŸ‘ Vues</div></div>
      <div class="proj-stat"><div class="proj-stat-num" id="pdm-likes">0</div><div class="proj-stat-label">â¤ï¸ Likes</div></div>
      <div class="proj-stat"><div class="proj-stat-num" id="pdm-favs">0</div><div class="proj-stat-label">â­ Favoris</div></div>
      <div class="proj-stat"><div class="proj-stat-num" id="pdm-votes">0</div><div class="proj-stat-label">â–² Votes</div></div>
    </div>
    <div id="pdm-url" style="margin:8px 0"></div>
    <div style="font-size:12px;font-weight:700;color:var(--v3);letter-spacing:1px;text-transform:uppercase;margin-top:16px;margin-bottom:6px">StratÃ©gie gÃ©nÃ©rÃ©e</div>
    <div class="proj-strategy" id="pdm-strategy">Aucune stratÃ©gie enregistrÃ©e.</div>
    <div style="display:flex;gap:10px;margin-top:16px;flex-wrap:wrap">
      <button class="btn-pdf" onclick="exportPDF()" id="pdm-pdf-btn">ğŸ“„ Exporter en PDF</button>
      <button class="btn-act btn-regen-act" onclick="copyStrategy()" style="flex:1">ğŸ“‹ Copier la stratÃ©gie</button>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• MODALS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->

<!-- SIGNUP -->
<div class="modal-bg" id="signup-modal">
  <div class="modal">
    <button class="modal-close" onclick="closeModal('signup-modal')">âœ•</button>
    <h2>CrÃ©er un compte</h2>
    <div class="modal-sub">3 boosts gratuits Â· Vitrine publique Â· Sans CB</div>
    <div class="fg"><label>PrÃ©nom</label><input type="text" id="s-name" placeholder="Marie"/></div>
    <div class="fg"><label>Email</label><input type="email" id="s-email" placeholder="marie@exemple.fr"/></div>
    <div class="fg"><label>Mot de passe</label><input type="password" id="s-pass" placeholder="8 caractÃ¨res minimum"/></div>
    <div class="fg"><label>Type de projet principal</label>
      <select id="s-type">
        <option value="">SÃ©lectionne...</option>
        <option>Site web</option><option>Application</option><option>SaaS</option>
        <option>Compte TikTok</option><option>Compte Instagram</option><option>E-commerce</option><option>Autre</option>
      </select>
    </div>
    <button class="btn-modal" onclick="signup()">CrÃ©er mon compte â†’</button>
    <div class="modal-switch">DÃ©jÃ  inscrit ? <a onclick="switchModal('signup-modal','login-modal')">Se connecter</a></div>
  </div>
</div>

<!-- LOGIN -->
<div class="modal-bg" id="login-modal">
  <div class="modal">
    <button class="modal-close" onclick="closeModal('login-modal')">âœ•</button>
    <h2>Connexion</h2>
    <div class="modal-sub">Content de te revoir sur ViralBoost !</div>
    <div class="fg"><label>Email</label><input type="email" id="l-email" placeholder="marie@exemple.fr"/></div>
    <div class="fg"><label>Mot de passe</label><input type="password" id="l-pass" placeholder="Ton mot de passe"/></div>
    <button class="btn-modal" onclick="login()">Se connecter â†’</button>
    <div class="modal-switch">Pas de compte ? <a onclick="switchModal('login-modal','signup-modal')">S'inscrire gratuitement</a></div>
  </div>
</div>

<!-- PAYMENT -->
<div class="modal-bg" id="payment-modal">
  <div class="modal">
    <button class="modal-close" onclick="closeModal('payment-modal')">âœ•</button>
    <h2>Abonnement</h2>
    <div class="modal-sub">Sans engagement Â· Annulable Ã  tout moment</div>
    <div class="pay-sum">
      <div class="pay-plan" id="pay-plan-label">STARTER</div>
      <div class="pay-price" id="pay-plan-price">29â‚¬</div>
      <div class="pay-period">/mois</div>
    </div>
    <div id="card-element"></div>
    <div id="card-errors"></div>
    <button class="btn-modal" id="btn-sub" onclick="processSub()">ğŸ”’ S'abonner maintenant</button>
    <div style="text-align:center;margin-top:10px;font-size:12px;color:var(--muted)">ğŸ”’ SSL Â· Stripe certifiÃ© Â· Sans engagement</div>
  </div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• JS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<script>
const CONFIG = { stripePublicKey:'pk_test_VOTRE_CLE_STRIPE_ICI', apiEndpoint:'/api' };
let currentUser=null, stripe, cardElement, pendingPlan='', chatHistory=[], selectedService='social';
let currentFilter={landing:'all',app:'all'}, boostHistory=[], currentProjDetail=null;
let ws=null, currentLang='fr', dmTarget=null, typingTimer=null, dmTypingTimer=null;

// â”€â”€ i18n â”€â”€
const i18n={
  fr:{
    livechat_title:'Live Chat',livechat_sub:'Discutez en temps rÃ©el avec tous les membres ViralBoost.',
    livechat_room:'Salle communautaire',online_users:'Membres en ligne',
    btn_login:'Connexion',btn_signup:'Commencer â†’',
    coach_greeting:'Salut ! Je suis ton coach IA spÃ©cialisÃ© en croissance digitale et promotion. ğŸš€<br><br>Je peux t\'aider avec <strong>TikTok, Instagram, SEO, publicitÃ©s, email marketing, stratÃ©gie de contenu</strong> â€” et bien plus.<br><br>Parle-moi de ton projet et je te donne des conseils personnalisÃ©s !',
    send_dm:'Envoyer un DM',online_label:'en ligne',joined:' a rejoint le chat',left:' a quittÃ© le chat',
    dm_placeholder:'Message privÃ©...',chat_placeholder:'Message...',
  },
  en:{
    livechat_title:'Live Chat',livechat_sub:'Chat in real-time with all ViralBoost members.',
    livechat_room:'Community room',online_users:'Online members',
    btn_login:'Login',btn_signup:'Get started â†’',
    coach_greeting:'Hi! I\'m your AI coach specializing in digital growth and promotion. ğŸš€<br><br>I can help you with <strong>TikTok, Instagram, SEO, ads, email marketing, content strategy</strong> â€” and much more.<br><br>Tell me about your project and I\'ll give you personalized advice!',
    send_dm:'Send DM',online_label:'online',joined:' joined the chat',left:' left the chat',
    dm_placeholder:'Private message...',chat_placeholder:'Message...',
  },
  es:{
    livechat_title:'Chat en Vivo',livechat_sub:'Chatea en tiempo real con todos los miembros de ViralBoost.',
    livechat_room:'Sala comunitaria',online_users:'Miembros en lÃ­nea',
    btn_login:'Iniciar sesiÃ³n',btn_signup:'Empezar â†’',
    coach_greeting:'Â¡Hola! Soy tu coach de IA especializado en crecimiento digital y promociÃ³n. ğŸš€<br><br>Puedo ayudarte con <strong>TikTok, Instagram, SEO, anuncios, email marketing, estrategia de contenido</strong> â€” y mucho mÃ¡s.<br><br>Â¡CuÃ©ntame sobre tu proyecto y te darÃ© consejos personalizados!',
    send_dm:'Enviar DM',online_label:'en lÃ­nea',joined:' se uniÃ³ al chat',left:' dejÃ³ el chat',
    dm_placeholder:'Mensaje privado...',chat_placeholder:'Mensaje...',
  }
};

function t(key){return (i18n[currentLang]||i18n.fr)[key]||key;}

function setLang(lang){
  currentLang=lang;
  localStorage.setItem('vb_lang',lang);
  document.querySelectorAll('[data-i18n]').forEach(el=>{
    const key=el.getAttribute('data-i18n');
    if(i18n[lang]&&i18n[lang][key])el.textContent=i18n[lang][key];
  });
  document.querySelectorAll('[data-i18n-html]').forEach(el=>{
    const key=el.getAttribute('data-i18n-html');
    if(i18n[lang]&&i18n[lang][key])el.innerHTML=i18n[lang][key];
  });
  // Update placeholders
  const liveIn=document.getElementById('live-in');
  if(liveIn)liveIn.placeholder=t('chat_placeholder');
  const dmIn=document.getElementById('dm-in');
  if(dmIn)dmIn.placeholder=t('dm_placeholder');
  // Update nav buttons
  const btnLogin=document.getElementById('btn-login');
  if(btnLogin)btnLogin.textContent=t('btn_login');
  const btnSignup=document.getElementById('btn-signup');
  if(btnSignup)btnSignup.textContent=t('btn_signup');
}

// Init lang from storage
(function(){
  const saved=localStorage.getItem('vb_lang')||'fr';
  currentLang=saved;
  const sel=document.getElementById('lang-select');
  if(sel)sel.value=saved;
  setTimeout(()=>setLang(saved),50);
})();

// â”€â”€ WEBSOCKET â”€â”€
function connectWS(){
  if(!currentUser)return;
  const proto=location.protocol==='https:'?'wss:':'ws:';
  ws=new WebSocket(`${proto}//${location.host}`);
  ws.onopen=()=>{
    ws.send(JSON.stringify({
      type:'join',
      userId:currentUser.email,
      name:currentUser.name,
      plan:currentUser.plan,
      avatar:currentUser.name[0].toUpperCase()
    }));
  };
  ws.onmessage=(e)=>{
    const data=JSON.parse(e.data);
    handleWSMessage(data);
  };
  ws.onclose=()=>{
    // Reconnect after 3s
    setTimeout(()=>{if(currentUser)connectWS();},3000);
  };
  ws.onerror=()=>{};
}

function handleWSMessage(data){
  switch(data.type){
    case 'history':
      const msgs=document.getElementById('live-msgs');
      if(msgs){msgs.innerHTML='';data.messages.forEach(m=>appendLiveMsg(m));}
      break;
    case 'message':
      appendLiveMsg(data.message);
      // Badge notification if not on livechat tab
      const liveTab=document.getElementById('tab-btn-livechat');
      if(liveTab&&!document.getElementById('tab-livechat').classList.contains('active')){
        if(!liveTab.textContent.includes('ğŸ”´'))liveTab.textContent='ğŸ’¬ Live Chat ğŸ”´';
      }
      break;
    case 'online_users':
      updateUsersList(data.users);
      break;
    case 'user_joined':
      appendSystemMsg(`ğŸ‘‹ ${data.user.name}${t('joined')}`);
      break;
    case 'user_left':
      appendSystemMsg(`ğŸ‘‹ ${data.userId}${t('left')}`);
      break;
    case 'typing':
      if(data.userId===currentUser?.email)return;
      const liveTyping=document.getElementById('live-typing');
      if(liveTyping){
        liveTyping.textContent=data.isTyping?`${data.name} est en train d'Ã©crire...`:'';
      }
      break;
    case 'dm':
      if(dmTarget&&data.message.fromId===dmTarget.id){
        appendDMMsg(data.message,false);
      } else {
        // Notification
        toast(`ğŸ’Œ DM de ${data.message.fromName}: ${data.message.text.slice(0,40)}...`,'info',4000);
      }
      break;
    case 'dm_sent':
      appendDMMsg(data.message,true);
      break;
    case 'dm_history':
      const dmMsgs=document.getElementById('dm-msgs');
      if(dmMsgs){dmMsgs.innerHTML='';data.messages.forEach(m=>appendDMMsg(m,m.fromId===currentUser?.email));}
      break;
    case 'dm_typing':
      const dmTypingInd=document.getElementById('dm-typing-ind');
      if(dmTypingInd&&dmTarget&&data.userId===dmTarget.id){
        dmTypingInd.textContent=data.isTyping?`${data.name} est en train d'Ã©crire...`:'';
      }
      break;
  }
}

function appendLiveMsg(msg){
  const container=document.getElementById('live-msgs');
  if(!container)return;
  const isMe=msg.userId===currentUser?.email;
  const time=new Date(msg.timestamp).toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'});
  const div=document.createElement('div');
  div.className='live-msg';
  div.innerHTML=`
    <div class="live-msg-avatar" style="background:linear-gradient(135deg,${stringToColor(msg.userId)},${stringToColor(msg.userId+'x')})">${(msg.name||'?')[0].toUpperCase()}</div>
    <div class="live-msg-content">
      <div class="live-msg-header">
        <span class="live-msg-name"${isMe?' style="color:var(--pink)"':''}>${escHtml(msg.name)}</span>
        <span class="live-msg-plan ${msg.plan||'free'}">${(msg.plan||'FREE').toUpperCase()}</span>
        <span class="live-msg-time">${time}</span>
        ${!isMe?`<button onclick="openDM('${escHtml(msg.userId)}','${escHtml(msg.name)}','${msg.plan||'free'}')" style="font-size:11px;background:var(--glow);border:1px solid var(--border);border-radius:100px;padding:2px 8px;cursor:pointer;color:var(--v3)">DM</button>`:''}
      </div>
      <div class="live-msg-text">${escHtml(msg.text)}</div>
    </div>`;
  container.appendChild(div);
  container.scrollTop=container.scrollHeight;
}

function appendSystemMsg(text){
  const container=document.getElementById('live-msgs');
  if(!container)return;
  const div=document.createElement('div');
  div.className='system-msg';
  div.textContent=text;
  container.appendChild(div);
  container.scrollTop=container.scrollHeight;
}

function updateUsersList(users){
  const container=document.getElementById('users-list');
  if(!container)return;
  const countEl=document.getElementById('online-count');
  if(countEl)countEl.textContent=`â— ${users.length} ${t('online_label')}`;
  container.innerHTML=users.map(u=>`
    <div class="user-item" onclick="openDM('${escHtml(u.id)}','${escHtml(u.name)}','${u.plan||'free'}')">
      <div class="online-dot"></div>
      <div class="user-item-avatar" style="background:linear-gradient(135deg,${stringToColor(u.id)},${stringToColor(u.id+'x')})">${(u.name||'?')[0].toUpperCase()}</div>
      <span class="user-item-name">${escHtml(u.name)}</span>
      <span class="live-msg-plan ${u.plan||'free'}" style="font-size:9px">${(u.plan||'FREE').toUpperCase()}</span>
      <span class="user-item-dm">ğŸ’Œ</span>
    </div>`).join('');
}

function sendLiveMsg(){
  const input=document.getElementById('live-in');
  const text=input.value.trim();
  if(!text||!ws||ws.readyState!==WebSocket.OPEN)return;
  input.value='';
  ws.send(JSON.stringify({
    type:'message',
    name:currentUser.name,
    plan:currentUser.plan,
    text,
    avatar:currentUser.name[0]
  }));
}

function sendTyping(){
  if(!ws||ws.readyState!==WebSocket.OPEN)return;
  ws.send(JSON.stringify({type:'typing',name:currentUser.name,isTyping:true}));
  clearTimeout(typingTimer);
  typingTimer=setTimeout(()=>{
    if(ws&&ws.readyState===WebSocket.OPEN)
      ws.send(JSON.stringify({type:'typing',name:currentUser.name,isTyping:false}));
  },1500);
}

// â”€â”€ DM â”€â”€
function openDM(userId, name, plan){
  if(!currentUser)return;
  if(userId===currentUser.email){toast('Vous ne pouvez pas vous envoyer un DM !','error');return;}
  dmTarget={id:userId,name,plan};
  document.getElementById('dm-username').textContent=name;
  document.getElementById('dm-status').textContent=`Plan ${plan.toUpperCase()}`;
  document.getElementById('dm-avatar').textContent=(name[0]||'?').toUpperCase();
  document.getElementById('dm-msgs').innerHTML='';
  document.getElementById('dm-typing-ind').textContent='';
  openModal('dm-modal');
  // Load DM history
  if(ws&&ws.readyState===WebSocket.OPEN){
    ws.send(JSON.stringify({type:'get_dm_history',withId:userId}));
  }
}

function appendDMMsg(msg, isMe){
  const container=document.getElementById('dm-msgs');
  if(!container)return;
  const time=new Date(msg.timestamp).toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'});
  const div=document.createElement('div');
  div.className=`dm-msg ${isMe?'mine':'theirs'}`;
  div.innerHTML=`<div class="dm-bubble">${escHtml(msg.text)}</div><div class="dm-time">${time}</div>`;
  container.appendChild(div);
  container.scrollTop=container.scrollHeight;
}

function sendDM(){
  const input=document.getElementById('dm-in');
  const text=input.value.trim();
  if(!text||!dmTarget||!ws||ws.readyState!==WebSocket.OPEN)return;
  input.value='';
  ws.send(JSON.stringify({
    type:'dm',
    toId:dmTarget.id,
    fromName:currentUser.name,
    fromPlan:currentUser.plan,
    text
  }));
}

function sendDMTyping(){
  if(!ws||ws.readyState!==WebSocket.OPEN||!dmTarget)return;
  ws.send(JSON.stringify({type:'dm_typing',toId:dmTarget.id,name:currentUser.name,isTyping:true}));
  clearTimeout(dmTypingTimer);
  dmTypingTimer=setTimeout(()=>{
    if(ws&&ws.readyState===WebSocket.OPEN&&dmTarget)
      ws.send(JSON.stringify({type:'dm_typing',toId:dmTarget.id,name:currentUser.name,isTyping:false}));
  },1500);
}

function stringToColor(str){
  let hash=0;for(let i=0;i<str.length;i++)hash=str.charCodeAt(i)+((hash<<5)-hash);
  const colors=['#7c3aed','#e879f9','#0284c7','#059669','#dc2626','#d97706','#be185d','#0891b2'];
  return colors[Math.abs(hash)%colors.length];
}

function escHtml(s){return String(s||'').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');}


// â”€â”€ TOAST â”€â”€
function toast(msg,type='info',duration=3200){
  const c=document.getElementById('toast-container');
  const icons={success:'âœ…',error:'âŒ',info:'ğŸ’œ'};
  const el=document.createElement('div');
  el.className=`toast toast-${type}`;
  el.innerHTML=`<span>${icons[type]||'ğŸ’œ'}</span><span>${msg}</span>`;
  c.appendChild(el);
  setTimeout(()=>{el.classList.add('out');setTimeout(()=>el.remove(),350);},duration);
}

// â”€â”€ THEME â”€â”€
function toggleTheme(){
  document.body.classList.toggle('light-mode');
  const isLight=document.body.classList.contains('light-mode');
  localStorage.setItem('vb_theme',isLight?'light':'dark');
  document.querySelectorAll('.theme-toggle').forEach(b=>b.textContent=isLight?'ğŸŒ™':'â˜€ï¸');
}
(function initTheme(){
  if(localStorage.getItem('vb_theme')==='light'){
    document.body.classList.add('light-mode');
    document.querySelectorAll('.theme-toggle').forEach(b=>b.textContent='ğŸŒ™');
  }
})();

// â”€â”€ HAMBURGER APP â”€â”€
function toggleMobileMenuApp(){
  const menu=document.getElementById('mobile-menu-app');
  const btn=document.getElementById('hamburger-app');
  menu.classList.toggle('open');
  btn.classList.toggle('open');
  document.body.style.overflow=menu.classList.contains('open')?'hidden':'';
}
function closeMobileMenuApp(){
  document.getElementById('mobile-menu-app').classList.remove('open');
  document.getElementById('hamburger-app').classList.remove('open');
  document.body.style.overflow='';
}

// Afficher hamburger app sur mobile
function checkMobile(){
  const isMobile=window.innerWidth<=768;
  const hbtn=document.getElementById('hamburger-app');
  if(hbtn)hbtn.style.display=isMobile?'flex':'none';
}
window.addEventListener('resize',checkMobile);
checkMobile();
  const menu=document.getElementById('mobile-menu');
  const btn=document.getElementById('hamburger');
  menu.classList.toggle('open');
  btn.classList.toggle('open');
  // EmpÃªche le scroll du body quand le menu est ouvert
  document.body.style.overflow=menu.classList.contains('open')?'hidden':'';
}
function closeMobileMenu(){
  document.getElementById('mobile-menu').classList.remove('open');
  document.getElementById('hamburger').classList.remove('open');
  document.body.style.overflow='';
}
// Support tactile Safari
document.addEventListener('DOMContentLoaded',()=>{
  const hbtn=document.getElementById('hamburger');
  if(hbtn){
    hbtn.addEventListener('touchend',function(e){e.preventDefault();toggleMobileMenu();},{passive:false});
  }
  // Fix Safari - forcer le clic sur tous les Ã©lÃ©ments avec onclick
  document.querySelectorAll('[onclick]').forEach(el=>{
    el.addEventListener('touchend',function(e){
      if(e.cancelable)e.preventDefault();
      const fn=this.getAttribute('onclick');
      if(fn)eval(fn);
    },{passive:false});
  });
});

// â”€â”€ SCROLL REVEAL â”€â”€
(function(){
  const obs=new IntersectionObserver((entries)=>{
    entries.forEach(e=>{if(e.isIntersecting){e.target.classList.add('visible');obs.unobserve(e.target);}});
  },{threshold:0.1});
  document.querySelectorAll('.reveal').forEach(el=>obs.observe(el));
})();

// â”€â”€ PARTICLES â”€â”€
(function(){
  const c=document.getElementById('particles');
  const ctx=c.getContext('2d');
  let pts=[];
  function resize(){c.width=window.innerWidth;c.height=window.innerHeight;}
  resize();window.addEventListener('resize',resize);
  for(let i=0;i<80;i++)pts.push({x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,r:Math.random()*1.5+0.3,vx:(Math.random()-.5)*0.3,vy:(Math.random()-.5)*0.3,o:Math.random()*0.4+0.1});
  function draw(){
    ctx.clearRect(0,0,c.width,c.height);
    pts.forEach(p=>{
      p.x+=p.vx;p.y+=p.vy;
      if(p.x<0)p.x=c.width;if(p.x>c.width)p.x=0;
      if(p.y<0)p.y=c.height;if(p.y>c.height)p.y=0;
      ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
      ctx.fillStyle=`rgba(157,92,255,${p.o})`;ctx.fill();
    });
    pts.forEach((a,i)=>pts.slice(i+1).forEach(b=>{
      const d=Math.hypot(a.x-b.x,a.y-b.y);
      if(d<120){ctx.beginPath();ctx.moveTo(a.x,a.y);ctx.lineTo(b.x,b.y);ctx.strokeStyle=`rgba(124,58,237,${0.08*(1-d/120)})`;ctx.lineWidth=0.5;ctx.stroke();}
    }));
    requestAnimationFrame(draw);
  }
  draw();
})();

// â”€â”€ NAV SCROLL â”€â”€
window.addEventListener('scroll',()=>document.getElementById('navbar')?.classList.toggle('scrolled',window.scrollY>50));

// â”€â”€ COUNTERS â”€â”€
function animCounter(id,target,suffix=''){
  let n=0;const el=document.getElementById(id);if(!el)return;
  const step=Math.ceil(target/60);
  const t=setInterval(()=>{n=Math.min(n+step,target);el.textContent=n.toLocaleString()+suffix;if(n>=target)clearInterval(t);},30);
}
setTimeout(()=>{animCounter('c1',1247);animCounter('c2',3800000);animCounter('c3',2847);animCounter('c4',49,'/5');},400);

// â”€â”€ SHOWCASE DATA â”€â”€
const showcaseData=[
  {id:1,name:'ContentPro',cat:'saas',type:'SaaS',desc:'Outil IA tout-en-un pour crÃ©ateurs TikTok et Instagram. Scripts, hashtags, coach IA.',emoji:'ğŸ¤–',color:'linear-gradient(135deg,#7c3aed,#e879f9)',author:'Alex M.',votes:247,badge:'ğŸ”¥ HOT',url:'https://contentpro.ai',views:3842,likes:187,favs:94},
  {id:2,name:'NovaTrade',cat:'saas',type:'SaaS',desc:'Plateforme de trading IA avec screener, calculateur risk et coach en temps rÃ©el.',emoji:'ğŸ“ˆ',color:'linear-gradient(135deg,#0284c7,#00d4ff)',author:'Sarah K.',votes:189,badge:'â­ TOP',url:'https://novatrade.io',views:2910,likes:142,favs:67},
  {id:3,name:'@fitnessbyflo',cat:'tiktok',type:'TikTok',desc:'Coach fitness certifiÃ©e. Programmes minceur et prise de masse. 45K abonnÃ©s.',emoji:'ğŸ’ª',color:'linear-gradient(135deg,#dc2626,#f97316)',author:'Flo R.',votes:156,url:'https://tiktok.com/@fitnessbyflo',views:5200,likes:310,favs:121},
  {id:4,name:'DevisPro',cat:'site',type:'Site web',desc:'GÃ©nÃ©ration de devis professionnels PDF en 30 secondes grÃ¢ce Ã  l\'IA.',emoji:'ğŸ“„',color:'linear-gradient(135deg,#059669,#0284c7)',author:'Marc D.',votes:134,url:'https://devispro.fr',views:1780,likes:98,favs:43},
  {id:5,name:'MessageGenius',cat:'site',type:'Site web',desc:'CrÃ©ez des messages parfaits pour toutes occasions grÃ¢ce Ã  l\'intelligence artificielle.',emoji:'ğŸ’Œ',color:'linear-gradient(135deg,#c9a96e,#f0d080)',author:'Lisa T.',votes:98,url:'https://messagegenius.fr',views:1240,likes:75,favs:31},
  {id:6,name:'@techparis',cat:'tiktok',type:'TikTok',desc:'DerniÃ¨res tendances tech et IA pour les pros. Vulgarisation et analyses.',emoji:'ğŸ”¬',color:'linear-gradient(135deg,#4f46e5,#7c3aed)',author:'Tom V.',votes:87,url:'https://tiktok.com/@techparis',views:980,likes:54,favs:22},
];

// â”€â”€ ENGAGEMENT localStorage â”€â”€
function getEngagement(id){
  const raw=localStorage.getItem('vb_eng_'+id);
  return raw?JSON.parse(raw):{liked:false,faved:false,likes:0,favs:0,views:0};
}
function saveEngagement(id,data){localStorage.setItem('vb_eng_'+id,JSON.stringify(data));}

function initEngagement(p){
  const stored=getEngagement(p.id);
  // Merge showcase base values + user local increments
  if(!stored._init){
    stored.likes=p.likes||0;
    stored.favs=p.favs||0;
    stored.views=(p.views||0)+Math.floor(Math.random()*5); // simulate view on load
    stored._init=true;
    stored.liked=false;
    stored.faved=false;
    saveEngagement(p.id,stored);
  } else {
    stored.views++; // count each visit
    saveEngagement(p.id,stored);
  }
  return stored;
}

function buildShowcaseGrid(containerId,filter='all'){
  const data=filter==='all'?showcaseData:showcaseData.filter(p=>p.cat===filter);
  renderShowcaseGrid(containerId,data);
}

function renderShowcaseGrid(containerId,data){
  const container=document.getElementById(containerId);
  if(!data.length){container.innerHTML='<div class="empty-state" style="grid-column:1/-1"><div class="empty-icon">ğŸ”</div>Aucun projet trouvÃ©.</div>';return;}
  // Show skeleton first
  container.innerHTML=data.map(()=>`<div class="skel-card"><div class="skel-banner skeleton"></div><div class="skel-body"><div class="skel-line skeleton medium"></div><div class="skel-line skeleton short"></div><div class="skel-line skeleton"></div></div></div>`).join('');
  setTimeout(()=>{
    container.innerHTML=data.map(p=>{
      const eng=initEngagement(p);
      const urlHtml=p.url?`<a class="sc-url-link" href="${p.url}" target="_blank" rel="noopener">ğŸ”— ${p.url.replace(/^https?:\/\//,'')}</a>`:'';
      return `
      <div class="showcase-card" onclick="openProjDetail(${p.id})" style="cursor:pointer">
        ${p.badge?`<div class="sc-badge">${p.badge}</div>`:''}
        <div class="sc-banner" style="background:${p.color}">${p.emoji}</div>
        <div class="sc-body">
          <div class="sc-category">${p.type}</div>
          <div class="sc-name">${p.name}</div>
          <div class="sc-desc">${p.desc}</div>
          ${urlHtml}
          <div class="sc-footer" style="margin-top:10px" onclick="event.stopPropagation()">
            <div class="sc-author"><div class="sc-avatar" style="background:${p.color}">${p.author[0]}</div>${p.author}</div>
            <div class="sc-votes">
              <button class="btn-vote${eng.liked?' voted':''}" id="vote-${containerId}-${p.id}" onclick="vote('${containerId}',${p.id},this)">â–² <span class="vote-count">${p.votes}</span></button>
            </div>
          </div>
          <div class="sc-engagement" onclick="event.stopPropagation()">
            <span class="views-badge">ğŸ‘ <span id="views-${containerId}-${p.id}">${fmtNum(eng.views)}</span></span>
            <button class="btn-engage${eng.liked?' liked':''}" id="like-${containerId}-${p.id}" onclick="toggleLike('${containerId}',${p.id},this)">â¤ï¸ <span class="like-count">${fmtNum(eng.likes)}</span></button>
            <button class="btn-engage${eng.faved?' faved':''}" id="fav-${containerId}-${p.id}" onclick="toggleFav('${containerId}',${p.id},this)">â­ <span class="fav-count">${fmtNum(eng.favs)}</span></button>
            <button class="btn-engage" onclick="shareProject2('${p.name}','${p.url||''}',this)">ğŸ”— Partager</button>
          </div>
        </div>
      </div>`;
    }).join('');
  },400);
}

function fmtNum(n){return n>=1000?(n/1000).toFixed(1)+'K':n;}

function vote(containerId,id,btn){
  if(btn.classList.contains('voted'))return;
  btn.classList.add('voted');
  const cnt=btn.querySelector('.vote-count');
  cnt.textContent=parseInt(cnt.textContent)+1;
  const proj=showcaseData.find(p=>p.id===id);
  if(proj)proj.votes++;
}

function toggleLike(containerId,id,btn){
  const eng=getEngagement(id);
  eng.liked=!eng.liked;
  eng.likes+=eng.liked?1:-1;
  saveEngagement(id,eng);
  btn.classList.toggle('liked',eng.liked);
  btn.querySelector('.like-count').textContent=fmtNum(eng.likes);
  // sync other grid if open
  const other=containerId==='showcase-grid'?'app-showcase-grid':'showcase-grid';
  const ob=document.getElementById('like-'+other+'-'+id);
  if(ob){ob.classList.toggle('liked',eng.liked);ob.querySelector('.like-count').textContent=fmtNum(eng.likes);}
}

function toggleFav(containerId,id,btn){
  const eng=getEngagement(id);
  eng.faved=!eng.faved;
  eng.favs+=eng.faved?1:-1;
  saveEngagement(id,eng);
  btn.classList.toggle('faved',eng.faved);
  btn.querySelector('.fav-count').textContent=fmtNum(eng.favs);
  const other=containerId==='showcase-grid'?'app-showcase-grid':'showcase-grid';
  const ob=document.getElementById('fav-'+other+'-'+id);
  if(ob){ob.classList.toggle('faved',eng.faved);ob.querySelector('.fav-count').textContent=fmtNum(eng.favs);}
}

function shareProject2(name,url,btn){
  const txt=url?url:`DÃ©couvrez ${name} sur ViralBoost ! ğŸš€ ${window.location.href}`;
  navigator.clipboard.writeText(txt).then(()=>{
    btn.classList.add('shared');btn.textContent='âœ… CopiÃ© !';
    toast('Lien copiÃ© dans le presse-papier !','success',2000);
    setTimeout(()=>{btn.classList.remove('shared');btn.innerHTML='ğŸ”— Partager';},2000);
  });
}

function copyBoost(){
  navigator.clipboard.writeText(document.getElementById('boost-text').textContent).then(()=>{
    const btn=event.currentTarget;btn.textContent='âœ… CopiÃ© !';
    toast('StratÃ©gie copiÃ©e !','success',2000);
    setTimeout(()=>btn.textContent='ğŸ“‹ Copier la stratÃ©gie',2000);
  });
}

function filterShowcase(el,filter){
  currentFilter.landing=filter;
  document.querySelectorAll('.showcase-filters .sf-btn').forEach(b=>b.classList.remove('active'));
  el.classList.add('active');
  buildShowcaseGrid('showcase-grid',filter);
}

function filterApp(el,filter){
  currentFilter.app=filter;
  document.querySelectorAll('#tab-showcase .sf-btn').forEach(b=>b.classList.remove('active'));
  el.classList.add('active');
  buildShowcaseGrid('app-showcase-grid',filter);
}

function searchShowcase(containerId,query){
  const filter=containerId==='showcase-grid'?currentFilter.landing:currentFilter.app;
  let data=filter==='all'?showcaseData:showcaseData.filter(p=>p.cat===filter);
  if(query.trim()){
    const q=query.toLowerCase();
    data=data.filter(p=>p.name.toLowerCase().includes(q)||p.desc.toLowerCase().includes(q)||p.author.toLowerCase().includes(q));
  }
  renderShowcaseGrid(containerId,data);
}

function sortShowcase(containerId,sortBy){
  const filter=containerId==='showcase-grid'?currentFilter.landing:currentFilter.app;
  let data=filter==='all'?[...showcaseData]:showcaseData.filter(p=>p.cat===filter);
  if(sortBy==='votes')data.sort((a,b)=>b.votes-a.votes);
  else if(sortBy==='views')data.sort((a,b)=>(getEngagement(b.id).views||0)-(getEngagement(a.id).views||0));
  else if(sortBy==='likes')data.sort((a,b)=>(getEngagement(b.id).likes||0)-(getEngagement(a.id).likes||0));
  else if(sortBy==='recent')data.sort((a,b)=>b.id-a.id);
  renderShowcaseGrid(containerId,data);
}

// â”€â”€ AUTH â”€â”€
function signup(){
  const name=document.getElementById('s-name').value.trim();
  const email=document.getElementById('s-email').value.trim();
  const pass=document.getElementById('s-pass').value;
  if(!name||!email||!pass){toast('Remplis tous les champs.','error');return;}
  if(pass.length<8){toast('Mot de passe trop court (8 car. min).','error');return;}
  currentUser={name,email,plan:'free',boosts:3,projects:[],totalVotes:0};
  localStorage.setItem('viralboost_user',JSON.stringify(currentUser));
  closeModal('signup-modal');showApp();
  toast(`Bienvenue ${name} ! ğŸš€ 3 boosts gratuits t'attendent.`,'success');
}

function login(){
  const email=document.getElementById('l-email').value.trim();
  const pass=document.getElementById('l-pass').value;
  if(!email||!pass){toast('Remplis tous les champs.','error');return;}
  const saved=localStorage.getItem('viralboost_user');
  if(saved){const u=JSON.parse(saved);if(u.email===email){currentUser=u;closeModal('login-modal');showApp();toast(`Content de te revoir, ${u.name} ! ğŸ‘‹`,'success');return;}}
  currentUser={name:email.split('@')[0],email,plan:'free',boosts:3,projects:[],totalVotes:0};
  localStorage.setItem('viralboost_user',JSON.stringify(currentUser));
  closeModal('login-modal');showApp();
  toast(`Bienvenue ${currentUser.name} ! ğŸš€`,'success');
}

function logout(){
  if(ws){ws.close();ws=null;}
  currentUser=null;
  document.getElementById('app').style.display='none';
  document.getElementById('landing').style.display='block';
  window.scrollTo(0,0);
}

function showApp(){
  document.getElementById('landing').style.display='none';
  document.getElementById('app').style.display='block';
  document.getElementById('app-username').textContent=currentUser.name;
  document.getElementById('app-plan').textContent=currentUser.plan.toUpperCase();
  document.getElementById('dash-name').textContent=currentUser.name;
  const menuUser=document.getElementById('app-menu-user');
  if(menuUser)menuUser.textContent=`ğŸ‘¤ ${currentUser.name} Â· ${currentUser.plan.toUpperCase()}`;
  boostHistory=JSON.parse(localStorage.getItem('vb_history_'+currentUser.email)||'[]');
  updateDashStats();
  buildShowcaseGrid('app-showcase-grid');
  buildDashTop();
  buildProjectsGrid();
  buildHistory();
  checkMobile();
  window.scrollTo(0,0);
  saveUserToDB(currentUser);
  // Connect WebSocket for live chat
  if(!ws||ws.readyState===WebSocket.CLOSED||ws.readyState===WebSocket.CLOSING)connectWS();
}

function updateDashStats(){
  document.getElementById('stat-boosts').textContent=currentUser.plan==='elite'?'âˆ':currentUser.boosts;
  document.getElementById('stat-projects').textContent=(currentUser.projects||[]).length;
  document.getElementById('stat-votes').textContent=currentUser.totalVotes||0;
  document.getElementById('stat-plan').textContent=currentUser.plan.toUpperCase();
}

function buildDashTop(){
  const top=showcaseData.slice().sort((a,b)=>b.votes-a.votes).slice(0,3);
  document.getElementById('dash-top').innerHTML=top.map(p=>{
    const eng=getEngagement(p.id);
    const urlBtn=p.url?`<a href="${p.url}" target="_blank" rel="noopener" style="font-size:11px;color:var(--v3);text-decoration:none;margin-left:auto">â†— Visiter</a>`:'';
    return `
    <div style="background:var(--s2);border:1.5px solid var(--border);border-radius:12px;padding:14px;display:flex;align-items:center;gap:12px">
      <div style="width:40px;height:40px;border-radius:10px;background:${p.color};display:flex;align-items:center;justify-content:center;font-size:20px;flex-shrink:0">${p.emoji}</div>
      <div style="flex:1;min-width:0">
        <div style="font-weight:700;font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">${p.name}</div>
        <div style="font-size:11px;color:var(--muted);display:flex;gap:8px;margin-top:3px">
          <span>ğŸ‘ ${fmtNum(eng.views)}</span><span>â¤ï¸ ${fmtNum(eng.likes)}</span><span>â­ ${fmtNum(eng.favs)}</span>
        </div>
      </div>
      <div style="font-size:13px;color:var(--v3);font-weight:700;white-space:nowrap">â–² ${p.votes}</div>
      ${urlBtn}
    </div>`;
  }).join('');
}

// â”€â”€ TABS â”€â”€
function showTab(tab,el){
  document.querySelectorAll('.app-tab').forEach(t=>t.classList.remove('active'));
  document.querySelectorAll('.tpanel').forEach(p=>p.classList.remove('active'));
  if(el)el.classList.add('active');
  document.getElementById('tab-'+tab).classList.add('active');
  // Clear live chat badge
  if(tab==='livechat'){
    const liveTab=document.getElementById('tab-btn-livechat');
    if(liveTab)liveTab.textContent='ğŸ’¬ Live Chat';
  }
}

// â”€â”€ SERVICE PICKER â”€â”€
function pickService(el,service){
  document.querySelectorAll('#service-picker div').forEach(d=>d.classList.remove('active'));
  el.classList.add('active');
  selectedService=service;
}

// â”€â”€ GENERATE BOOST â”€â”€
const servicePrompts={
  social:(name,type,target,desc)=>`Tu es expert en growth hacking TikTok et Instagram. GÃ©nÃ¨re une stratÃ©gie de promotion complÃ¨te pour ce projet :\n- Projet: ${name} (${type})\n- Cible: ${target}\n- Description: ${desc}\n\nFournis:\n1. ğŸ“± STRATÃ‰GIE TIKTOK â€” 5 idÃ©es de vidÃ©os virales avec scripts\n2. ğŸ“¸ STRATÃ‰GIE INSTAGRAM â€” calendrier 30 jours + types de posts\n3. #ï¸âƒ£ 20 HASHTAGS OPTIMISÃ‰S pour cette niche\n4. â° MEILLEURS MOMENTS de publication\n5. ğŸ¯ PLAN D'ACTION â€” 5 actions Ã  faire cette semaine`,
  seo:(name,type,target,desc)=>`Tu es expert SEO. GÃ©nÃ¨re une stratÃ©gie de rÃ©fÃ©rencement complÃ¨te pour:\n- Projet: ${name} (${type})\n- Cible: ${target}\n- Description: ${desc}\n\nFournis:\n1. ğŸ”‘ 20 MOTS-CLÃ‰S prioritaires avec volume estimÃ©\n2. ğŸ“ STRUCTURE de 5 articles de blog optimisÃ©s\n3. ğŸ”— STRATÃ‰GIE de backlinks (10 sites Ã  cibler)\n4. ğŸ  OPTIMISATION ON-PAGE â€” checklist complÃ¨te\n5. ğŸ“Š OBJECTIFS â€” timeline pour atteindre la page 1`,
  ads:(name,type,target,desc)=>`Tu es expert en copywriting publicitaire. GÃ©nÃ¨re des publicitÃ©s percutantes pour:\n- Projet: ${name} (${type})\n- Cible: ${target}\n- Description: ${desc}\n\nFournis:\n1. ğŸ“˜ 3 PUBLICITÃ‰S FACEBOOK ADS (titre + description + CTA)\n2. ğŸµ 3 SCRIPTS TIKTOK ADS (15-30 secondes)\n3. ğŸ” 3 ANNONCES GOOGLE ADS\n4. ğŸ“¸ 5 ACCROCHES INSTAGRAM (captions)\n5. ğŸ’¡ ANGLE MARKETING unique pour se dÃ©marquer`,
  email:(name,type,target,desc)=>`Tu es expert en email marketing. GÃ©nÃ¨re une sÃ©quence email complÃ¨te pour:\n- Projet: ${name} (${type})\n- Cible: ${target}\n- Description: ${desc}\n\nFournis une sÃ©quence de 5 emails:\n1. EMAIL DE BIENVENUE (J+0)\n2. EMAIL DE VALEUR (J+3)\n3. EMAIL SOCIAL PROOF (J+7)\n4. EMAIL PROMOTION (J+14)\n5. EMAIL RE-ENGAGEMENT (J+30)\nPour chaque email: objet, preview text, corps complet.`,
  strategy:(name,type,target,desc)=>`Tu es consultant en stratÃ©gie digitale. GÃ©nÃ¨re un plan de croissance 90 jours pour:\n- Projet: ${name} (${type})\n- Cible: ${target}\n- Description: ${desc}\n\nStructure:\n1. ğŸ“Š ANALYSE â€” Forces, faiblesses, opportunitÃ©s\n2. ğŸ¯ OBJECTIFS SMART sur 90 jours\n3. ğŸ“… MOIS 1 â€” Actions prioritaires semaine par semaine\n4. ğŸ“… MOIS 2 â€” Scaling et optimisation\n5. ğŸ“… MOIS 3 â€” Consolidation et croissance\n6. ğŸ’° BUDGET ESTIMÃ‰ et ROI attendu`,
  showcase:(name,type,target,desc)=>`GÃ©nÃ¨re une description percutante et un pitch court pour prÃ©senter ce projet sur une vitrine de startups:\n- Projet: ${name} (${type})\n- Cible: ${target}\n- Description: ${desc}\n\nFournis:\n1. ğŸ·ï¸ TAGLINE (max 10 mots, percutant)\n2. ğŸ“ DESCRIPTION COURTE (2-3 phrases, pour la vitrine)\n3. ğŸš€ PITCH (150 mots pour convaincre des utilisateurs)\n4. ğŸ’ 3 ARGUMENTS diffÃ©renciants\n5. ğŸ“£ CALL-TO-ACTION pour les visiteurs`
};

async function generateBoost(){
  if(!currentUser){openModal('login-modal');return;}
  if(currentUser.plan==='free'&&currentUser.boosts<=0){
    if(confirm('Boosts Ã©puisÃ©s ! Passer au plan Starter (29â‚¬/mois) pour continuer ?'))startSub('starter');
    return;
  }
  const name=document.getElementById('b-name').value.trim()||'Mon projet';
  const type=document.getElementById('b-type').value;
  const target=document.getElementById('b-target').value.trim()||'Grand public';
  const desc=document.getElementById('b-desc').value.trim()||'Projet digital innovant';

  const btn=document.getElementById('btn-boost');
  btn.disabled=true;btn.textContent='âš¡ GÃ©nÃ©ration en cours...';
  document.getElementById('boost-output').style.display='block';
  const out=document.getElementById('boost-text');
  out.innerHTML='<div class="dots"><span></span><span></span><span></span></div>';

  const prompt=servicePrompts[selectedService](name,type,target,desc);
  try{
    const res=await fetch(`${CONFIG.apiEndpoint}/generate-boost`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({prompt})});
    const data=await res.json();
    out.textContent=data.content;
    if(currentUser.plan==='free')currentUser.boosts--;
    localStorage.setItem('viralboost_user',JSON.stringify(currentUser));
    updateDashStats();
    // Save to history
    const hEntry={id:Date.now(),name,type,service:selectedService,date:new Date().toLocaleDateString('fr-FR'),strategy:data.content};
    boostHistory.unshift(hEntry);
    if(boostHistory.length>50)boostHistory.pop();
    localStorage.setItem('vb_history_'+currentUser.email,JSON.stringify(boostHistory));
    buildHistory();
    toast(`StratÃ©gie gÃ©nÃ©rÃ©e pour ${name} ! ğŸ¯`,'success');
    if(selectedService==='showcase'&&name){addProjectToShowcase(name,type,desc,out.textContent);}
  }catch(e){out.textContent='Erreur de connexion. VÃ©rifie ton backend Render.';toast('Erreur de connexion au serveur','error');}
  btn.disabled=false;btn.textContent='âš¡ GÃ©nÃ©rer ma stratÃ©gie';
}

function copyBoost(){
  navigator.clipboard.writeText(document.getElementById('boost-text').textContent).then(()=>{
    const btn=event.currentTarget;btn.textContent='âœ… CopiÃ© !';setTimeout(()=>btn.textContent='ğŸ“‹ Copier la stratÃ©gie',2000);
  });
}

function addToShowcase(){
  const name=document.getElementById('b-name').value.trim();
  const type=document.getElementById('b-type').value;
  const desc=document.getElementById('b-desc').value.trim();
  if(!name){toast('Donne un nom Ã  ton projet !','error');return;}
  addProjectToShowcase(name,type,desc,'');
  toast('ğŸ‰ Projet ajoutÃ© Ã  la vitrine !','success');
  showTab('projects',null);
  document.querySelector('.app-tab').click();
}

function viewProject(id){
  openProjDetail(id);
}

// â”€â”€ PROJECT DETAIL MODAL â”€â”€
function openProjDetail(id){
  const p=currentUser?.projects.find(pr=>pr.id===id)||showcaseData.find(pr=>pr.id===id);
  if(!p)return;
  currentProjDetail=p;
  const eng=getEngagement(p.id);
  document.getElementById('pdm-banner').style.background=p.color;
  document.getElementById('pdm-banner').textContent=p.emoji;
  document.getElementById('pdm-name').textContent=p.name;
  document.getElementById('pdm-type').textContent=p.type+' Â· par '+p.author;
  document.getElementById('pdm-views').textContent=fmtNum(eng.views);
  document.getElementById('pdm-likes').textContent=fmtNum(eng.likes);
  document.getElementById('pdm-favs').textContent=fmtNum(eng.favs);
  document.getElementById('pdm-votes').textContent=p.votes;
  document.getElementById('pdm-strategy').textContent=p.strategy||'Aucune stratÃ©gie enregistrÃ©e.';
  const urlDiv=document.getElementById('pdm-url');
  urlDiv.innerHTML=p.url?`<a class="sc-url-link" href="${p.url}" target="_blank" rel="noopener">ğŸ”— ${p.url}</a>`:'';
  openModal('proj-detail-modal');
}

function copyStrategy(){
  const txt=document.getElementById('pdm-strategy').textContent;
  if(txt==='Aucune stratÃ©gie enregistrÃ©e.'){toast('Aucune stratÃ©gie Ã  copier','error');return;}
  navigator.clipboard.writeText(txt).then(()=>toast('StratÃ©gie copiÃ©e !','success'));
}

function exportPDF(){
  const p=currentProjDetail;
  if(!p||!p.strategy){toast('Aucune stratÃ©gie Ã  exporter','error');return;}
  const win=window.open('','_blank');
  win.document.write(`<!DOCTYPE html><html><head><meta charset="UTF-8"><title>StratÃ©gie ${p.name} â€” ViralBoost</title><style>
    body{font-family:Georgia,serif;max-width:800px;margin:40px auto;padding:0 20px;color:#1a0a3c;}
    h1{font-size:28px;color:#7c3aed;margin-bottom:4px;}
    .meta{color:#6b5b8a;font-size:14px;margin-bottom:32px;}
    pre{white-space:pre-wrap;line-height:1.8;font-family:Georgia,serif;font-size:15px;}
    .footer{margin-top:40px;padding-top:16px;border-top:1px solid #e8e0ff;font-size:12px;color:#9d8bb8;}
  </style></head><body>
    <h1>${p.emoji} ${p.name}</h1>
    <div class="meta">${p.type} Â· GÃ©nÃ©rÃ© par ViralBoost Â· ${new Date().toLocaleDateString('fr-FR')}</div>
    <pre>${p.strategy}</pre>
    <div class="footer">GÃ©nÃ©rÃ© par ViralBoost â€” L'IA qui fait exploser votre prÃ©sence digitale</div>
  </body></html>`);
  win.document.close();
  setTimeout(()=>win.print(),500);
  toast('Export PDF ouvert dans un nouvel onglet ğŸ“„','success');
}

// â”€â”€ HISTORIQUE â”€â”€
function buildHistory(){
  const container=document.getElementById('history-list-container');
  if(!boostHistory.length){
    container.innerHTML='<div class="empty-state"><div class="empty-icon">ğŸ“‹</div>Aucun boost encore.<br>Lance ta premiÃ¨re stratÃ©gie !</div>';
    return;
  }
  const serviceLabels={social:'ğŸ“± Social',seo:'ğŸ” SEO',ads:'ğŸ¨ Ads',email:'ğŸ“§ Email',strategy:'ğŸ“Š StratÃ©gie',showcase:'ğŸŒ Vitrine'};
  container.innerHTML=`<div class="history-list">${boostHistory.map(h=>`
    <div class="history-item" onclick="showHistoryDetail(${h.id})" style="cursor:pointer">
      <div class="history-dot"></div>
      <div class="history-meta">
        <div class="history-name">${h.name}</div>
        <div class="history-date">${h.date} Â· ${h.type}</div>
      </div>
      <div class="history-type">${serviceLabels[h.service]||h.service}</div>
    </div>`).join('')}
  </div>`;
}

function showHistoryDetail(id){
  const h=boostHistory.find(x=>x.id===id);
  if(!h)return;
  // Build a temp project object for the modal
  const tmp={id:h.id,name:h.name,type:h.type,cat:h.type,emoji:'ğŸ“‹',color:'linear-gradient(135deg,#7c3aed,#e879f9)',author:currentUser.name,votes:0,strategy:h.strategy,url:''};
  currentProjDetail=tmp;
  document.getElementById('pdm-banner').style.background=tmp.color;
  document.getElementById('pdm-banner').textContent=tmp.emoji;
  document.getElementById('pdm-name').textContent=h.name;
  document.getElementById('pdm-type').textContent=h.type+' Â· '+h.date;
  document.getElementById('pdm-views').textContent='â€”';
  document.getElementById('pdm-likes').textContent='â€”';
  document.getElementById('pdm-favs').textContent='â€”';
  document.getElementById('pdm-votes').textContent='â€”';
  document.getElementById('pdm-url').innerHTML='';
  document.getElementById('pdm-strategy').textContent=h.strategy||'Aucune stratÃ©gie.';
  openModal('proj-detail-modal');
}

function addProjectToShowcase(name,type,desc,strategy){
  const emojis={'site':'ğŸŒ','app':'ğŸ“±','saas':'ğŸš€','tiktok':'ğŸµ','instagram':'ğŸ“¸','ecommerce':'ğŸ›ï¸'};
  const colors=['linear-gradient(135deg,#7c3aed,#e879f9)','linear-gradient(135deg,#0284c7,#00d4ff)','linear-gradient(135deg,#059669,#0284c7)','linear-gradient(135deg,#dc2626,#f97316)'];
  const proj={id:Date.now(),name,type:type.charAt(0).toUpperCase()+type.slice(1),cat:type,desc:desc.slice(0,100)+'...',emoji:emojis[type]||'ğŸš€',color:colors[Math.floor(Math.random()*colors.length)],author:currentUser.name,votes:0,strategy,url:document.getElementById('b-url')?.value.trim()||'',views:0,likes:0,favs:0};
  currentUser.projects=currentUser.projects||[];
  currentUser.projects.unshift(proj);
  showcaseData.unshift(proj);
  localStorage.setItem('viralboost_user',JSON.stringify(currentUser));
  updateDashStats();
  buildProjectsGrid();
  buildShowcaseGrid('app-showcase-grid');
}

function buildProjectsGrid(){
  const projects=currentUser?.projects||[];
  const grid=document.getElementById('projects-grid');
  if(!projects.length){grid.innerHTML='<div class="empty-state"><div class="empty-icon">ğŸš€</div>Aucun projet encore.<br>Booste ton premier projet !</div>';return;}
  grid.innerHTML=projects.map(p=>{
    const eng=getEngagement(p.id);
    const urlHtml=p.url?`<a class="sc-url-link" href="${p.url}" target="_blank" rel="noopener" style="margin-bottom:8px;display:block">ğŸ”— ${p.url.replace(/^https?:\/\//,'')}</a>`:'';
    return `
    <div class="proj-card">
      <div class="proj-banner" style="background:${p.color}">${p.emoji}</div>
      <div class="proj-body">
        <div class="proj-name">${p.name}</div>
        <div class="proj-cat">${p.type}</div>
        ${urlHtml}
        <div style="display:flex;gap:10px;font-size:12px;color:var(--muted);margin:8px 0;flex-wrap:wrap">
          <span>ğŸ‘ ${fmtNum(eng.views)} vues</span>
          <span>â¤ï¸ ${fmtNum(eng.likes)} likes</span>
          <span>â­ ${fmtNum(eng.favs)} favoris</span>
          <span>â–² ${p.votes} votes</span>
        </div>
        <div class="proj-actions">
          <button class="btn-proj btn-proj-view" onclick="viewProject(${p.id})">ğŸ‘ StratÃ©gie</button>
          <button class="btn-proj btn-proj-view" style="background:rgba(124,58,237,0.15)" onclick="shareProject2('${p.name}','${p.url||''}',this)">ğŸ”— Partager</button>
        </div>
      </div>
    </div>`;
  }).join('');
}

function viewProject(id){
  const p=currentUser.projects.find(pr=>pr.id===id);
  if(p&&p.strategy)alert(`StratÃ©gie pour ${p.name}:\n\n${p.strategy.slice(0,500)}...`);
}

// â”€â”€ COACH â”€â”€
async function sendCoach(){
  const input=document.getElementById('coach-in');
  const msg=input.value.trim();if(!msg)return;
  input.value='';
  const msgs=document.getElementById('chat-msgs');
  msgs.innerHTML+=`<div class="msg-user"><div class="bubble-user">${msg}</div></div>`;
  msgs.innerHTML+=`<div class="msg-ai" id="typing"><div class="bubble-ai"><div class="dots"><span></span><span></span><span></span></div></div></div>`;
  msgs.scrollTop=msgs.scrollHeight;
  chatHistory.push({role:'user',content:msg});
  try{
    const res=await fetch(`${CONFIG.apiEndpoint}/chat-promo`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({messages:chatHistory,lang:currentLang})});
    const data=await res.json();
    document.getElementById('typing').remove();
    msgs.innerHTML+=`<div class="msg-ai"><div class="bubble-ai">${data.reply.replace(/\n/g,'<br>')}</div></div>`;
    chatHistory.push({role:'assistant',content:data.reply});
  }catch(e){
    document.getElementById('typing').remove();
    msgs.innerHTML+=`<div class="msg-ai"><div class="bubble-ai">Erreur de connexion. RÃ©essaie !</div></div>`;
  }
  msgs.scrollTop=msgs.scrollHeight;
}

// â”€â”€ SUBSCRIPTION â”€â”€
function startSub(plan){
  pendingPlan=plan;
  const prices={starter:'29â‚¬',elite:'79â‚¬'};
  const labels={starter:'STARTER',elite:'ELITE'};
  document.getElementById('pay-plan-label').textContent=labels[plan];
  document.getElementById('pay-plan-price').textContent=prices[plan];
  openModal('payment-modal');
  if(stripe){
    const el=stripe.elements({appearance:{theme:'night',variables:{colorPrimary:'#7c3aed',colorBackground:'#0d0920',colorText:'#f5f0ff',borderRadius:'10px',fontFamily:'Cabinet Grotesk, sans-serif'}}});
    cardElement=el.create('card');
    setTimeout(()=>cardElement.mount('#card-element'),100);
  }
}

async function processSub(){
  const btn=document.getElementById('btn-sub');
  btn.disabled=true;btn.innerHTML='<div class="dots" style="justify-content:center"><span></span><span></span><span></span></div>';
  try{
    const amounts={starter:2900,elite:7900};
    const res=await fetch(`${CONFIG.apiEndpoint}/create-payment-intent`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({amount:amounts[pendingPlan]})});
    const{clientSecret,error:ie}=await res.json();
    if(ie)throw new Error(ie);
    const{error,paymentIntent}=await stripe.confirmCardPayment(clientSecret,{payment_method:{card:cardElement}});
    if(error)throw new Error(error.message);
    if(paymentIntent.status==='succeeded'){
      currentUser.plan=pendingPlan;
      currentUser.boosts=pendingPlan==='starter'?30:999999;
      localStorage.setItem('viralboost_user',JSON.stringify(currentUser));
      document.getElementById('app-plan').textContent=pendingPlan.toUpperCase();
      closeModal('payment-modal');
      updateDashStats();
      toast(`ğŸ‰ Plan ${pendingPlan.toUpperCase()} activÃ© ! Bienvenue dans l'Ã©lite.`,'success',4000);
    }
  }catch(err){
    document.getElementById('card-errors').textContent=err.message;
    toast(err.message,'error');
    btn.disabled=false;btn.textContent='ğŸ”’ S\'abonner maintenant';
  }
}

// â”€â”€ MODAL â”€â”€
function openModal(id){document.getElementById(id).classList.add('open');}
function closeModal(id){document.getElementById(id).classList.remove('open');}
function switchModal(a,b){closeModal(a);setTimeout(()=>openModal(b),200);}
document.querySelectorAll('.modal-bg').forEach(m=>m.addEventListener('click',e=>{if(e.target===m)m.classList.remove('open');}));

// â”€â”€ MONGODB â€” SAUVEGARDE UTILISATEURS â”€â”€
async function saveUserToDB(user){
  try{
    await fetch(`${CONFIG.apiEndpoint}/register-user`,{
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body:JSON.stringify({
        name:user.name,
        email:user.email,
        plan:user.plan,
        createdAt:user.createdAt||new Date().toISOString(),
        projectsCount:(user.projects||[]).length
      })
    });
  }catch(e){/* silencieux si le serveur n'est pas dispo */}
}

// â”€â”€ STRIPE â”€â”€
try{stripe=Stripe(CONFIG.stripePublicKey);}catch(e){}

// â”€â”€ INIT â”€â”€
window.addEventListener('load',()=>{
  buildShowcaseGrid('showcase-grid');
  const saved=localStorage.getItem('viralboost_user');
  if(saved){currentUser=JSON.parse(saved);showApp();}
  // Init scroll reveal
  const obs=new IntersectionObserver((entries)=>{
    entries.forEach(e=>{if(e.isIntersecting){e.target.classList.add('visible');obs.unobserve(e.target);}});
  },{threshold:0.08});
  document.querySelectorAll('.reveal').forEach(el=>obs.observe(el));
});
</script>
</body>
</html>
