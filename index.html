<!DOCTYPE html>
<html lang="fr">
<script defer src="https://cloud.umami.is/script.js" data-website-id="2fb2c139-5a87-4082-b9f3-0aad697c9317"></script>
  <head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>ViralBoost ‚Äî L'IA qui fait exploser votre pr√©sence digitale</title>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=Cabinet+Grotesk:wght@300;400;500;700&display=swap" rel="stylesheet"/>
<script src="https://js.stripe.com/v3/"></script>
<style>
:root{
  --bg:#05030e;
  --bg2:#080514;
  --s1:#0d0920;
  --s2:#130d2e;
  --v1:#7c3aed;
  --v2:#9d5cff;
  --v3:#c084fc;
  --pink:#e879f9;
  --green:#4ade80;
  --text:#f5f0ff;
  --muted:#6b5b8a;
  --border:rgba(124,58,237,0.2);
  --glow:rgba(124,58,237,0.15);
  --toast-bg:#1a1030;
}
body.light-mode{
  --bg:#f0eeff;
  --bg2:#e8e0ff;
  --s1:#ffffff;
  --s2:#f3eeff;
  --text:#1a0a3c;
  --muted:#7c6aaa;
  --border:rgba(124,58,237,0.25);
  --glow:rgba(124,58,237,0.1);
  --toast-bg:#fff;
}
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent;}
html{scroll-behavior:smooth;}
body{font-family:'Cabinet Grotesk',sans-serif;background:var(--bg);color:var(--text);overflow-x:hidden;-webkit-text-size-adjust:100%;}
button,a,[onclick]{cursor:pointer;touch-action:manipulation;}
button{-webkit-appearance:none;}

/* ‚îÄ‚îÄ PARTICLES CANVAS ‚îÄ‚îÄ */
#particles{position:fixed;inset:0;z-index:0;pointer-events:none;}

/* ‚îÄ‚îÄ NOISE ‚îÄ‚îÄ */
body::after{content:'';position:fixed;inset:0;background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.025'/%3E%3C/svg%3E");pointer-events:none;z-index:0;}

/* ‚îÄ‚îÄ GLOW ORBS ‚îÄ‚îÄ */
.orb{position:fixed;border-radius:50%;filter:blur(100px);pointer-events:none;z-index:0;}
.o1{width:700px;height:700px;background:rgba(124,58,237,0.08);top:-200px;right:-200px;animation:drift 12s ease-in-out infinite alternate;}
.o2{width:500px;height:500px;background:rgba(232,121,249,0.05);bottom:-100px;left:-150px;animation:drift 15s ease-in-out infinite alternate-reverse;}
@keyframes drift{from{transform:translate(0,0)}to{transform:translate(30px,30px)}}

/* ‚îÄ‚îÄ NAV ‚îÄ‚îÄ */
nav{position:fixed;top:0;left:0;right:0;z-index:200;padding:0 6%;height:72px;display:flex;align-items:center;justify-content:space-between;transition:all 0.3s;}
nav.scrolled{background:rgba(5,3,14,0.9);backdrop-filter:blur(24px);border-bottom:1px solid var(--border);}
body.light-mode nav.scrolled{background:rgba(240,238,255,0.92);}
.logo{font-family:'Syne',sans-serif;font-size:22px;font-weight:800;background:linear-gradient(135deg,var(--v2),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent;letter-spacing:-0.5px;position:relative;z-index:1;}
.nav-links{display:flex;gap:36px;}
.nav-links a{font-size:14px;color:var(--muted);text-decoration:none;font-weight:500;transition:color 0.2s;position:relative;z-index:1;}
.nav-links a:hover{color:var(--text);}
.nav-cta{display:flex;gap:10px;align-items:center;position:relative;z-index:1;}
.btn-nav{padding:9px 22px;border-radius:100px;font-family:'Cabinet Grotesk',sans-serif;font-size:14px;font-weight:700;cursor:pointer;transition:all 0.2s;}
.btn-nav-ghost{background:transparent;border:1.5px solid var(--border);color:var(--v3);}
.btn-nav-ghost:hover{border-color:var(--v1);background:var(--glow);}
.btn-nav-solid{background:linear-gradient(135deg,var(--v1),var(--v2));border:none;color:white;box-shadow:0 0 24px rgba(124,58,237,0.35);}
.btn-nav-solid:hover{box-shadow:0 0 48px rgba(124,58,237,0.5);transform:translateY(-1px);}

/* ‚îÄ‚îÄ THEME TOGGLE ‚îÄ‚îÄ */
.theme-toggle{background:transparent;border:1.5px solid var(--border);border-radius:100px;width:38px;height:38px;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:16px;transition:all 0.2s;color:var(--muted);}
.theme-toggle:hover{border-color:var(--v1);background:var(--glow);}

/* ‚îÄ‚îÄ HAMBURGER ‚îÄ‚îÄ */
.hamburger{display:none;flex-direction:column;gap:5px;cursor:pointer;padding:8px;background:transparent;border:1.5px solid var(--border);border-radius:10px;z-index:301;transition:all 0.2s;-webkit-appearance:none;touch-action:manipulation;}
.hamburger:hover{border-color:var(--v1);background:var(--glow);}
.hamburger span{display:block;width:22px;height:2px;background:var(--v3);border-radius:2px;transition:all 0.3s;}
.hamburger.open span:nth-child(1){transform:rotate(45deg) translate(5px,5px);}
.hamburger.open span:nth-child(2){opacity:0;transform:translateX(-8px);}
.hamburger.open span:nth-child(3){transform:rotate(-45deg) translate(5px,-5px);}
.mobile-menu{display:none;position:fixed;inset:0;background:rgba(5,3,14,0.97);backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);z-index:300;flex-direction:column;align-items:center;justify-content:center;gap:32px;}
body.light-mode .mobile-menu{background:rgba(240,238,255,0.97);}
.mobile-menu.open{display:flex;animation:fadeUp 0.3s ease;}
.mobile-menu a,.mobile-menu button{font-family:'Syne',sans-serif;font-size:28px;font-weight:700;color:var(--text);text-decoration:none;background:none;border:none;cursor:pointer;transition:color 0.2s;-webkit-appearance:none;touch-action:manipulation;padding:8px 0;}
.mobile-menu a:hover,.mobile-menu button:hover{color:var(--v3);}
.mobile-menu-btns{display:flex;flex-direction:column;gap:12px;width:80%;max-width:300px;margin-top:16px;}
.mobile-menu-btns button{width:100%;padding:14px;border-radius:100px;font-family:'Syne',sans-serif;font-size:16px;font-weight:700;cursor:pointer;-webkit-appearance:none;touch-action:manipulation;}

/* ‚îÄ‚îÄ TOAST NOTIFICATIONS ‚îÄ‚îÄ */
#toast-container{position:fixed;bottom:28px;right:28px;z-index:9999;display:flex;flex-direction:column;gap:10px;pointer-events:none;}
.toast{background:var(--toast-bg);border:1.5px solid var(--border);border-radius:14px;padding:14px 20px;font-size:14px;font-weight:600;color:var(--text);display:flex;align-items:center;gap:10px;box-shadow:0 8px 32px rgba(0,0,0,0.4);pointer-events:auto;animation:toastIn 0.4s cubic-bezier(0.34,1.56,0.64,1) both;min-width:240px;max-width:340px;}
.toast.out{animation:toastOut 0.3s ease forwards;}
.toast-success{border-color:rgba(74,222,128,0.4);}
.toast-error{border-color:rgba(244,63,94,0.4);}
.toast-info{border-color:rgba(124,58,237,0.4);}
@keyframes toastIn{from{opacity:0;transform:translateX(60px) scale(0.9)}to{opacity:1;transform:translateX(0) scale(1)}}
@keyframes toastOut{from{opacity:1;transform:translateX(0)}to{opacity:0;transform:translateX(60px)}}

/* ‚îÄ‚îÄ SEARCH BAR ‚îÄ‚îÄ */
.search-sort-bar{display:flex;gap:10px;margin-bottom:24px;flex-wrap:wrap;align-items:center;}
.search-input-wrap{position:relative;flex:1;min-width:200px;}
.search-input-wrap input{width:100%;padding:10px 16px 10px 40px;background:var(--s1);border:1.5px solid var(--border);border-radius:100px;font-family:'Cabinet Grotesk',sans-serif;font-size:14px;color:var(--text);outline:none;transition:all 0.2s;}
.search-input-wrap input:focus{border-color:var(--v1);box-shadow:0 0 16px rgba(124,58,237,0.1);}
.search-icon{position:absolute;left:14px;top:50%;transform:translateY(-50%);font-size:14px;color:var(--muted);}
.sort-select{padding:10px 16px;background:var(--s1);border:1.5px solid var(--border);border-radius:100px;font-family:'Cabinet Grotesk',sans-serif;font-size:13px;color:var(--text);outline:none;cursor:pointer;transition:all 0.2s;}
.sort-select:focus{border-color:var(--v1);}

/* ‚îÄ‚îÄ PROJECT MODAL ‚îÄ‚îÄ */
.proj-modal-banner{height:120px;display:flex;align-items:center;justify-content:center;font-size:56px;border-radius:16px;margin-bottom:20px;}
.proj-modal-stats{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;margin:16px 0;}
.proj-stat{background:rgba(124,58,237,0.08);border:1px solid var(--border);border-radius:10px;padding:10px;text-align:center;}
.proj-stat-num{font-family:'Syne',sans-serif;font-size:20px;font-weight:800;color:var(--v3);}
.proj-stat-label{font-size:10px;color:var(--muted);margin-top:2px;}
.proj-strategy{background:rgba(124,58,237,0.05);border:1px solid var(--border);border-radius:12px;padding:16px;font-size:13px;line-height:1.8;color:var(--text);white-space:pre-wrap;max-height:280px;overflow-y:auto;margin-top:16px;}

/* ‚îÄ‚îÄ SCROLL REVEAL ‚îÄ‚îÄ */
.reveal{opacity:0;transform:translateY(32px);transition:opacity 0.6s ease,transform 0.6s ease;}
.reveal.visible{opacity:1;transform:translateY(0);}

/* ‚îÄ‚îÄ SKELETON LOADER ‚îÄ‚îÄ */
.skeleton{background:linear-gradient(90deg,var(--s1) 25%,var(--s2) 50%,var(--s1) 75%);background-size:200% 100%;animation:shimmer 1.4s infinite;border-radius:8px;}
@keyframes shimmer{0%{background-position:200% 0}100%{background-position:-200% 0}}
.skel-card{background:var(--s1);border:1.5px solid var(--border);border-radius:20px;overflow:hidden;}
.skel-banner{height:140px;}
.skel-body{padding:20px;}
.skel-line{height:12px;margin-bottom:10px;border-radius:6px;}
.skel-line.short{width:60%;}
.skel-line.medium{width:80%;}

/* ‚îÄ‚îÄ PDF EXPORT BTN ‚îÄ‚îÄ */
.btn-pdf{background:linear-gradient(135deg,#dc2626,#f97316);border:none;border-radius:100px;padding:9px 20px;font-family:'Cabinet Grotesk',sans-serif;font-size:13px;font-weight:700;cursor:pointer;color:white;transition:all 0.2s;}
.btn-pdf:hover{box-shadow:0 0 20px rgba(220,38,38,0.4);transform:translateY(-1px);}

/* ‚îÄ‚îÄ HISTORY ‚îÄ‚îÄ */
.history-list{display:flex;flex-direction:column;gap:10px;margin-top:16px;}
.history-item{background:var(--s1);border:1.5px solid var(--border);border-radius:12px;padding:14px 18px;display:flex;align-items:center;gap:14px;transition:all 0.2s;}
.history-item:hover{border-color:rgba(124,58,237,0.4);}
.history-dot{width:8px;height:8px;border-radius:50%;background:var(--v2);flex-shrink:0;}
.history-meta{flex:1;min-width:0;}
.history-name{font-size:14px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.history-date{font-size:11px;color:var(--muted);margin-top:2px;}
.history-type{font-size:11px;color:var(--v3);font-weight:700;padding:2px 10px;background:var(--glow);border-radius:100px;border:1px solid var(--border);white-space:nowrap;}

/* ‚îÄ‚îÄ HERO ‚îÄ‚îÄ */
.hero{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:120px 6% 80px;position:relative;z-index:1;}
.hero-eyebrow{display:inline-flex;align-items:center;gap:10px;background:rgba(124,58,237,0.1);border:1px solid rgba(124,58,237,0.25);border-radius:100px;padding:7px 18px;font-size:12px;font-weight:600;color:var(--v3);margin-bottom:36px;letter-spacing:0.5px;animation:fadeUp 0.7s ease both;}
.live-dot{width:7px;height:7px;border-radius:50%;background:var(--green);box-shadow:0 0 8px var(--green);animation:blink 1.8s infinite;}
@keyframes blink{0%,100%{opacity:1}50%{opacity:0.3}}
.hero h1{font-family:'Syne',sans-serif;font-size:clamp(48px,8vw,100px);font-weight:800;line-height:0.95;letter-spacing:-3px;margin-bottom:28px;animation:fadeUp 0.7s 0.1s ease both;}
.hero h1 .grad{background:linear-gradient(135deg,var(--v2) 0%,var(--pink) 50%,var(--v3) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;display:block;}
.hero-sub{font-size:19px;color:var(--muted);max-width:580px;line-height:1.7;margin-bottom:48px;font-weight:400;animation:fadeUp 0.7s 0.2s ease both;}
.hero-btns{display:flex;gap:14px;flex-wrap:wrap;justify-content:center;margin-bottom:72px;animation:fadeUp 0.7s 0.3s ease both;}
.btn-hero-primary{background:linear-gradient(135deg,var(--v1),var(--v2));border:none;border-radius:100px;padding:16px 40px;font-family:'Syne',sans-serif;font-size:15px;font-weight:700;cursor:pointer;color:white;transition:all 0.3s;box-shadow:0 0 40px rgba(124,58,237,0.4);}
.btn-hero-primary:hover{box-shadow:0 0 70px rgba(124,58,237,0.6);transform:translateY(-2px);}
.btn-hero-ghost{background:transparent;border:1.5px solid var(--border);border-radius:100px;padding:16px 40px;font-family:'Syne',sans-serif;font-size:15px;font-weight:700;cursor:pointer;color:var(--v3);transition:all 0.3s;}
.btn-hero-ghost:hover{border-color:var(--v1);background:var(--glow);}
.hero-note{font-size:13px;color:var(--muted);animation:fadeUp 0.7s 0.4s ease both;}

/* COUNTERS */
.counters{display:flex;gap:0;justify-content:center;animation:fadeUp 0.7s 0.5s ease both;}
.counter-item{padding:32px 48px;text-align:center;border:1px solid var(--border);position:relative;}
.counter-item+.counter-item{border-left:none;}
.counter-item::before{content:'';position:absolute;top:0;left:50%;transform:translateX(-50%);width:50%;height:1px;background:linear-gradient(90deg,transparent,var(--v1),transparent);}
.c-num{font-family:'Syne',sans-serif;font-size:38px;font-weight:800;background:linear-gradient(135deg,var(--v2),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:6px;}
.c-label{font-size:12px;color:var(--muted);font-weight:500;letter-spacing:0.5px;}

/* ‚îÄ‚îÄ SHOWCASE (la section star) ‚îÄ‚îÄ */
.showcase-section{padding:100px 6%;position:relative;z-index:1;}
.sec-header{text-align:center;margin-bottom:64px;}
.sec-tag{font-size:11px;font-weight:700;letter-spacing:3px;text-transform:uppercase;color:var(--v3);margin-bottom:16px;}
.sec-tag::before{content:'‚ú¶ ';} .sec-tag::after{content:' ‚ú¶';}
h2{font-family:'Syne',sans-serif;font-size:clamp(32px,5vw,56px);font-weight:800;letter-spacing:-1.5px;line-height:1.05;}
h2 em{font-style:italic;background:linear-gradient(135deg,var(--v2),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
.sec-sub{font-size:17px;color:var(--muted);max-width:480px;margin:14px auto 0;line-height:1.7;}

/* SHOWCASE FILTERS */
.showcase-filters{display:flex;gap:8px;justify-content:center;margin-bottom:36px;flex-wrap:wrap;}
.sf-btn{padding:8px 20px;border-radius:100px;border:1.5px solid var(--border);background:transparent;color:var(--muted);font-family:'Cabinet Grotesk',sans-serif;font-size:13px;font-weight:600;cursor:pointer;transition:all 0.2s;}
.sf-btn:hover,.sf-btn.active{border-color:var(--v1);color:var(--v3);background:var(--glow);}

/* SHOWCASE GRID */
.showcase-grid{max-width:1200px;margin:0 auto;display:grid;grid-template-columns:repeat(3,1fr);gap:20px;}
.showcase-card{background:var(--s1);border:1.5px solid var(--border);border-radius:20px;overflow:hidden;transition:all 0.3s;cursor:pointer;position:relative;}
.showcase-card:hover{border-color:rgba(124,58,237,0.5);transform:translateY(-4px);box-shadow:0 20px 60px rgba(124,58,237,0.12);}
.sc-banner{height:140px;display:flex;align-items:center;justify-content:center;font-size:48px;position:relative;overflow:hidden;}
.sc-banner::after{content:'';position:absolute;inset:0;background:linear-gradient(180deg,transparent 40%,var(--s1));}
.sc-body{padding:20px;}
.sc-category{font-size:10px;font-weight:700;letter-spacing:2px;text-transform:uppercase;color:var(--v3);margin-bottom:8px;}
.sc-name{font-family:'Syne',sans-serif;font-size:17px;font-weight:700;margin-bottom:6px;}
.sc-desc{font-size:13px;color:var(--muted);line-height:1.6;margin-bottom:16px;}
.sc-footer{display:flex;align-items:center;justify-content:space-between;}
.sc-author{display:flex;align-items:center;gap:8px;font-size:12px;color:var(--muted);}
.sc-avatar{width:26px;height:26px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:700;color:white;}
.sc-votes{display:flex;align-items:center;gap:6px;}
.btn-vote{background:transparent;border:1.5px solid var(--border);border-radius:100px;padding:5px 14px;font-family:'Cabinet Grotesk',sans-serif;font-size:12px;font-weight:700;cursor:pointer;color:var(--muted);transition:all 0.2s;display:flex;align-items:center;gap:5px;}
.btn-vote:hover,.btn-vote.voted{border-color:var(--v1);color:var(--v3);background:var(--glow);}
.sc-badge{position:absolute;top:12px;right:12px;background:linear-gradient(135deg,var(--v1),var(--pink));color:white;font-size:9px;font-weight:700;padding:3px 10px;border-radius:100px;letter-spacing:1px;z-index:2;}

/* ‚îÄ‚îÄ SERVICES ‚îÄ‚îÄ */
.services-section{padding:100px 6%;position:relative;z-index:1;background:linear-gradient(180deg,var(--bg) 0%,var(--bg2) 100%);}
.services-grid{max-width:1100px;margin:0 auto;display:grid;grid-template-columns:repeat(3,1fr);gap:2px;background:var(--border);}
.service-card{background:var(--bg);padding:40px 36px;transition:all 0.3s;position:relative;overflow:hidden;}
.service-card::before{content:'';position:absolute;inset:0;background:linear-gradient(135deg,rgba(124,58,237,0.05),transparent);opacity:0;transition:opacity 0.3s;}
.service-card:hover{background:var(--s1);}
.service-card:hover::before{opacity:1;}
.srv-num{font-size:11px;color:var(--muted);letter-spacing:2px;font-weight:600;margin-bottom:20px;}
.srv-icon{font-size:36px;margin-bottom:16px;}
.service-card h3{font-family:'Syne',sans-serif;font-size:19px;font-weight:700;margin-bottom:12px;color:var(--text);}
.service-card p{font-size:14px;color:var(--muted);line-height:1.8;}
.srv-tag{display:inline-block;background:rgba(124,58,237,0.12);border:1px solid rgba(124,58,237,0.2);border-radius:100px;padding:4px 12px;font-size:11px;color:var(--v3);margin-top:16px;font-weight:600;}

/* ‚îÄ‚îÄ HOW IT WORKS ‚îÄ‚îÄ */
.how-section{padding:100px 6%;position:relative;z-index:1;}
.how-grid{max-width:1100px;margin:0 auto;display:grid;grid-template-columns:repeat(4,1fr);gap:1px;background:var(--border);}
.how-step{background:var(--bg);padding:40px 32px;position:relative;}
.how-step::after{content:attr(data-num);position:absolute;top:24px;right:24px;font-family:'Syne',sans-serif;font-size:48px;font-weight:800;color:rgba(124,58,237,0.06);}
.how-icon{font-size:28px;margin-bottom:16px;}
.how-step h3{font-family:'Syne',sans-serif;font-size:16px;font-weight:700;margin-bottom:8px;}
.how-step p{font-size:14px;color:var(--muted);line-height:1.7;}

/* ‚îÄ‚îÄ PRICING ‚îÄ‚îÄ */
.pricing-section{padding:100px 6%;position:relative;z-index:1;}
.pricing-grid{max-width:1050px;margin:0 auto;display:grid;grid-template-columns:repeat(3,1fr);gap:20px;}
.price-card{background:var(--s1);border:1.5px solid var(--border);border-radius:20px;padding:40px 32px;position:relative;transition:all 0.3s;}
.price-card:hover{border-color:rgba(124,58,237,0.4);box-shadow:0 20px 60px rgba(124,58,237,0.08);}
.price-card.hot{background:linear-gradient(135deg,rgba(124,58,237,0.12),rgba(232,121,249,0.06));border-color:rgba(124,58,237,0.4);}
.price-card.hot::before{content:'‚≠ê POPULAIRE';position:absolute;top:-14px;left:50%;transform:translateX(-50%);background:linear-gradient(135deg,var(--v1),var(--pink));color:white;font-size:10px;font-weight:700;padding:5px 16px;border-radius:100px;letter-spacing:1px;white-space:nowrap;}
.price-plan{font-size:11px;font-weight:700;letter-spacing:2px;text-transform:uppercase;color:var(--v3);margin-bottom:20px;}
.price-num{font-family:'Syne',sans-serif;font-size:52px;font-weight:800;color:var(--text);letter-spacing:-2px;line-height:1;}
.price-card.hot .price-num{background:linear-gradient(135deg,var(--v2),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
.price-per{font-size:13px;color:var(--muted);margin:6px 0 20px;}
.price-desc{font-size:14px;color:var(--muted);line-height:1.7;margin-bottom:24px;min-height:56px;}
.price-feats{list-style:none;margin-bottom:32px;}
.price-feats li{padding:9px 0;border-bottom:1px solid rgba(124,58,237,0.08);font-size:14px;color:#9d8bb8;display:flex;align-items:center;gap:10px;}
.price-feats li:last-child{border:none;}
.price-feats li::before{content:'‚Üí';color:var(--v3);font-size:12px;flex-shrink:0;}
.btn-plan{width:100%;padding:14px;border-radius:100px;font-family:'Syne',sans-serif;font-size:14px;font-weight:700;cursor:pointer;transition:all 0.2s;}
.btn-plan-outline{background:transparent;border:1.5px solid var(--border);color:var(--v3);}
.btn-plan-outline:hover{border-color:var(--v1);background:var(--glow);}
.btn-plan-solid{background:linear-gradient(135deg,var(--v1),var(--v2));border:none;color:white;box-shadow:0 0 24px rgba(124,58,237,0.3);}
.btn-plan-solid:hover{box-shadow:0 0 48px rgba(124,58,237,0.5);transform:translateY(-1px);}

/* ‚îÄ‚îÄ REVIEWS ‚îÄ‚îÄ */
.reviews-section{padding:100px 6%;position:relative;z-index:1;background:var(--bg2);}
.reviews-grid{max-width:1100px;margin:0 auto;display:grid;grid-template-columns:repeat(3,1fr);gap:16px;}
.rev-card{background:var(--s1);border:1.5px solid var(--border);border-radius:16px;padding:28px;transition:all 0.3s;}
.rev-card:hover{border-color:rgba(124,58,237,0.4);transform:translateY(-3px);}
.rev-stars{color:#f59e0b;font-size:13px;letter-spacing:1px;margin-bottom:14px;}
.rev-text{font-size:15px;color:#9d8bb8;line-height:1.8;margin-bottom:20px;}
.rev-text strong{color:var(--v3);}
.rev-author{display:flex;align-items:center;gap:12px;}
.rev-ava{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:700;color:white;flex-shrink:0;}
.rev-name{font-size:14px;font-weight:700;}
.rev-handle{font-size:12px;color:var(--muted);}
.rev-result{font-size:12px;color:var(--green);font-weight:600;margin-top:3px;}

/* ‚îÄ‚îÄ CTA ‚îÄ‚îÄ */
.cta-section{padding:120px 6%;position:relative;z-index:1;text-align:center;overflow:hidden;}
.cta-section::before{content:'';position:absolute;inset:0;background:radial-gradient(ellipse 60% 60% at 50% 50%,rgba(124,58,237,0.12),transparent);}
.cta-section h2{margin:0 auto 20px;}
.cta-section p{color:var(--muted);font-size:17px;max-width:480px;margin:0 auto 44px;line-height:1.7;}

/* ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ */
footer{background:var(--bg2);border-top:1px solid var(--border);padding:40px 6%;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:16px;position:relative;z-index:1;}
.footer-logo{font-family:'Syne',sans-serif;font-size:20px;font-weight:800;background:linear-gradient(135deg,var(--v2),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
footer p{color:var(--muted);font-size:13px;}

/* ‚îÄ‚îÄ MODALS ‚îÄ‚îÄ */
.modal-bg{display:none;position:fixed;inset:0;background:rgba(5,3,14,0.85);backdrop-filter:blur(16px);z-index:500;align-items:center;justify-content:center;padding:20px;}
.modal-bg.open{display:flex;}
.modal{background:var(--s1);border:1.5px solid var(--border);border-radius:24px;padding:48px;width:100%;max-width:480px;position:relative;animation:popIn 0.3s ease;max-height:90vh;overflow-y:auto;}
.modal::before{content:'';position:absolute;top:0;left:50%;transform:translateX(-50%);width:60%;height:2px;background:linear-gradient(90deg,transparent,var(--v1),transparent);border-radius:100px;}
@keyframes popIn{from{opacity:0;transform:scale(0.95) translateY(8px)}to{opacity:1;transform:scale(1) translateY(0)}}
.modal-close{position:absolute;top:18px;right:18px;background:rgba(124,58,237,0.1);border:1.5px solid var(--border);border-radius:50%;width:32px;height:32px;cursor:pointer;color:var(--muted);font-size:14px;display:flex;align-items:center;justify-content:center;transition:all 0.2s;}
.modal-close:hover{border-color:var(--v1);color:var(--v3);}
.modal h2{font-family:'Syne',sans-serif;font-size:26px;font-weight:800;letter-spacing:-0.5px;margin-bottom:6px;background:linear-gradient(135deg,var(--v2),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
.modal-sub{color:var(--muted);font-size:14px;margin-bottom:28px;}
.fg{margin-bottom:16px;}
label{display:block;font-size:11px;font-weight:700;color:var(--v3);margin-bottom:6px;letter-spacing:1px;text-transform:uppercase;}
input,select,textarea{width:100%;padding:12px 16px;background:rgba(5,3,14,0.8);border:1.5px solid var(--border);border-radius:10px;font-family:'Cabinet Grotesk',sans-serif;font-size:15px;color:var(--text);outline:none;transition:all 0.2s;}
input:focus,select:focus,textarea:focus{border-color:var(--v1);box-shadow:0 0 16px rgba(124,58,237,0.1);}
select option{background:var(--s1);}
textarea{resize:vertical;min-height:80px;}
.btn-modal{width:100%;padding:14px;background:linear-gradient(135deg,var(--v1),var(--v2));border:none;border-radius:100px;font-family:'Syne',sans-serif;font-size:15px;font-weight:700;cursor:pointer;color:white;transition:all 0.2s;margin-top:8px;box-shadow:0 0 24px rgba(124,58,237,0.3);}
.btn-modal:hover{box-shadow:0 0 48px rgba(124,58,237,0.5);}
.btn-modal:disabled{opacity:0.4;cursor:not-allowed;}
.modal-switch{text-align:center;margin-top:16px;font-size:14px;color:var(--muted);}
.modal-switch a{color:var(--v3);cursor:pointer;font-weight:600;}
#card-element{background:rgba(5,3,14,0.8);border:1.5px solid var(--border);border-radius:10px;padding:14px;margin-bottom:6px;}
#card-errors{color:#f43f5e;font-size:13px;min-height:18px;margin-bottom:10px;}
.pay-sum{background:rgba(124,58,237,0.08);border:1.5px solid rgba(124,58,237,0.2);border-radius:12px;padding:20px;text-align:center;margin-bottom:20px;}
.pay-plan{font-size:11px;font-weight:700;letter-spacing:2px;color:var(--v3);text-transform:uppercase;margin-bottom:6px;}
.pay-price{font-family:'Syne',sans-serif;font-size:44px;font-weight:800;background:linear-gradient(135deg,var(--v2),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
.pay-period{font-size:13px;color:var(--muted);}

/* ‚îÄ‚îÄ APP ‚îÄ‚îÄ */
#app{display:none;min-height:100vh;background:var(--bg);}
.app-bar{background:rgba(5,3,14,0.95);border-bottom:1px solid var(--border);padding:0 4%;height:66px;display:flex;align-items:center;position:sticky;top:0;z-index:100;backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);}
.app-bar-logo{font-family:'Syne',sans-serif;font-size:18px;font-weight:800;background:linear-gradient(135deg,var(--v2),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-right:20px;white-space:nowrap;}
.app-tabs{display:flex;flex:1;overflow-x:auto;gap:0;}
.app-tab{padding:0 18px;height:66px;display:flex;align-items:center;font-size:13px;font-weight:600;color:var(--muted);cursor:pointer;border-bottom:2px solid transparent;transition:all 0.2s;background:none;border-top:none;border-left:none;border-right:none;font-family:'Cabinet Grotesk',sans-serif;white-space:nowrap;-webkit-appearance:none;touch-action:manipulation;}
.app-tab:hover{color:var(--text);}
.app-tab.active{color:var(--v3);border-bottom-color:var(--v1);}
.app-right{margin-left:auto;display:flex;align-items:center;gap:10px;}
.user-badge{display:flex;align-items:center;gap:8px;background:rgba(124,58,237,0.1);border:1.5px solid var(--border);border-radius:100px;padding:6px 14px;font-size:13px;font-weight:600;}
.plan-tag{background:linear-gradient(135deg,var(--v1),var(--v2));color:white;font-size:10px;font-weight:700;padding:2px 8px;border-radius:100px;letter-spacing:0.5px;}
.btn-out{background:transparent;border:1.5px solid var(--border);border-radius:100px;padding:6px 16px;font-family:'Cabinet Grotesk',sans-serif;font-size:13px;cursor:pointer;color:var(--muted);transition:all 0.2s;-webkit-appearance:none;touch-action:manipulation;}
.btn-out:hover{border-color:#f43f5e;color:#f43f5e;}

.app-content{max-width:1200px;margin:0 auto;padding:48px 4%;}
.tpanel{display:none;animation:fadeUp 0.3s ease;}
.tpanel.active{display:block;}
@keyframes fadeUp{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
.ptitle{font-family:'Syne',sans-serif;font-size:28px;font-weight:800;letter-spacing:-0.5px;background:linear-gradient(135deg,var(--text),var(--v3));-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:6px;}
.psub{color:var(--muted);font-size:15px;margin-bottom:36px;}

/* DASHBOARD CARDS */
.dash-row{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;margin-bottom:28px;}
.d-card{background:var(--s1);border:1.5px solid var(--border);border-radius:16px;padding:24px;transition:all 0.2s;}
.d-card:hover{border-color:rgba(124,58,237,0.3);}
.d-card.featured{background:linear-gradient(135deg,rgba(124,58,237,0.12),rgba(232,121,249,0.06));border-color:rgba(124,58,237,0.3);}
.d-label{font-size:11px;font-weight:700;color:var(--muted);letter-spacing:1px;text-transform:uppercase;margin-bottom:12px;}
.d-num{font-family:'Syne',sans-serif;font-size:30px;font-weight:800;color:var(--text);}
.d-card.featured .d-num{background:linear-gradient(135deg,var(--v2),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
.d-delta{font-size:12px;color:var(--green);margin-top:6px;font-weight:600;}

/* SUBMIT PROJECT */
.submit-box{background:var(--s1);border:1.5px solid var(--border);border-radius:20px;padding:36px;margin-bottom:28px;}
.submit-box h3{font-family:'Syne',sans-serif;font-size:18px;font-weight:700;margin-bottom:6px;}
.submit-box p{color:var(--muted);font-size:14px;margin-bottom:24px;}
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px;}
.btn-submit-big{width:100%;padding:16px;background:linear-gradient(135deg,var(--v1),var(--v2));border:none;border-radius:100px;font-family:'Syne',sans-serif;font-size:15px;font-weight:700;cursor:pointer;color:white;transition:all 0.3s;box-shadow:0 0 24px rgba(124,58,237,0.3);margin-top:8px;}
.btn-submit-big:hover{box-shadow:0 0 48px rgba(124,58,237,0.5);transform:translateY(-1px);}
.btn-submit-big:disabled{opacity:0.4;cursor:not-allowed;transform:none;}

/* OUTPUT */
.output-area{background:rgba(124,58,237,0.05);border:1.5px solid rgba(124,58,237,0.2);border-radius:16px;padding:24px;margin-top:20px;font-size:15px;line-height:1.9;color:var(--text);white-space:pre-wrap;min-height:100px;}
.output-actions{display:flex;gap:10px;margin-top:12px;flex-wrap:wrap;}
.btn-act{padding:9px 22px;border-radius:100px;font-family:'Cabinet Grotesk',sans-serif;font-size:13px;font-weight:700;cursor:pointer;transition:all 0.2s;}
.btn-copy-act{background:linear-gradient(135deg,var(--v1),var(--v2));border:none;color:white;}
.btn-copy-act:hover{box-shadow:0 0 24px rgba(124,58,237,0.4);}
.btn-regen-act{background:transparent;border:1.5px solid var(--border);color:var(--v3);}
.btn-regen-act:hover{border-color:var(--v1);}

/* MY PROJECTS */
.projects-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:16px;}
.proj-card{background:var(--s1);border:1.5px solid var(--border);border-radius:16px;overflow:hidden;transition:all 0.2s;}
.proj-card:hover{border-color:rgba(124,58,237,0.4);transform:translateY(-2px);}
.proj-banner{height:90px;display:flex;align-items:center;justify-content:center;font-size:32px;}
.proj-body{padding:16px 18px;}
.proj-name{font-family:'Syne',sans-serif;font-size:16px;font-weight:700;margin-bottom:4px;}
.proj-cat{font-size:11px;color:var(--v3);font-weight:600;letter-spacing:1px;text-transform:uppercase;margin-bottom:10px;}
.proj-votes{font-size:13px;color:var(--muted);}
.proj-actions{display:flex;gap:8px;margin-top:12px;}
.btn-proj{flex:1;padding:8px;border-radius:100px;font-size:12px;font-weight:700;cursor:pointer;transition:all 0.2s;font-family:'Cabinet Grotesk',sans-serif;}
.btn-proj-view{background:rgba(124,58,237,0.1);border:1.5px solid var(--border);color:var(--v3);}
.btn-proj-view:hover{border-color:var(--v1);}
.empty-state{text-align:center;padding:60px;color:var(--muted);font-size:15px;}
.empty-icon{font-size:40px;margin-bottom:12px;}

/* CHAT */
.chat-wrap{background:var(--s1);border:1.5px solid var(--border);border-radius:20px;overflow:hidden;height:500px;display:flex;flex-direction:column;}
.chat-top{padding:18px 24px;border-bottom:1px solid var(--border);background:rgba(124,58,237,0.05);display:flex;align-items:center;gap:14px;}
.chat-ava{width:38px;height:38px;background:linear-gradient(135deg,var(--v1),var(--pink));border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:16px;}
.chat-name{font-family:'Syne',sans-serif;font-size:15px;font-weight:700;}
.chat-status{font-size:12px;color:var(--green);font-weight:600;}
.chat-body{flex:1;overflow-y:auto;padding:24px;display:flex;flex-direction:column;gap:14px;}
.chat-body::-webkit-scrollbar{width:4px;}
.chat-body::-webkit-scrollbar-thumb{background:var(--v1);border-radius:2px;}
.msg-ai{align-self:flex-start;max-width:78%;}
.msg-user{align-self:flex-end;max-width:78%;}
.bubble-ai{background:var(--s2);border:1.5px solid var(--border);border-radius:4px 18px 18px 18px;padding:12px 16px;font-size:14px;line-height:1.7;color:var(--text);}
.bubble-user{background:linear-gradient(135deg,var(--v1),var(--v2));border-radius:18px 4px 18px 18px;padding:12px 16px;font-size:14px;line-height:1.7;color:white;}
.chat-in-row{padding:14px 18px;border-top:1px solid var(--border);display:flex;gap:8px;}
.chat-input{flex:1;background:rgba(5,3,14,0.6);border:1.5px solid var(--border);border-radius:100px;padding:10px 18px;font-family:'Cabinet Grotesk',sans-serif;font-size:14px;color:var(--text);outline:none;transition:all 0.2s;}
.chat-input:focus{border-color:var(--v1);}
.btn-send{background:linear-gradient(135deg,var(--v1),var(--v2));border:none;border-radius:100px;width:42px;height:42px;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:16px;color:white;transition:all 0.2s;flex-shrink:0;}
.btn-send:hover{box-shadow:0 0 16px rgba(124,58,237,0.4);}

/* UPGRADE */
.upgrade-strip{background:linear-gradient(135deg,rgba(124,58,237,0.1),rgba(232,121,249,0.05));border:1.5px solid rgba(124,58,237,0.25);border-radius:16px;padding:24px 28px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:16px;margin-top:24px;}
.upgrade-strip h4{font-family:'Syne',sans-serif;font-size:16px;font-weight:700;margin-bottom:4px;}
.upgrade-strip p{font-size:13px;color:var(--muted);}

/* ‚îÄ‚îÄ ENGAGEMENT STATS ‚îÄ‚îÄ */
.sc-engagement{display:flex;align-items:center;gap:6px;flex-wrap:wrap;margin-top:12px;padding-top:12px;border-top:1px solid rgba(124,58,237,0.1);}
.btn-engage{background:transparent;border:1.5px solid var(--border);border-radius:100px;padding:4px 12px;font-family:'Cabinet Grotesk',sans-serif;font-size:12px;font-weight:700;cursor:pointer;color:var(--muted);transition:all 0.2s;display:flex;align-items:center;gap:4px;white-space:nowrap;}
.btn-engage:hover{border-color:var(--v1);color:var(--v3);background:var(--glow);}
.btn-engage.liked{border-color:#f43f5e;color:#f43f5e;background:rgba(244,63,94,0.08);}
.btn-engage.faved{border-color:#f59e0b;color:#f59e0b;background:rgba(245,158,11,0.08);}
.btn-engage.shared{border-color:var(--green);color:var(--green);background:rgba(74,222,128,0.08);}
.views-badge{font-size:11px;color:var(--muted);display:flex;align-items:center;gap:3px;padding:4px 8px;}
.sc-url-link{display:block;margin-top:8px;font-size:12px;color:var(--v3);text-decoration:none;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;transition:color 0.2s;}
.sc-url-link:hover{color:var(--pink);text-decoration:underline;}

/* DOTS */
.dots{display:inline-flex;gap:4px;align-items:center;}
.dots span{width:7px;height:7px;border-radius:50%;background:var(--v2);animation:bounce 1.2s ease infinite;}
.dots span:nth-child(2){animation-delay:.2s;}
.dots span:nth-child(3){animation-delay:.4s;}
@keyframes bounce{0%,60%,100%{transform:translateY(0);opacity:.3}30%{transform:translateY(-7px);opacity:1}}

/* ‚îÄ‚îÄ LIVE CHAT ‚îÄ‚îÄ */
.live-msg{display:flex;gap:10px;align-items:flex-start;animation:fadeUp 0.2s ease;}
.live-msg-avatar{width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;color:white;flex-shrink:0;background:linear-gradient(135deg,var(--v1),var(--pink));}
.live-msg-content{flex:1;min-width:0;}
.live-msg-header{display:flex;align-items:center;gap:8px;margin-bottom:3px;}
.live-msg-name{font-size:13px;font-weight:700;color:var(--v3);}
.live-msg-plan{font-size:9px;font-weight:700;padding:2px 7px;border-radius:100px;letter-spacing:0.5px;}
.live-msg-plan.free{background:rgba(107,91,138,0.2);color:var(--muted);}
.live-msg-plan.starter{background:rgba(124,58,237,0.2);color:var(--v2);}
.live-msg-plan.elite{background:rgba(232,121,249,0.2);color:var(--pink);}
.live-msg-time{font-size:11px;color:var(--muted);}
.live-msg-text{font-size:14px;line-height:1.5;word-break:break-word;}
.live-msg-text a{color:var(--v3);}
.user-item{display:flex;align-items:center;gap:8px;padding:8px 10px;border-radius:10px;cursor:pointer;transition:all 0.2s;}
.user-item:hover{background:var(--glow);border:1px solid var(--border);}
.user-item-avatar{width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:700;color:white;flex-shrink:0;}
.user-item-name{font-size:13px;font-weight:600;flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.user-item-dm{font-size:11px;color:var(--v3);opacity:0;transition:opacity 0.2s;}
.user-item:hover .user-item-dm{opacity:1;}
.online-dot{width:7px;height:7px;border-radius:50%;background:var(--green);box-shadow:0 0 6px var(--green);flex-shrink:0;}
/* DM messages */
.dm-msg{display:flex;flex-direction:column;max-width:80%;}
.dm-msg.mine{align-self:flex-end;align-items:flex-end;}
.dm-msg.theirs{align-self:flex-start;align-items:flex-start;}
.dm-bubble{padding:10px 14px;border-radius:16px;font-size:14px;line-height:1.5;word-break:break-word;}
.dm-msg.mine .dm-bubble{background:linear-gradient(135deg,var(--v1),var(--v2));color:white;border-bottom-right-radius:4px;}
.dm-msg.theirs .dm-bubble{background:var(--s2);border:1px solid var(--border);border-bottom-left-radius:4px;}
.dm-time{font-size:10px;color:var(--muted);margin-top:3px;}
/* system messages */
.system-msg{text-align:center;font-size:12px;color:var(--muted);padding:6px 0;font-style:italic;}
@media(max-width:768px){#chat-layout{grid-template-columns:1fr;height:auto;}#chat-layout>div:last-child{display:none;}}


@media(max-width:768px){
  .services-grid,.pricing-grid,.reviews-grid,.showcase-grid,.how-grid{grid-template-columns:1fr;}
  .dash-row{grid-template-columns:repeat(2,1fr);}
  .form-row{grid-template-columns:1fr;}
  .nav-links,.nav-cta{display:none;}
  .hamburger{display:flex;}
  /* App mobile - cacher les tabs, montrer hamburger */
  .app-tabs,.app-right .user-badge,.app-right .btn-out,.app-right .theme-toggle{display:none;}
  .app-right{display:flex;}
  #hamburger-app{display:flex;}
  .counters{flex-direction:column;align-items:center;}
  .counter-item{width:100%;max-width:300px;}
  .proj-modal-stats{grid-template-columns:repeat(2,1fr);}
  #toast-container{bottom:16px;right:16px;left:16px;}
  .toast{min-width:unset;max-width:100%;}
  .btn-engage,.btn-vote,.btn-nav,.btn-hero-primary,.btn-hero-ghost{min-height:44px;}
  .modal{padding:28px 20px;}
  .hero h1{letter-spacing:-1.5px;}
  .mobile-menu{height:100%;height:-webkit-fill-available;}
  .app-content{padding:24px 4%;}
  .referral-steps{grid-template-columns:1fr;}
  .referral-steps::before{display:none;}
  .ref-rewards{flex-direction:column;align-items:center;}
  .exit-popup-box{padding:32px 20px;}
  .countdown-blocks{gap:4px;}
}

/* ‚îÄ‚îÄ POPUP ANTI-REBOND ‚îÄ‚îÄ */
#exit-popup{display:none;position:fixed;inset:0;background:rgba(5,3,14,0.92);backdrop-filter:blur(20px);z-index:9000;align-items:center;justify-content:center;padding:20px;}
#exit-popup.show{display:flex;animation:fadeUp 0.4s ease;}
.exit-popup-box{background:var(--s1);border:1.5px solid rgba(124,58,237,0.4);border-radius:28px;padding:52px 48px;max-width:520px;width:100%;text-align:center;position:relative;animation:popIn 0.5s cubic-bezier(0.34,1.56,0.64,1);}
.exit-popup-box::before{content:'';position:absolute;top:0;left:50%;transform:translateX(-50%);width:80%;height:2px;background:linear-gradient(90deg,transparent,var(--v1),var(--pink),transparent);border-radius:100px;}
.exit-popup-close{position:absolute;top:16px;right:16px;background:rgba(124,58,237,0.1);border:1.5px solid var(--border);border-radius:50%;width:32px;height:32px;cursor:pointer;color:var(--muted);font-size:14px;display:flex;align-items:center;justify-content:center;transition:all 0.2s;}
.exit-popup-close:hover{border-color:var(--v1);color:var(--v3);}
.exit-popup-emoji{font-size:52px;margin-bottom:16px;display:block;animation:bounce2 1s ease infinite;}
@keyframes bounce2{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}
.exit-popup-box h2{font-family:'Syne',sans-serif;font-size:28px;font-weight:800;letter-spacing:-0.5px;margin-bottom:12px;background:linear-gradient(135deg,var(--v2),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
.exit-popup-box p{color:var(--muted);font-size:15px;line-height:1.7;margin-bottom:28px;}
.exit-popup-offer{background:rgba(124,58,237,0.1);border:1.5px solid rgba(124,58,237,0.25);border-radius:16px;padding:16px 20px;margin-bottom:24px;display:flex;align-items:center;gap:16px;text-align:left;}
.exit-offer-price{text-align:center;flex-shrink:0;}
.exit-old-price{font-size:13px;color:var(--muted);text-decoration:line-through;}
.exit-new-price{font-family:'Syne',sans-serif;font-size:36px;font-weight:800;background:linear-gradient(135deg,var(--v2),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent;line-height:1;}
.exit-offer-desc{font-size:13px;color:#9d8bb8;line-height:1.6;}
.exit-countdown{display:flex;gap:8px;justify-content:center;margin-bottom:24px;}
.exit-cd-block{background:var(--s2);border:1px solid var(--border);border-radius:10px;padding:10px 14px;text-align:center;min-width:52px;}
.exit-cd-num{font-family:'Syne',sans-serif;font-size:22px;font-weight:800;color:var(--v3);line-height:1;}
.exit-cd-label{font-size:9px;color:var(--muted);letter-spacing:1px;text-transform:uppercase;margin-top:3px;}
.btn-exit-cta{width:100%;padding:16px;background:linear-gradient(135deg,var(--v1),var(--v2));border:none;border-radius:100px;font-family:'Syne',sans-serif;font-size:16px;font-weight:800;cursor:pointer;color:white;transition:all 0.3s;box-shadow:0 0 40px rgba(124,58,237,0.4);}
.btn-exit-cta:hover{box-shadow:0 0 70px rgba(124,58,237,0.6);transform:translateY(-2px);}
.exit-skip{margin-top:14px;font-size:13px;color:var(--muted);cursor:pointer;transition:color 0.2s;display:block;}
.exit-skip:hover{color:var(--text);}

/* ‚îÄ‚îÄ BARRE URGENCE ‚îÄ‚îÄ */
#urgency-bar{position:fixed;top:0;left:0;right:0;z-index:250;background:linear-gradient(90deg,var(--v1),#b026ff,var(--pink),var(--v1));background-size:300% 100%;animation:gradShift 4s linear infinite;padding:9px 20px;text-align:center;font-family:'Syne',sans-serif;font-size:13px;font-weight:700;color:white;display:flex;align-items:center;justify-content:center;gap:12px;cursor:pointer;transition:all 0.4s;}
#urgency-bar.hidden{opacity:0;pointer-events:none;transform:translateY(-100%);}
@keyframes gradShift{0%{background-position:0% 50%}100%{background-position:300% 50%}}
#urgency-bar .ub-timer{background:rgba(0,0,0,0.25);border-radius:100px;padding:3px 12px;font-size:12px;letter-spacing:1px;font-family:monospace;}
#urgency-bar .ub-close{background:rgba(255,255,255,0.2);border:none;border-radius:50%;width:22px;height:22px;cursor:pointer;color:white;font-size:11px;display:flex;align-items:center;justify-content:center;flex-shrink:0;margin-left:4px;line-height:1;}
nav{margin-top:40px;}

/* ‚îÄ‚îÄ COUNTDOWN ‚îÄ‚îÄ */
.countdown-wrap{text-align:center;margin-bottom:36px;}
.countdown-label{font-size:13px;color:var(--muted);margin-bottom:14px;font-weight:600;letter-spacing:0.5px;}
.limited-badge{display:inline-flex;align-items:center;gap:8px;background:rgba(220,38,38,0.12);border:1.5px solid rgba(220,38,38,0.25);border-radius:100px;padding:6px 16px;font-size:12px;font-weight:700;color:#f87171;margin-bottom:16px;}
.countdown-blocks{display:inline-flex;gap:8px;align-items:center;}
.cd-block{background:var(--s1);border:1.5px solid rgba(124,58,237,0.3);border-radius:12px;padding:14px 18px;text-align:center;min-width:68px;}
.cd-num{font-family:'Syne',sans-serif;font-size:30px;font-weight:800;color:var(--v3);line-height:1;}
.cd-sep{font-family:'Syne',sans-serif;font-size:28px;font-weight:800;color:var(--v1);margin-bottom:18px;}
.cd-label{font-size:9px;color:var(--muted);letter-spacing:2px;text-transform:uppercase;margin-top:5px;}

/* ‚îÄ‚îÄ PARRAINAGE ‚îÄ‚îÄ */
.referral-section{padding:100px 6%;position:relative;z-index:1;background:linear-gradient(180deg,var(--bg2) 0%,var(--bg) 100%);}
.referral-box{max-width:900px;margin:0 auto;background:var(--s1);border:1.5px solid rgba(124,58,237,0.3);border-radius:28px;padding:56px;text-align:center;position:relative;overflow:hidden;}
.referral-box::before{content:'';position:absolute;top:-100px;right:-100px;width:300px;height:300px;background:rgba(124,58,237,0.06);border-radius:50%;filter:blur(60px);pointer-events:none;}
.referral-steps{display:grid;grid-template-columns:repeat(3,1fr);gap:24px;margin:40px 0;position:relative;z-index:1;}
.referral-steps::before{content:'';position:absolute;top:32px;left:16%;right:16%;height:1px;background:linear-gradient(90deg,var(--v1),var(--pink));z-index:0;}
.ref-step{background:var(--s2);border:1.5px solid var(--border);border-radius:16px;padding:28px 20px;position:relative;z-index:1;}
.ref-step-num{position:absolute;top:-12px;left:50%;transform:translateX(-50%);background:linear-gradient(135deg,var(--v1),var(--pink));color:white;font-family:'Syne',sans-serif;font-size:11px;font-weight:800;padding:3px 12px;border-radius:100px;letter-spacing:1px;}
.ref-step-icon{font-size:28px;margin-bottom:12px;}
.ref-step h4{font-family:'Syne',sans-serif;font-size:15px;font-weight:700;margin-bottom:6px;}
.ref-step p{font-size:13px;color:var(--muted);line-height:1.6;}
.ref-rewards{display:flex;justify-content:center;gap:16px;flex-wrap:wrap;margin:32px 0;position:relative;z-index:1;}
.ref-reward{background:rgba(124,58,237,0.08);border:1.5px solid rgba(124,58,237,0.2);border-radius:14px;padding:20px 24px;text-align:center;min-width:140px;}
.ref-reward-icon{font-size:28px;margin-bottom:8px;}
.ref-reward-val{font-family:'Syne',sans-serif;font-size:18px;font-weight:800;background:linear-gradient(135deg,var(--v2),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
.ref-reward-desc{font-size:11px;color:var(--muted);margin-top:4px;}
.ref-link-box{background:var(--bg);border:1.5px solid var(--border);border-radius:12px;padding:14px 20px;display:flex;align-items:center;gap:12px;max-width:480px;margin:0 auto;position:relative;z-index:1;}
.ref-link-text{flex:1;font-size:13px;color:var(--v3);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-family:monospace;}
.btn-copy-ref{background:linear-gradient(135deg,var(--v1),var(--v2));border:none;border-radius:8px;padding:8px 16px;font-family:'Syne',sans-serif;font-size:12px;font-weight:700;cursor:pointer;color:white;transition:all 0.2s;white-space:nowrap;flex-shrink:0;}
.btn-copy-ref:hover{box-shadow:0 0 16px rgba(124,58,237,0.4);}
.ref-note{font-size:12px;color:var(--muted);margin-top:16px;position:relative;z-index:1;}

/* ‚îÄ‚îÄ ENHANCED ANIMATIONS ‚îÄ‚îÄ */
@keyframes shimmer{0%{background-position:-200% center}100%{background-position:200% center}}
@keyframes glow-pulse{0%,100%{box-shadow:0 0 20px rgba(124,58,237,0.3)}50%{box-shadow:0 0 60px rgba(124,58,237,0.6),0 0 100px rgba(232,121,249,0.2)}}
@keyframes float-slow{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}
.hero-eyebrow{animation:fadeUp 0.7s ease both,float-slow 5s ease-in-out 1s infinite;}
.btn-hero-primary{animation:glow-pulse 3s ease-in-out infinite;}
.price-card.hot{animation:glow-pulse 2.5s ease-in-out infinite;}
.hero h1 .grad{background:linear-gradient(135deg,var(--v2) 0%,var(--pink) 40%,var(--v3) 70%,var(--v2) 100%);background-size:200% auto;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:shimmer 3s linear infinite;}
/* Reveal on scroll */
.reveal{opacity:0;transform:translateY(24px);transition:opacity 0.6s ease,transform 0.6s ease;}
.reveal.visible{opacity:1;transform:translateY(0);}
/* Gradient border on service cards */
.service-card:hover{background:var(--s1);outline:1.5px solid rgba(124,58,237,0.3);}
.service-card:hover h3{text-shadow:0 0 20px rgba(192,132,252,0.4);}
/* Mouse glow on primary buttons */
.btn-hero-primary{position:relative;overflow:hidden;}
.btn-hero-primary::after{content:'';position:absolute;inset:0;background:radial-gradient(circle at var(--mx,50%) var(--my,50%),rgba(255,255,255,0.15),transparent 60%);opacity:0;transition:opacity 0.3s;pointer-events:none;}
.btn-hero-primary:hover::after{opacity:1;}
</style>
</head>
<body>

<!-- URGENCY BAR -->
<div id="urgency-bar" onclick="openModal('signup-modal')">
  <span>üî• Offre limit√©e ‚Äî 1er mois Starter √† <strong>14,99‚Ç¨</strong> au lieu de 29‚Ç¨ !</span>
  <span class="ub-timer" id="ub-timer">‚è± 23:47:12</span>
  <button class="ub-close" onclick="event.stopPropagation();document.getElementById('urgency-bar').classList.add('hidden')">‚úï</button>
</div>

<canvas id="particles"></canvas>
<div class="orb o1"></div>
<div class="orb o2"></div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê LANDING ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="landing">

<!-- TOAST CONTAINER -->
<div id="toast-container"></div>

<!-- MOBILE MENU -->
<div class="mobile-menu" id="mobile-menu">
  <a href="#showcase" onclick="closeMobileMenu()">Vitrine</a>
  <a href="#services" onclick="closeMobileMenu()">Services</a>
  <a href="#pricing" onclick="closeMobileMenu()">Tarifs</a>
  <a href="#reviews" onclick="closeMobileMenu()">Avis</a>
  <div class="mobile-menu-btns">
    <button class="btn-nav btn-nav-ghost" onclick="closeMobileMenu();openModal('login-modal')">Connexion</button>
    <button class="btn-nav btn-nav-solid" onclick="closeMobileMenu();openModal('signup-modal')">Commencer ‚Üí</button>
  </div>
</div>

<nav id="navbar">
  <div class="logo">ViralBoost</div>
  <div class="nav-links">
    <a href="#showcase">Vitrine</a>
    <a href="#services">Services</a>
    <a href="#pricing">Tarifs</a>
    <a href="#reviews">Avis</a>
  </div>
  <div class="nav-cta">
    <button class="theme-toggle" onclick="toggleTheme()" id="theme-btn" title="Mode clair/sombre">üåô</button>
    <select class="sort-select" id="lang-select" onchange="setLang(this.value)" style="padding:7px 14px;font-size:13px;border-radius:100px;cursor:pointer">
      <option value="fr">üá´üá∑ FR</option>
      <option value="en">üá¨üáß EN</option>
      <option value="es">üá™üá∏ ES</option>
    </select>
    <button class="btn-nav btn-nav-ghost" id="btn-login" onclick="openModal('login-modal')">Connexion</button>
    <button class="btn-nav btn-nav-solid" id="btn-signup" onclick="openModal('signup-modal')">Commencer ‚Üí</button>
  </div>
  <button class="hamburger" id="hamburger" onclick="toggleMobileMenu()">
    <span></span><span></span><span></span>
  </button>
</nav>

<!-- HERO -->
<section class="hero">
  <div class="hero-eyebrow"><div class="live-dot"></div> 1 247 projets propuls√©s ce mois</div>
  <h1>
    Ton projet m√©rite<br>
    <span class="grad">d'√™tre vu.</span>
  </h1>
  <p class="hero-sub">ViralBoost combine l'IA et la promotion communautaire pour faire exploser la visibilit√© de ton site, app ou compte TikTok. Strat√©gie, contenu, SEO ‚Äî tout automatis√©.</p>
  <div class="hero-btns">
    <button class="btn-hero-primary" onclick="openModal('signup-modal')">Propulser mon projet ‚Üí</button>
    <button class="btn-hero-ghost" onclick="document.getElementById('showcase').scrollIntoView({behavior:'smooth'})">Voir la vitrine</button>
  </div>
  <p class="hero-note">‚úì 3 boosts gratuits ¬∑ ‚úì Sans carte bancaire ¬∑ ‚úì R√©sultats en 24h</p>
  <div class="counters" style="margin-top:64px">
    <div class="counter-item"><div class="c-num" id="c1">0</div><div class="c-label">Projets propuls√©s</div></div>
    <div class="counter-item"><div class="c-num" id="c2">0</div><div class="c-label">Vues g√©n√©r√©es</div></div>
    <div class="counter-item"><div class="c-num" id="c3">0</div><div class="c-label">Utilisateurs actifs</div></div>
    <div class="counter-item"><div class="c-num" id="c4">0</div><div class="c-label">Note moyenne</div></div>
  </div>
</section>

<!-- SHOWCASE -->
<section class="showcase-section reveal" id="showcase">
  <div class="sec-header">
    <div class="sec-tag">Vitrine communautaire</div>
    <h2>Les projets <em>mis en avant</em></h2>
    <p class="sec-sub">Vote pour tes projets pr√©f√©r√©s. Les plus vot√©s apparaissent en t√™te de liste et gagnent en visibilit√©.</p>
  </div>
  <div class="showcase-filters">
    <button class="sf-btn active" onclick="filterShowcase(this,'all')">Tous</button>
    <button class="sf-btn" onclick="filterShowcase(this,'site')">üåê Sites web</button>
    <button class="sf-btn" onclick="filterShowcase(this,'app')">üì± Apps</button>
    <button class="sf-btn" onclick="filterShowcase(this,'tiktok')">üéµ TikTok</button>
    <button class="sf-btn" onclick="filterShowcase(this,'saas')">üöÄ SaaS</button>
  </div>
  <div class="search-sort-bar" style="max-width:1200px;margin:0 auto 24px">
    <div class="search-input-wrap"><span class="search-icon">üîç</span><input type="text" id="search-landing" placeholder="Rechercher un projet..." oninput="searchShowcase('showcase-grid',this.value)"/></div>
    <select class="sort-select" onchange="sortShowcase('showcase-grid',this.value)">
      <option value="votes">Trier : Votes</option>
      <option value="views">Trier : Vues</option>
      <option value="likes">Trier : Likes</option>
      <option value="recent">Trier : R√©cents</option>
    </select>
  </div>
  <div class="showcase-grid" id="showcase-grid"></div>
</section>

<!-- SERVICES -->
<section class="services-section reveal" id="services">
  <div class="sec-header">
    <div class="sec-tag">Ce qu'on fait pour toi</div>
    <h2>Six services. <em>Un seul outil.</em></h2>
  </div>
  <div class="services-grid">
    <div class="service-card">
      <div class="srv-num">01 ‚Äî SOCIAL</div>
      <div class="srv-icon">üì±</div>
      <h3>Promo TikTok & Instagram</h3>
      <p>Scripts viraux, calendrier de contenu 30 jours, hashtags optimis√©s, strat√©gie de croissance personnalis√©e ‚Äî tout g√©n√©r√© par l'IA en quelques secondes.</p>
      <span class="srv-tag">IA G√©n√©rative</span>
    </div>
    <div class="service-card">
      <div class="srv-num">02 ‚Äî SEO</div>
      <div class="srv-icon">üîç</div>
      <h3>R√©f√©rencement Google</h3>
      <p>Audit SEO complet, plan de mots-cl√©s cibl√©s, articles optimis√©s pour Google. L'IA analyse ton secteur et g√©n√®re une strat√©gie pour appara√Ætre en premi√®re page.</p>
      <span class="srv-tag">SEO IA</span>
    </div>
    <div class="service-card">
      <div class="srv-num">03 ‚Äî ADS</div>
      <div class="srv-icon">üé®</div>
      <h3>Cr√©ation de publicit√©s</h3>
      <p>Textes publicitaires Facebook Ads, Google Ads, TikTok Ads. L'IA g√©n√®re des accroches, descriptions et call-to-actions qui convertissent.</p>
      <span class="srv-tag">Copywriting IA</span>
    </div>
    <div class="service-card">
      <div class="srv-num">04 ‚Äî EMAIL</div>
      <div class="srv-icon">üìß</div>
      <h3>Email marketing automatis√©</h3>
      <p>S√©quences d'emails de bienvenue, relance, promotion. L'IA r√©dige des emails personnalis√©s qui convertissent et fid√©lisent ton audience.</p>
      <span class="srv-tag">Automatisation</span>
    </div>
    <div class="service-card">
      <div class="srv-num">05 ‚Äî STRAT√âGIE</div>
      <div class="srv-icon">üìä</div>
      <h3>Strat√©gie compl√®te 90 jours</h3>
      <p>Plan de croissance complet : objectifs, canaux √† prioriser, actions semaine par semaine. L'IA analyse ton projet et cr√©e une roadmap sur-mesure.</p>
      <span class="srv-tag">Roadmap IA</span>
    </div>
    <div class="service-card">
      <div class="srv-num">06 ‚Äî VITRINE</div>
      <div class="srv-icon">üöÄ</div>
      <h3>Exposition communautaire</h3>
      <p>Ton projet affich√© sur notre vitrine publique. Des milliers de visiteurs peuvent le d√©couvrir, voter pour lui et partager. Une visibilit√© organique r√©elle.</p>
      <span class="srv-tag">Community</span>
    </div>
  </div>
</section>

<!-- HOW IT WORKS -->
<section class="how-section">
  <div class="sec-header">
    <div class="sec-tag">Comment √ßa marche</div>
    <h2>Pr√™t en <em>5 minutes.</em></h2>
  </div>
  <div class="how-grid">
    <div class="how-step" data-num="01">
      <div class="how-icon">üìù</div>
      <h3>D√©cris ton projet</h3>
      <p class="how-desc" style="color:var(--muted);font-size:14px;line-height:1.7;margin-top:8px">Remplis le brief en 2 minutes : ton projet, ta cible, tes objectifs. Plus c'est pr√©cis, meilleur c'est.</p>
    </div>
    <div class="how-step" data-num="02">
      <div class="how-icon">ü§ñ</div>
      <h3>L'IA g√©n√®re tout</h3>
      <p class="how-desc" style="color:var(--muted);font-size:14px;line-height:1.7;margin-top:8px">En 10 secondes, l'IA cr√©e ta strat√©gie compl√®te : contenus, SEO, emails, pubs. Pr√™t √† copier-coller.</p>
    </div>
    <div class="how-step" data-num="03">
      <div class="how-icon">üåê</div>
      <h3>Ton projet est expos√©</h3>
      <p class="how-desc" style="color:var(--muted);font-size:14px;line-height:1.7;margin-top:8px">Tu apparais dans notre vitrine communautaire. La communaut√© vote, partage et d√©couvre ton projet.</p>
    </div>
    <div class="how-step" data-num="04">
      <div class="how-icon">üìà</div>
      <h3>Tu vois les r√©sultats</h3>
      <p class="how-desc" style="color:var(--muted);font-size:14px;line-height:1.7;margin-top:8px">Suis tes votes, vues et clics. Ajuste ta strat√©gie avec le coach IA en temps r√©el.</p>
    </div>
  </div>
</section>

<!-- REVIEWS -->
<section class="reviews-section reveal" id="reviews">
  <div class="sec-header">
    <div class="sec-tag">Ils nous font confiance</div>
    <h2>Des r√©sultats <em>concrets</em></h2>
  </div>
  <div class="reviews-grid">
    <div class="rev-card">
      <div class="rev-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
      <p class="rev-text">¬´ ViralBoost a g√©n√©r√© <strong>ma strat√©gie TikTok compl√®te en 30 secondes</strong>. R√©sultat : +45 000 followers en 6 semaines. Je n'aurais jamais trouv√© √ßa seul. ¬ª</p>
      <div class="rev-author"><div class="rev-ava" style="background:linear-gradient(135deg,#7c3aed,#e040fb)">LM</div><div><div class="rev-name">Lucas M.</div><div class="rev-handle">Cr√©ateur fitness ¬∑ 142K abonn√©s</div><div class="rev-result">+45K followers en 6 semaines</div></div></div>
    </div>
    <div class="rev-card">
      <div class="rev-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
      <p class="rev-text">¬´ Mon app a re√ßu <strong>1 200 votes sur la vitrine en 2 jours</strong>. Du trafic organique que je n'aurais jamais eu autrement. Le syst√®me de votes c'est du g√©nie. ¬ª</p>
      <div class="rev-author"><div class="rev-ava" style="background:linear-gradient(135deg,#2563eb,#7c3aed)">KA</div><div><div class="rev-name">Karim A.</div><div class="rev-handle">Fondateur SaaS ¬∑ Paris</div><div class="rev-result">1 200 votes ¬∑ 8 400 vues</div></div></div>
    </div>
    <div class="rev-card">
      <div class="rev-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
      <p class="rev-text">¬´ La strat√©gie SEO g√©n√©r√©e par l'IA m'a permis de <strong>passer de la page 8 √† la page 1 Google</strong> en 3 mois. Incroyable pour 29‚Ç¨/mois. ¬ª</p>
      <div class="rev-author"><div class="rev-ava" style="background:linear-gradient(135deg,#059669,#2563eb)">SB</div><div><div class="rev-name">Sophie B.</div><div class="rev-handle">E-commerce ¬∑ Lyon</div><div class="rev-result">Page 1 Google ¬∑ +280% trafic</div></div></div>
    </div>
    <div class="rev-card">
      <div class="rev-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
      <p class="rev-text">¬´ Les s√©quences emails g√©n√©r√©es <strong>convertissent √† 34%</strong>. Avant je gal√©rais √† √©crire un seul email. Maintenant j'ai une s√©quence compl√®te en 2 minutes. ¬ª</p>
      <div class="rev-author"><div class="rev-ava" style="background:linear-gradient(135deg,#d97706,#dc2626)">NL</div><div><div class="rev-name">Nicolas L.</div><div class="rev-handle">Formateur en ligne ¬∑ Bordeaux</div><div class="rev-result">34% taux de conversion email</div></div></div>
    </div>
    <div class="rev-card">
      <div class="rev-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
      <p class="rev-text">¬´ Mon compte Instagram est pass√© de <strong>800 √† 28 000 abonn√©s</strong> en 4 mois en suivant la strat√©gie ViralBoost. Le calendrier de contenu est parfait. ¬ª</p>
      <div class="rev-author"><div class="rev-ava" style="background:linear-gradient(135deg,#be185d,#7c3aed)">AM</div><div><div class="rev-name">Amina M.</div><div class="rev-handle">Photographe ¬∑ Marseille</div><div class="rev-result">800 ‚Üí 28K Instagram</div></div></div>
    </div>
    <div class="rev-card">
      <div class="rev-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
      <p class="rev-text">¬´ Pour un cr√©ateur solo comme moi, <strong>ViralBoost remplace une vraie agence</strong>. J'ai tout : strat√©gie, contenu, pub, SEO. Et √ßa co√ªte 100x moins cher. ¬ª</p>
      <div class="rev-author"><div class="rev-ava" style="background:linear-gradient(135deg,#0284c7,#059669)">RP</div><div><div class="rev-name">R√©mi P.</div><div class="rev-handle">D√©veloppeur indie ¬∑ Nantes</div><div class="rev-result">3 apps propuls√©es via ViralBoost</div></div></div>
    </div>
  </div>
</section>

<!-- PRICING -->
<section class="pricing-section reveal" id="pricing">
  <div class="sec-header">
    <div class="sec-tag">Tarifs</div>
    <h2>Simple. <em>Transparent.</em></h2>
    <p class="sec-sub">Commence gratuitement. Passe au Pro quand tu vois les r√©sultats.</p>
  </div>
  <!-- COUNTDOWN -->
  <div class="countdown-wrap">
    <div class="limited-badge">üî• Offre limit√©e ¬∑ Seulement 47 places restantes</div>
    <div class="countdown-label">R√©duction -50% sur le plan Starter ‚Äî expire dans :</div>
    <div class="countdown-blocks">
      <div class="cd-block"><div class="cd-num" id="cd-h">11</div><div class="cd-label">heures</div></div>
      <div class="cd-sep">:</div>
      <div class="cd-block"><div class="cd-num" id="cd-m">47</div><div class="cd-label">minutes</div></div>
      <div class="cd-sep">:</div>
      <div class="cd-block"><div class="cd-num" id="cd-s">33</div><div class="cd-label">secondes</div></div>
    </div>
  </div>

  <div class="pricing-grid">
    <div class="price-card">
      <div class="price-plan">Gratuit</div>
      <div class="price-num">0‚Ç¨</div>
      <div class="price-per">pour toujours</div>
      <div class="price-desc">Pour tester et d√©couvrir ViralBoost sans risque.</div>
      <ul class="price-feats">
        <li>3 strat√©gies IA/mois</li>
        <li>Vitrine publique (1 projet)</li>
        <li>Coach IA (5 messages/jour)</li>
        <li>Acc√®s communaut√©</li>
      </ul>
      <button class="btn-plan btn-plan-outline" onclick="openModal('signup-modal')">Commencer gratuitement</button>
    </div>
    <div class="price-card hot">
      <div class="price-plan">Starter</div>
      <div class="price-num">29‚Ç¨</div>
      <div class="price-per">/mois ¬∑ sans engagement</div>
      <div class="price-desc">Pour les cr√©ateurs qui veulent des r√©sultats concrets rapidement.</div>
      <ul class="price-feats">
        <li>30 strat√©gies IA/mois</li>
        <li>Vitrine prioritaire (3 projets)</li>
        <li>Coach IA illimit√©</li>
        <li>G√©n√©rateur de pubs</li>
        <li>S√©quences email</li>
        <li>Banni√®re rotative landing</li>
      </ul>
      <button class="btn-plan btn-plan-solid" onclick="startSub('starter')">Commencer Starter ‚Üí</button>
    </div>
    <div class="price-card">
      <div class="price-plan">Elite</div>
      <div class="price-num">79‚Ç¨</div>
      <div class="price-per">/mois ¬∑ sans engagement</div>
      <div class="price-desc">Pour les projets ambitieux qui veulent dominer leur march√©.</div>
      <ul class="price-feats">
        <li>Strat√©gies IA illimit√©es</li>
        <li>Vitrine en t√™te de liste</li>
        <li>Tous les services d√©bloqu√©s</li>
        <li>Strat√©gie 90 jours compl√®te</li>
        <li>Support d√©di√© direct</li>
        <li>Badge "Elite" sur la vitrine</li>
      </ul>
      <button class="btn-plan btn-plan-outline" onclick="startSub('elite')">Commencer Elite ‚Üí</button>
    </div>
  </div>
</section>

<!-- PARRAINAGE -->
<section class="referral-section" id="referral">
  <div class="sec-header">
    <div class="sec-tag">Programme de parrainage</div>
    <h2>Invite tes amis,<br><em>gagne des r√©compenses.</em></h2>
    <p class="sec-sub">Pour chaque ami qui sinfscrit via ton lien, vous gagnez tous les deux.</p>
  </div>
  <div class="referral-box">
    <div class="referral-steps">
      <div class="ref-step">
        <div class="ref-step-num">01</div>
        <div class="ref-step-icon">üîó</div>
        <h4>Copie ton lien</h4>
        <p>Partage ton lien unique sur tes r√©seaux, groupes ou par message.</p>
      </div>
      <div class="ref-step">
        <div class="ref-step-num">02</div>
        <div class="ref-step-icon">üë•</div>
        <h4>Ton ami sinscrit</h4>
        <p>Il cr√©e son compte via ton lien et d√©couvre ViralBoost gratuitement.</p>
      </div>
      <div class="ref-step">
        <div class="ref-step-num">03</div>
        <div class="ref-step-icon">üéÅ</div>
        <h4>Vous √™tes r√©compens√©s</h4>
        <p>Toi et ton ami recevez chacun des boosts bonus et r√©ductions.</p>
      </div>
    </div>
    <div class="ref-rewards">
      <div class="ref-reward"><div class="ref-reward-icon">üöÄ</div><div class="ref-reward-val">+10 boosts</div><div class="ref-reward-desc">Par filleul inscrit</div></div>
      <div class="ref-reward"><div class="ref-reward-icon">üí∞</div><div class="ref-reward-val">1 mois offert</div><div class="ref-reward-desc">√Ä partir de 3 filleuls</div></div>
      <div class="ref-reward"><div class="ref-reward-icon">‚ôæÔ∏è</div><div class="ref-reward-val">Plan Elite</div><div class="ref-reward-desc">√Ä partir de 10 filleuls</div></div>
    </div>
    <p style="font-size:14px;color:var(--muted);margin-bottom:16px;position:relative;z-index:1">Connecte-toi pour obtenir ton lien de parrainage personnalis√© :</p>
    <div class="ref-link-box">
      <span class="ref-link-text" id="ref-link-display">viralboost.app/ref/TON-CODE</span>
      <button class="btn-copy-ref" onclick="copyRefLink()">üìã Copier</button>
    </div>
    <p class="ref-note">üîí Tes r√©compenses sont cr√©dit√©es automatiquement apr√®s inscription de ton filleul.</p>
  </div>
</section>

<!-- CTA -->
<section class="cta-section">
  <div class="sec-tag">Rejoins 1 200+ projets</div>
  <h2>Ton projet m√©rite<br><em>d'√™tre vu.</em></h2>
  <p>Commence gratuitement. 3 boosts offerts. Aucune carte bancaire requise.</p>
  <button class="btn-hero-primary" onclick="openModal('signup-modal')">Propulser mon projet maintenant ‚Üí</button>
</section>

<footer>
  <div class="footer-logo">ViralBoost</div>
  <p>¬© 2025 ViralBoost ‚Äî Tous droits r√©serv√©s ¬∑ L'IA au service de ta visibilit√©</p>
  <p>Paiements s√©curis√©s Stripe ¬∑ IA Claude by Anthropic</p>
</footer>

</div><!-- /landing -->


<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê APP ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

<!-- MENU MOBILE APP -->
<div class="mobile-menu" id="mobile-menu-app">
  <div style="font-size:13px;color:var(--muted);font-weight:700;letter-spacing:2px;text-transform:uppercase;margin-bottom:8px" id="app-menu-user">üë§ Utilisateur</div>
  <button onclick="closeMobileMenuApp();showTab('dashboard',null)">üè† Dashboard</button>
  <button onclick="closeMobileMenuApp();showTab('boost',null)">üöÄ Booster</button>
  <button onclick="closeMobileMenuApp();showTab('projects',null)">üåê Mes projets</button>
  <button onclick="closeMobileMenuApp();showTab('showcase',null)">‚ú® Vitrine</button>
  <button onclick="closeMobileMenuApp();showTab('coach',null)">ü§ñ Coach IA</button>
  <button onclick="closeMobileMenuApp();showTab('livechat',null)">üí¨ Live Chat</button>
  <button onclick="closeMobileMenuApp();showTab('history',null)">üìã Historique</button>
  <div class="mobile-menu-btns">
    <button class="btn-nav btn-nav-ghost" style="font-size:14px" onclick="closeMobileMenuApp();toggleTheme()">üåô Mode clair/sombre</button>
    <button class="btn-nav" style="background:linear-gradient(135deg,#dc2626,#f43f5e);border:none;color:white;font-size:14px" onclick="closeMobileMenuApp();logout()">üö™ D√©connexion</button>
  </div>
</div>

<div id="app">
  <div class="app-bar">
    <div class="app-bar-logo">ViralBoost</div>
    <div class="app-tabs">
      <button class="app-tab active" onclick="showTab('dashboard',this)">üè† Dashboard</button>
      <button class="app-tab" onclick="showTab('boost',this)">üöÄ Booster</button>
      <button class="app-tab" onclick="showTab('projects',this)">üåê Mes projets</button>
      <button class="app-tab" onclick="showTab('showcase',this)">‚ú® Vitrine</button>
      <button class="app-tab" onclick="showTab('coach',this)">ü§ñ Coach IA</button>
      <button class="app-tab" onclick="showTab('livechat',this)" id="tab-btn-livechat">üí¨ Live Chat</button>
      <button class="app-tab" onclick="showTab('history',this)">üìã Historique</button>
    </div>
    <div class="app-right">
      <button class="theme-toggle" onclick="toggleTheme()" id="theme-btn-app" title="Mode clair/sombre">üåô</button>
      <div class="user-badge">üë§ <span id="app-username">Utilisateur</span> <span class="plan-tag" id="app-plan">FREE</span></div>
      <button class="btn-out" onclick="logout()">D√©connexion</button>
    </div>
    <button class="hamburger" id="hamburger-app" style="display:none" onclick="toggleMobileMenuApp()">
      <span></span><span></span><span></span>
    </button>
  </div>

  <div class="app-content">

    <!-- DASHBOARD -->
    <div class="tpanel active" id="tab-dashboard">
      <div class="ptitle">Bonjour, <span id="dash-name"></span> üëã</div>
      <p class="psub">Voici l'√©tat de ta pr√©sence digitale.</p>
      <div class="dash-row">
        <div class="d-card featured"><div class="d-label">Boosts restants</div><div class="d-num" id="stat-boosts">3</div><div class="d-delta">Ce mois</div></div>
        <div class="d-card"><div class="d-label">Projets actifs</div><div class="d-num" id="stat-projects">0</div><div class="d-delta" style="color:var(--muted)">Sur la vitrine</div></div>
        <div class="d-card"><div class="d-label">Votes re√ßus</div><div class="d-num" id="stat-votes">0</div><div class="d-delta">‚Üë Communaut√©</div></div>
        <div class="d-card"><div class="d-label">Plan actuel</div><div class="d-num" id="stat-plan" style="font-size:20px;margin-top:4px">FREE</div><div class="d-delta" style="color:var(--muted)">ViralBoost</div></div>
      </div>

      <!-- FEATURED PROJECTS ON DASHBOARD -->
      <div class="submit-box" style="padding:24px">
        <h3>üèÜ Top projets de la semaine</h3>
        <p style="margin-bottom:16px">Les projets les plus vot√©s par la communaut√© ViralBoost.</p>
        <div id="dash-top" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:12px"></div>
      </div>

      <div class="upgrade-strip">
        <div><h4>Passe au plan Starter üöÄ</h4><p>30 boosts/mois ¬∑ vitrine prioritaire ¬∑ coach IA illimit√© ¬∑ 29‚Ç¨/mois</p></div>
        <button class="btn-hero-primary" style="padding:12px 28px;font-size:14px" onclick="startSub('starter')">Upgrade ‚Üí</button>
      </div>
    </div>

    <!-- BOOST -->
    <div class="tpanel" id="tab-boost">
      <div class="ptitle">üöÄ Booster mon projet</div>
      <p class="psub">D√©cris ton projet et l'IA g√©n√®re ta strat√©gie compl√®te en 10 secondes.</p>

      <div class="submit-box">
        <h3>Choisis ton service</h3>
        <p>S√©lectionne le type de strat√©gie que tu veux g√©n√©rer.</p>
        <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:10px;margin-bottom:24px" id="service-picker">
          <div class="sf-btn active" style="padding:12px;text-align:center;border-radius:12px;cursor:pointer" onclick="pickService(this,'social')">üì±<br>TikTok/Instagram</div>
          <div class="sf-btn" style="padding:12px;text-align:center;border-radius:12px;cursor:pointer" onclick="pickService(this,'seo')">üîç<br>SEO Google</div>
          <div class="sf-btn" style="padding:12px;text-align:center;border-radius:12px;cursor:pointer" onclick="pickService(this,'ads')">üé®<br>Publicit√©s</div>
          <div class="sf-btn" style="padding:12px;text-align:center;border-radius:12px;cursor:pointer" onclick="pickService(this,'email')">üìß<br>Email marketing</div>
          <div class="sf-btn" style="padding:12px;text-align:center;border-radius:12px;cursor:pointer" onclick="pickService(this,'strategy')">üìä<br>Strat√©gie 90j</div>
          <div class="sf-btn" style="padding:12px;text-align:center;border-radius:12px;cursor:pointer" onclick="pickService(this,'showcase')">üåê<br>Ajouter vitrine</div>
        </div>

        <div class="form-row">
          <div class="fg"><label>Nom de ton projet</label><input type="text" id="b-name" placeholder="Ex: ContentPro, Mon app fitness..."/></div>
          <div class="fg"><label>Type de projet</label>
            <select id="b-type">
              <option value="site">üåê Site web</option>
              <option value="app">üì± Application</option>
              <option value="saas">üöÄ SaaS</option>
              <option value="tiktok">üéµ Compte TikTok</option>
              <option value="instagram">üì∏ Compte Instagram</option>
              <option value="ecommerce">üõçÔ∏è E-commerce</option>
            </select>
          </div>
        </div>
        <div class="form-row">
          <div class="fg"><label>URL / lien</label><input type="text" id="b-url" placeholder="https://..."/></div>
          <div class="fg"><label>Ta cible</label><input type="text" id="b-target" placeholder="Ex: Traders d√©butants, cr√©ateurs 18-25 ans..."/></div>
        </div>
        <div class="fg"><label>D√©cris ton projet et tes objectifs</label>
          <textarea id="b-desc" rows="3" placeholder="Ex: Je veux promouvoir mon SaaS de trading IA, ciblant les traders crypto fran√ßais. Objectif: 100 abonn√©s en 30 jours..."></textarea>
        </div>
        <button class="btn-submit-big" id="btn-boost" onclick="generateBoost()">‚ö° G√©n√©rer ma strat√©gie</button>

        <div id="boost-output" style="display:none">
          <div class="output-area" id="boost-text"></div>
          <div class="output-actions">
            <button class="btn-act btn-copy-act" onclick="copyBoost()">üìã Copier la strat√©gie</button>
            <button class="btn-act btn-regen-act" onclick="generateBoost()">‚Üª Reg√©n√©rer</button>
            <button class="btn-act btn-copy-act" style="background:linear-gradient(135deg,#059669,#0284c7)" onclick="addToShowcase()">üåê Ajouter √† la vitrine</button>
          </div>
        </div>
      </div>
    </div>

    <!-- MY PROJECTS -->
    <div class="tpanel" id="tab-projects">
      <div class="ptitle">üåê Mes projets</div>
      <p class="psub">Tous tes projets sur la vitrine ViralBoost.</p>
      <div class="projects-grid" id="projects-grid">
        <div class="empty-state"><div class="empty-icon">üöÄ</div>Aucun projet encore.<br>Booste ton premier projet !</div>
      </div>
    </div>

    <!-- SHOWCASE APP -->
    <div class="tpanel" id="tab-showcase">
      <div class="ptitle">‚ú® Vitrine communautaire</div>
      <p class="psub">D√©couvrez et votez pour les projets de la communaut√© ViralBoost.</p>
      <div class="showcase-filters" style="justify-content:flex-start;margin-bottom:16px">
        <button class="sf-btn active" onclick="filterApp(this,'all')">Tous</button>
        <button class="sf-btn" onclick="filterApp(this,'site')">üåê Sites</button>
        <button class="sf-btn" onclick="filterApp(this,'app')">üì± Apps</button>
        <button class="sf-btn" onclick="filterApp(this,'tiktok')">üéµ TikTok</button>
        <button class="sf-btn" onclick="filterApp(this,'saas')">üöÄ SaaS</button>
      </div>
      <div class="search-sort-bar" style="margin-bottom:20px">
        <div class="search-input-wrap"><span class="search-icon">üîç</span><input type="text" id="search-app" placeholder="Rechercher un projet..." oninput="searchShowcase('app-showcase-grid',this.value)"/></div>
        <select class="sort-select" onchange="sortShowcase('app-showcase-grid',this.value)">
          <option value="votes">Trier : Votes</option>
          <option value="views">Trier : Vues</option>
          <option value="likes">Trier : Likes</option>
          <option value="recent">Trier : R√©cents</option>
        </select>
      </div>
      <div class="showcase-grid" id="app-showcase-grid"></div>
    </div>

    <!-- COACH -->
    <div class="tpanel" id="tab-coach">
      <div class="ptitle">ü§ñ Coach IA Promotion</div>
      <p class="psub">Ton expert en croissance digitale disponible 24h/24.</p>
      <div class="chat-wrap">
        <div class="chat-top">
          <div class="chat-ava">ü§ñ</div>
          <div>
            <div class="chat-name">Coach ViralBoost</div>
            <div class="chat-status">‚óè En ligne ¬∑ R√©pond en quelques secondes</div>
          </div>
        </div>
        <div class="chat-body" id="chat-msgs">
          <div class="msg-ai"><div class="bubble-ai" data-i18n-html="coach_greeting">Salut ! Je suis ton coach IA sp√©cialis√© en croissance digitale et promotion. üöÄ<br><br>Je peux t'aider avec <strong>TikTok, Instagram, SEO, publicit√©s, email marketing, strat√©gie de contenu</strong> ‚Äî et bien plus.<br><br>Parle-moi de ton projet et je te donne des conseils personnalis√©s !</div></div>
        </div>
        <div class="chat-in-row">
          <input class="chat-input" id="coach-in" type="text" placeholder="Ex: Comment faire mes premiers 10 000 abonn√©s TikTok ?" onkeydown="if(event.key==='Enter')sendCoach()"/>
          <button class="btn-send" onclick="sendCoach()">‚Üí</button>
        </div>
      </div>
    </div>

    <!-- LIVE CHAT -->
    <div class="tpanel" id="tab-livechat">
      <div class="ptitle">üí¨ <span data-i18n="livechat_title">Live Chat</span></div>
      <p class="psub" data-i18n="livechat_sub">Discutez en temps r√©el avec tous les membres ViralBoost.</p>
      <div style="display:grid;grid-template-columns:1fr 280px;gap:20px;height:600px" id="chat-layout">
        <!-- Main chat -->
        <div class="chat-wrap" style="display:flex;flex-direction:column;height:600px">
          <div class="chat-top" style="justify-content:space-between">
            <div style="display:flex;align-items:center;gap:10px">
              <div class="live-dot" style="width:9px;height:9px"></div>
              <div>
                <div class="chat-name" data-i18n="livechat_room">Salle communautaire</div>
                <div class="chat-status" id="online-count">‚óè 0 en ligne</div>
              </div>
            </div>
          </div>
          <div class="chat-body" id="live-msgs" style="flex:1;overflow-y:auto"></div>
          <div id="live-typing" style="font-size:12px;color:var(--muted);padding:4px 16px;min-height:20px"></div>
          <div class="chat-in-row">
            <input class="chat-input" id="live-in" type="text" placeholder="Message..." maxlength="500" onkeydown="if(event.key==='Enter')sendLiveMsg()" oninput="sendTyping()"/>
            <button class="btn-send" onclick="sendLiveMsg()">‚Üí</button>
          </div>
        </div>
        <!-- Users sidebar -->
        <div style="background:var(--s1);border:1.5px solid var(--border);border-radius:16px;overflow:hidden;display:flex;flex-direction:column">
          <div style="padding:14px 16px;border-bottom:1px solid var(--border);font-size:12px;font-weight:700;color:var(--v3);letter-spacing:1px;text-transform:uppercase" data-i18n="online_users">Membres en ligne</div>
          <div id="users-list" style="flex:1;overflow-y:auto;padding:8px"></div>
        </div>
      </div>
    </div>

    <!-- HISTORY -->
    <div class="tpanel" id="tab-history">
      <div class="ptitle">üìã Historique des boosts</div>
      <p class="psub">Tous tes boosts g√©n√©r√©s avec ViralBoost.</p>
      <div id="history-list-container">
        <div class="empty-state"><div class="empty-icon">üìã</div>Aucun boost encore.<br>Lance ta premi√®re strat√©gie !</div>
      </div>
    </div>

  </div>
</div>

<!-- DM MODAL -->
<div class="modal-bg" id="dm-modal">
  <div class="modal" style="max-width:500px;padding:0;overflow:hidden;display:flex;flex-direction:column;height:560px">
    <div style="padding:20px 24px;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:12px">
      <div id="dm-avatar" style="width:38px;height:38px;border-radius:50%;background:linear-gradient(135deg,var(--v1),var(--pink));display:flex;align-items:center;justify-content:center;font-size:16px">üë§</div>
      <div>
        <div style="font-weight:700;font-size:15px" id="dm-username">Utilisateur</div>
        <div style="font-size:12px;color:var(--muted)" id="dm-status">En ligne</div>
      </div>
      <button class="modal-close" style="position:static;margin-left:auto" onclick="closeModal('dm-modal')">‚úï</button>
    </div>
    <div id="dm-msgs" style="flex:1;overflow-y:auto;padding:16px;display:flex;flex-direction:column;gap:8px"></div>
    <div id="dm-typing-ind" style="font-size:12px;color:var(--muted);padding:4px 16px;min-height:18px"></div>
    <div style="padding:12px 16px;border-top:1px solid var(--border);display:flex;gap:8px">
      <input class="chat-input" id="dm-in" type="text" placeholder="Message priv√©..." maxlength="500" onkeydown="if(event.key==='Enter')sendDM()" oninput="sendDMTyping()" style="flex:1"/>
      <button class="btn-send" onclick="sendDM()">‚Üí</button>
    </div>
  </div>
</div>

<!-- PROJECT DETAIL MODAL -->
<div class="modal-bg" id="proj-detail-modal">
  <div class="modal" style="max-width:560px">
    <button class="modal-close" onclick="closeModal('proj-detail-modal')">‚úï</button>
    <div class="proj-modal-banner" id="pdm-banner">üöÄ</div>
    <h2 id="pdm-name">Projet</h2>
    <div class="modal-sub" id="pdm-type"></div>
    <div class="proj-modal-stats">
      <div class="proj-stat"><div class="proj-stat-num" id="pdm-views">0</div><div class="proj-stat-label">üëÅ Vues</div></div>
      <div class="proj-stat"><div class="proj-stat-num" id="pdm-likes">0</div><div class="proj-stat-label">‚ù§Ô∏è Likes</div></div>
      <div class="proj-stat"><div class="proj-stat-num" id="pdm-favs">0</div><div class="proj-stat-label">‚≠ê Favoris</div></div>
      <div class="proj-stat"><div class="proj-stat-num" id="pdm-votes">0</div><div class="proj-stat-label">‚ñ≤ Votes</div></div>
    </div>
    <div id="pdm-url" style="margin:8px 0"></div>
    <div style="font-size:12px;font-weight:700;color:var(--v3);letter-spacing:1px;text-transform:uppercase;margin-top:16px;margin-bottom:6px">Strat√©gie g√©n√©r√©e</div>
    <div class="proj-strategy" id="pdm-strategy">Aucune strat√©gie enregistr√©e.</div>
    <div style="display:flex;gap:10px;margin-top:16px;flex-wrap:wrap">
      <button class="btn-pdf" onclick="exportPDF()" id="pdm-pdf-btn">üìÑ Exporter en PDF</button>
      <button class="btn-act btn-regen-act" onclick="copyStrategy()" style="flex:1">üìã Copier la strat√©gie</button>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MODALS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

<!-- SIGNUP -->
<div class="modal-bg" id="signup-modal">
  <div class="modal">
    <button class="modal-close" onclick="closeModal('signup-modal')">‚úï</button>
    <h2>Cr√©er un compte</h2>
    <div class="modal-sub">3 boosts gratuits ¬∑ Vitrine publique ¬∑ Sans CB</div>
    <div class="fg"><label>Pr√©nom</label><input type="text" id="s-name" placeholder="Marie"/></div>
    <div class="fg"><label>Email</label><input type="email" id="s-email" placeholder="marie@exemple.fr"/></div>
    <div class="fg"><label>Mot de passe</label><input type="password" id="s-pass" placeholder="8 caract√®res minimum"/></div>
    <div class="fg"><label>Type de projet principal</label>
      <select id="s-type">
        <option value="">S√©lectionne...</option>
        <option>Site web</option><option>Application</option><option>SaaS</option>
        <option>Compte TikTok</option><option>Compte Instagram</option><option>E-commerce</option><option>Autre</option>
      </select>
    </div>
    <button class="btn-modal" onclick="signup()">Cr√©er mon compte ‚Üí</button>
    <div class="modal-switch">D√©j√† inscrit ? <a onclick="switchModal('signup-modal','login-modal')">Se connecter</a></div>
  </div>
</div>

<!-- LOGIN -->
<div class="modal-bg" id="login-modal">
  <div class="modal">
    <button class="modal-close" onclick="closeModal('login-modal')">‚úï</button>
    <h2>Connexion</h2>
    <div class="modal-sub">Content de te revoir sur ViralBoost !</div>
    <div class="fg"><label>Email</label><input type="email" id="l-email" placeholder="marie@exemple.fr"/></div>
    <div class="fg"><label>Mot de passe</label><input type="password" id="l-pass" placeholder="Ton mot de passe"/></div>
    <button class="btn-modal" onclick="login()">Se connecter ‚Üí</button>
    <div class="modal-switch">Pas de compte ? <a onclick="switchModal('login-modal','signup-modal')">S'inscrire gratuitement</a></div>
  </div>
</div>

<!-- PAYMENT -->
<div class="modal-bg" id="payment-modal">
  <div class="modal">
    <button class="modal-close" onclick="closeModal('payment-modal')">‚úï</button>
    <h2>Abonnement</h2>
    <div class="modal-sub">Sans engagement ¬∑ Annulable √† tout moment</div>
    <div class="pay-sum">
      <div class="pay-plan" id="pay-plan-label">STARTER</div>
      <div class="pay-price" id="pay-plan-price">29‚Ç¨</div>
      <div class="pay-period">/mois</div>
    </div>
    <div id="card-element"></div>
    <div id="card-errors"></div>
    <button class="btn-modal" id="btn-sub" onclick="processSub()">üîí S'abonner maintenant</button>
    <div style="text-align:center;margin-top:10px;font-size:12px;color:var(--muted)">üîí SSL ¬∑ Stripe certifi√© ¬∑ Sans engagement</div>
  </div>
</div>


<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê JS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<script>
const CONFIG = { stripePublicKey:'pk_test_VOTRE_CLE_STRIPE_ICI', apiEndpoint:'/api' };
let currentUser=null, stripe, cardElement, pendingPlan='', chatHistory=[], selectedService='social';
let currentFilter={landing:'all',app:'all'}, boostHistory=[], currentProjDetail=null;
let ws=null, currentLang='fr', dmTarget=null, typingTimer=null, dmTypingTimer=null;

// ‚îÄ‚îÄ i18n ‚îÄ‚îÄ
const i18n={
  fr:{
    livechat_title:'Live Chat',livechat_sub:'Discutez en temps r√©el avec tous les membres ViralBoost.',
    livechat_room:'Salle communautaire',online_users:'Membres en ligne',
    btn_login:'Connexion',btn_signup:'Commencer ‚Üí',
    coach_greeting:'Salut ! Je suis ton coach IA sp√©cialis√© en croissance digitale et promotion. üöÄ<br><br>Je peux t\'aider avec <strong>TikTok, Instagram, SEO, publicit√©s, email marketing, strat√©gie de contenu</strong> ‚Äî et bien plus.<br><br>Parle-moi de ton projet et je te donne des conseils personnalis√©s !',
    send_dm:'Envoyer un DM',online_label:'en ligne',joined:' a rejoint le chat',left:' a quitt√© le chat',
    dm_placeholder:'Message priv√©...',chat_placeholder:'Message...',
  },
  en:{
    livechat_title:'Live Chat',livechat_sub:'Chat in real-time with all ViralBoost members.',
    livechat_room:'Community room',online_users:'Online members',
    btn_login:'Login',btn_signup:'Get started ‚Üí',
    coach_greeting:'Hi! I\'m your AI coach specializing in digital growth and promotion. üöÄ<br><br>I can help you with <strong>TikTok, Instagram, SEO, ads, email marketing, content strategy</strong> ‚Äî and much more.<br><br>Tell me about your project and I\'ll give you personalized advice!',
    send_dm:'Send DM',online_label:'online',joined:' joined the chat',left:' left the chat',
    dm_placeholder:'Private message...',chat_placeholder:'Message...',
  },
  es:{
    livechat_title:'Chat en Vivo',livechat_sub:'Chatea en tiempo real con todos los miembros de ViralBoost.',
    livechat_room:'Sala comunitaria',online_users:'Miembros en l√≠nea',
    btn_login:'Iniciar sesi√≥n',btn_signup:'Empezar ‚Üí',
    coach_greeting:'¬°Hola! Soy tu coach de IA especializado en crecimiento digital y promoci√≥n. üöÄ<br><br>Puedo ayudarte con <strong>TikTok, Instagram, SEO, anuncios, email marketing, estrategia de contenido</strong> ‚Äî y mucho m√°s.<br><br>¬°Cu√©ntame sobre tu proyecto y te dar√© consejos personalizados!',
    send_dm:'Enviar DM',online_label:'en l√≠nea',joined:' se uni√≥ al chat',left:' dej√≥ el chat',
    dm_placeholder:'Mensaje privado...',chat_placeholder:'Mensaje...',
  }
};

function t(key){return (i18n[currentLang]||i18n.fr)[key]||key;}

function setLang(lang){
  currentLang=lang;
  localStorage.setItem('vb_lang',lang);
  document.querySelectorAll('[data-i18n]').forEach(el=>{
    const key=el.getAttribute('data-i18n');
    if(i18n[lang]&&i18n[lang][key])el.textContent=i18n[lang][key];
  });
  document.querySelectorAll('[data-i18n-html]').forEach(el=>{
    const key=el.getAttribute('data-i18n-html');
    if(i18n[lang]&&i18n[lang][key])el.innerHTML=i18n[lang][key];
  });
  // Update placeholders
  const liveIn=document.getElementById('live-in');
  if(liveIn)liveIn.placeholder=t('chat_placeholder');
  const dmIn=document.getElementById('dm-in');
  if(dmIn)dmIn.placeholder=t('dm_placeholder');
  // Update nav buttons
  const btnLogin=document.getElementById('btn-login');
  if(btnLogin)btnLogin.textContent=t('btn_login');
  const btnSignup=document.getElementById('btn-signup');
  if(btnSignup)btnSignup.textContent=t('btn_signup');
}

// Init lang from storage
(function(){
  const saved=localStorage.getItem('vb_lang')||'fr';
  currentLang=saved;
  const sel=document.getElementById('lang-select');
  if(sel)sel.value=saved;
  setTimeout(()=>setLang(saved),50);
})();

// ‚îÄ‚îÄ WEBSOCKET ‚îÄ‚îÄ
function connectWS(){
  if(!currentUser)return;
  const proto=location.protocol==='https:'?'wss:':'ws:';
  ws=new WebSocket(`${proto}//${location.host}`);
  ws.onopen=()=>{
    ws.send(JSON.stringify({
      type:'join',
      userId:currentUser.email,
      name:currentUser.name,
      plan:currentUser.plan,
      avatar:currentUser.name[0].toUpperCase()
    }));
  };
  ws.onmessage=(e)=>{
    const data=JSON.parse(e.data);
    handleWSMessage(data);
  };
  ws.onclose=()=>{
    // Reconnect after 3s
    setTimeout(()=>{if(currentUser)connectWS();},3000);
  };
  ws.onerror=()=>{};
}

function handleWSMessage(data){
  switch(data.type){
    case 'history':
      const msgs=document.getElementById('live-msgs');
      if(msgs){msgs.innerHTML='';data.messages.forEach(m=>appendLiveMsg(m));}
      break;
    case 'message':
      appendLiveMsg(data.message);
      // Badge notification if not on livechat tab
      const liveTab=document.getElementById('tab-btn-livechat');
      if(liveTab&&!document.getElementById('tab-livechat').classList.contains('active')){
        if(!liveTab.textContent.includes('üî¥'))liveTab.textContent='üí¨ Live Chat üî¥';
      }
      break;
    case 'online_users':
      updateUsersList(data.users);
      break;
    case 'user_joined':
      appendSystemMsg(`üëã ${data.user.name}${t('joined')}`);
      break;
    case 'user_left':
      appendSystemMsg(`üëã ${data.userId}${t('left')}`);
      break;
    case 'typing':
      if(data.userId===currentUser?.email)return;
      const liveTyping=document.getElementById('live-typing');
      if(liveTyping){
        liveTyping.textContent=data.isTyping?`${data.name} est en train d'√©crire...`:'';
      }
      break;
    case 'dm':
      if(dmTarget&&data.message.fromId===dmTarget.id){
        appendDMMsg(data.message,false);
      } else {
        // Notification
        toast(`üíå DM de ${data.message.fromName}: ${data.message.text.slice(0,40)}...`,'info',4000);
      }
      break;
    case 'dm_sent':
      appendDMMsg(data.message,true);
      break;
    case 'dm_history':
      const dmMsgs=document.getElementById('dm-msgs');
      if(dmMsgs){dmMsgs.innerHTML='';data.messages.forEach(m=>appendDMMsg(m,m.fromId===currentUser?.email));}
      break;
    case 'dm_typing':
      const dmTypingInd=document.getElementById('dm-typing-ind');
      if(dmTypingInd&&dmTarget&&data.userId===dmTarget.id){
        dmTypingInd.textContent=data.isTyping?`${data.name} est en train d'√©crire...`:'';
      }
      break;
  }
}

function appendLiveMsg(msg){
  const container=document.getElementById('live-msgs');
  if(!container)return;
  const isMe=msg.userId===currentUser?.email;
  const time=new Date(msg.timestamp).toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'});
  const div=document.createElement('div');
  div.className='live-msg';
  div.innerHTML=`
    <div class="live-msg-avatar" style="background:linear-gradient(135deg,${stringToColor(msg.userId)},${stringToColor(msg.userId+'x')})">${(msg.name||'?')[0].toUpperCase()}</div>
    <div class="live-msg-content">
      <div class="live-msg-header">
        <span class="live-msg-name"${isMe?' style="color:var(--pink)"':''}>${escHtml(msg.name)}</span>
        <span class="live-msg-plan ${msg.plan||'free'}">${(msg.plan||'FREE').toUpperCase()}</span>
        <span class="live-msg-time">${time}</span>
        ${!isMe?`<button onclick="openDM('${escHtml(msg.userId)}','${escHtml(msg.name)}','${msg.plan||'free'}')" style="font-size:11px;background:var(--glow);border:1px solid var(--border);border-radius:100px;padding:2px 8px;cursor:pointer;color:var(--v3)">DM</button>`:''}
      </div>
      <div class="live-msg-text">${escHtml(msg.text)}</div>
    </div>`;
  container.appendChild(div);
  container.scrollTop=container.scrollHeight;
}

function appendSystemMsg(text){
  const container=document.getElementById('live-msgs');
  if(!container)return;
  const div=document.createElement('div');
  div.className='system-msg';
  div.textContent=text;
  container.appendChild(div);
  container.scrollTop=container.scrollHeight;
}

function updateUsersList(users){
  const container=document.getElementById('users-list');
  if(!container)return;
  const countEl=document.getElementById('online-count');
  if(countEl)countEl.textContent=`‚óè ${users.length} ${t('online_label')}`;
  container.innerHTML=users.map(u=>`
    <div class="user-item" onclick="openDM('${escHtml(u.id)}','${escHtml(u.name)}','${u.plan||'free'}')">
      <div class="online-dot"></div>
      <div class="user-item-avatar" style="background:linear-gradient(135deg,${stringToColor(u.id)},${stringToColor(u.id+'x')})">${(u.name||'?')[0].toUpperCase()}</div>
      <span class="user-item-name">${escHtml(u.name)}</span>
      <span class="live-msg-plan ${u.plan||'free'}" style="font-size:9px">${(u.plan||'FREE').toUpperCase()}</span>
      <span class="user-item-dm">üíå</span>
    </div>`).join('');
}

function sendLiveMsg(){
  const input=document.getElementById('live-in');
  const text=input.value.trim();
  if(!text||!ws||ws.readyState!==WebSocket.OPEN)return;
  input.value='';
  ws.send(JSON.stringify({
    type:'message',
    name:currentUser.name,
    plan:currentUser.plan,
    text,
    avatar:currentUser.name[0]
  }));
}

function sendTyping(){
  if(!ws||ws.readyState!==WebSocket.OPEN)return;
  ws.send(JSON.stringify({type:'typing',name:currentUser.name,isTyping:true}));
  clearTimeout(typingTimer);
  typingTimer=setTimeout(()=>{
    if(ws&&ws.readyState===WebSocket.OPEN)
      ws.send(JSON.stringify({type:'typing',name:currentUser.name,isTyping:false}));
  },1500);
}

// ‚îÄ‚îÄ DM ‚îÄ‚îÄ
function openDM(userId, name, plan){
  if(!currentUser)return;
  if(userId===currentUser.email){toast('Vous ne pouvez pas vous envoyer un DM !','error');return;}
  dmTarget={id:userId,name,plan};
  document.getElementById('dm-username').textContent=name;
  document.getElementById('dm-status').textContent=`Plan ${plan.toUpperCase()}`;
  document.getElementById('dm-avatar').textContent=(name[0]||'?').toUpperCase();
  document.getElementById('dm-msgs').innerHTML='';
  document.getElementById('dm-typing-ind').textContent='';
  openModal('dm-modal');
  // Load DM history
  if(ws&&ws.readyState===WebSocket.OPEN){
    ws.send(JSON.stringify({type:'get_dm_history',withId:userId}));
  }
}

function appendDMMsg(msg, isMe){
  const container=document.getElementById('dm-msgs');
  if(!container)return;
  const time=new Date(msg.timestamp).toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'});
  const div=document.createElement('div');
  div.className=`dm-msg ${isMe?'mine':'theirs'}`;
  div.innerHTML=`<div class="dm-bubble">${escHtml(msg.text)}</div><div class="dm-time">${time}</div>`;
  container.appendChild(div);
  container.scrollTop=container.scrollHeight;
}

function sendDM(){
  const input=document.getElementById('dm-in');
  const text=input.value.trim();
  if(!text||!dmTarget||!ws||ws.readyState!==WebSocket.OPEN)return;
  input.value='';
  ws.send(JSON.stringify({
    type:'dm',
    toId:dmTarget.id,
    fromName:currentUser.name,
    fromPlan:currentUser.plan,
    text
  }));
}

function sendDMTyping(){
  if(!ws||ws.readyState!==WebSocket.OPEN||!dmTarget)return;
  ws.send(JSON.stringify({type:'dm_typing',toId:dmTarget.id,name:currentUser.name,isTyping:true}));
  clearTimeout(dmTypingTimer);
  dmTypingTimer=setTimeout(()=>{
    if(ws&&ws.readyState===WebSocket.OPEN&&dmTarget)
      ws.send(JSON.stringify({type:'dm_typing',toId:dmTarget.id,name:currentUser.name,isTyping:false}));
  },1500);
}

function stringToColor(str){
  let hash=0;for(let i=0;i<str.length;i++)hash=str.charCodeAt(i)+((hash<<5)-hash);
  const colors=['#7c3aed','#e879f9','#0284c7','#059669','#dc2626','#d97706','#be185d','#0891b2'];
  return colors[Math.abs(hash)%colors.length];
}

function escHtml(s){return String(s||'').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');}


// ‚îÄ‚îÄ TOAST ‚îÄ‚îÄ
function toast(msg,type='info',duration=3200){
  const c=document.getElementById('toast-container');
  const icons={success:'‚úÖ',error:'‚ùå',info:'üíú'};
  const el=document.createElement('div');
  el.className=`toast toast-${type}`;
  el.innerHTML=`<span>${icons[type]||'üíú'}</span><span>${msg}</span>`;
  c.appendChild(el);
  setTimeout(()=>{el.classList.add('out');setTimeout(()=>el.remove(),350);},duration);
}

// ‚îÄ‚îÄ THEME ‚îÄ‚îÄ
function toggleTheme(){
  document.body.classList.toggle('light-mode');
  const isLight=document.body.classList.contains('light-mode');
  localStorage.setItem('vb_theme',isLight?'light':'dark');
  document.querySelectorAll('.theme-toggle').forEach(b=>b.textContent=isLight?'üåô':'‚òÄÔ∏è');
}
(function initTheme(){
  if(localStorage.getItem('vb_theme')==='light'){
    document.body.classList.add('light-mode');
    document.querySelectorAll('.theme-toggle').forEach(b=>b.textContent='üåô');
  }
})();

// ‚îÄ‚îÄ HAMBURGER APP ‚îÄ‚îÄ
function toggleMobileMenuApp(){
  const menu=document.getElementById('mobile-menu-app');
  const btn=document.getElementById('hamburger-app');
  menu.classList.toggle('open');
  btn.classList.toggle('open');
  document.body.style.overflow=menu.classList.contains('open')?'hidden':'';
}
function closeMobileMenuApp(){
  document.getElementById('mobile-menu-app').classList.remove('open');
  document.getElementById('hamburger-app').classList.remove('open');
  document.body.style.overflow='';
}

// Afficher hamburger app sur mobile
function checkMobile(){
  const isMobile=window.innerWidth<=768;
  const hbtn=document.getElementById('hamburger-app');
  if(hbtn)hbtn.style.display=isMobile?'flex':'none';
}
window.addEventListener('resize',checkMobile);
checkMobile();
function toggleMobileMenu(){
  const menu=document.getElementById('mobile-menu');
  const btn=document.getElementById('hamburger');
  menu.classList.toggle('open');
  btn.classList.toggle('open');
  // Emp√™che le scroll du body quand le menu est ouvert
  document.body.style.overflow=menu.classList.contains('open')?'hidden':'';
}
function closeMobileMenu(){
  document.getElementById('mobile-menu').classList.remove('open');
  document.getElementById('hamburger').classList.remove('open');
  document.body.style.overflow='';
}
// Support tactile Safari
document.addEventListener('DOMContentLoaded',()=>{
  const hbtn=document.getElementById('hamburger');
  if(hbtn){
    hbtn.addEventListener('touchend',function(e){e.preventDefault();toggleMobileMenu();},{passive:false});
  }
  // Fix Safari - forcer le clic sur tous les √©l√©ments avec onclick
  document.querySelectorAll('[onclick]').forEach(el=>{
    el.addEventListener('touchend',function(e){
      if(e.cancelable)e.preventDefault();
      const fn=this.getAttribute('onclick');
      if(fn)eval(fn);
    },{passive:false});
  });
});

// ‚îÄ‚îÄ SCROLL REVEAL ‚îÄ‚îÄ
(function(){
  const obs=new IntersectionObserver((entries)=>{
    entries.forEach(e=>{if(e.isIntersecting){e.target.classList.add('visible');obs.unobserve(e.target);}});
  },{threshold:0.1});
  document.querySelectorAll('.reveal').forEach(el=>obs.observe(el));
})();

// ‚îÄ‚îÄ PARTICLES ‚îÄ‚îÄ
(function(){
  const c=document.getElementById('particles');
  const ctx=c.getContext('2d');
  let pts=[];
  function resize(){c.width=window.innerWidth;c.height=window.innerHeight;}
  resize();window.addEventListener('resize',resize);
  for(let i=0;i<80;i++)pts.push({x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,r:Math.random()*1.5+0.3,vx:(Math.random()-.5)*0.3,vy:(Math.random()-.5)*0.3,o:Math.random()*0.4+0.1});
  function draw(){
    ctx.clearRect(0,0,c.width,c.height);
    pts.forEach(p=>{
      p.x+=p.vx;p.y+=p.vy;
      if(p.x<0)p.x=c.width;if(p.x>c.width)p.x=0;
      if(p.y<0)p.y=c.height;if(p.y>c.height)p.y=0;
      ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
      ctx.fillStyle=`rgba(157,92,255,${p.o})`;ctx.fill();
    });
    pts.forEach((a,i)=>pts.slice(i+1).forEach(b=>{
      const d=Math.hypot(a.x-b.x,a.y-b.y);
      if(d<120){ctx.beginPath();ctx.moveTo(a.x,a.y);ctx.lineTo(b.x,b.y);ctx.strokeStyle=`rgba(124,58,237,${0.08*(1-d/120)})`;ctx.lineWidth=0.5;ctx.stroke();}
    }));
    requestAnimationFrame(draw);
  }
  draw();
})();

// ‚îÄ‚îÄ NAV SCROLL ‚îÄ‚îÄ
window.addEventListener('scroll',()=>document.getElementById('navbar')?.classList.toggle('scrolled',window.scrollY>50));

// ‚îÄ‚îÄ COUNTERS ‚îÄ‚îÄ
function animCounter(id,target,suffix=''){
  let n=0;const el=document.getElementById(id);if(!el)return;
  const step=Math.ceil(target/60);
  const t=setInterval(()=>{n=Math.min(n+step,target);el.textContent=n.toLocaleString()+suffix;if(n>=target)clearInterval(t);},30);
}
setTimeout(()=>{animCounter('c1',1247);animCounter('c2',3800000);animCounter('c3',2847);animCounter('c4',49,'/5');},400);

// ‚îÄ‚îÄ SHOWCASE DATA ‚îÄ‚îÄ
const showcaseData=[
  {id:1,name:'ContentPro',cat:'saas',type:'SaaS',desc:'Outil IA tout-en-un pour cr√©ateurs TikTok et Instagram. Scripts, hashtags, coach IA.',emoji:'ü§ñ',color:'linear-gradient(135deg,#7c3aed,#e879f9)',author:'Alex M.',votes:247,badge:'üî• HOT',url:'https://contentpro.ai',views:3842,likes:187,favs:94},
  {id:2,name:'NovaTrade',cat:'saas',type:'SaaS',desc:'Plateforme de trading IA avec screener, calculateur risk et coach en temps r√©el.',emoji:'üìà',color:'linear-gradient(135deg,#0284c7,#00d4ff)',author:'Sarah K.',votes:189,badge:'‚≠ê TOP',url:'https://novatrade.io',views:2910,likes:142,favs:67},
  {id:3,name:'@fitnessbyflo',cat:'tiktok',type:'TikTok',desc:'Coach fitness certifi√©e. Programmes minceur et prise de masse. 45K abonn√©s.',emoji:'üí™',color:'linear-gradient(135deg,#dc2626,#f97316)',author:'Flo R.',votes:156,url:'https://tiktok.com/@fitnessbyflo',views:5200,likes:310,favs:121},
  {id:4,name:'DevisPro',cat:'site',type:'Site web',desc:'G√©n√©ration de devis professionnels PDF en 30 secondes gr√¢ce √† l\'IA.',emoji:'üìÑ',color:'linear-gradient(135deg,#059669,#0284c7)',author:'Marc D.',votes:134,url:'https://devispro.fr',views:1780,likes:98,favs:43},
  {id:5,name:'MessageGenius',cat:'site',type:'Site web',desc:'Cr√©ez des messages parfaits pour toutes occasions gr√¢ce √† l\'intelligence artificielle.',emoji:'üíå',color:'linear-gradient(135deg,#c9a96e,#f0d080)',author:'Lisa T.',votes:98,url:'https://messagegenius.fr',views:1240,likes:75,favs:31},
  {id:6,name:'@techparis',cat:'tiktok',type:'TikTok',desc:'Derni√®res tendances tech et IA pour les pros. Vulgarisation et analyses.',emoji:'üî¨',color:'linear-gradient(135deg,#4f46e5,#7c3aed)',author:'Tom V.',votes:87,url:'https://tiktok.com/@techparis',views:980,likes:54,favs:22},
];

// ‚îÄ‚îÄ ENGAGEMENT localStorage ‚îÄ‚îÄ
function getEngagement(id){
  const raw=localStorage.getItem('vb_eng_'+id);
  return raw?JSON.parse(raw):{liked:false,faved:false,likes:0,favs:0,views:0};
}
function saveEngagement(id,data){localStorage.setItem('vb_eng_'+id,JSON.stringify(data));}

function initEngagement(p){
  const stored=getEngagement(p.id);
  // Merge showcase base values + user local increments
  if(!stored._init){
    stored.likes=p.likes||0;
    stored.favs=p.favs||0;
    stored.views=(p.views||0)+Math.floor(Math.random()*5); // simulate view on load
    stored._init=true;
    stored.liked=false;
    stored.faved=false;
    saveEngagement(p.id,stored);
  } else {
    stored.views++; // count each visit
    saveEngagement(p.id,stored);
  }
  return stored;
}

function buildShowcaseGrid(containerId,filter='all'){
  const data=filter==='all'?showcaseData:showcaseData.filter(p=>p.cat===filter);
  renderShowcaseGrid(containerId,data);
}

function renderShowcaseGrid(containerId,data){
  const container=document.getElementById(containerId);
  if(!data.length){container.innerHTML='<div class="empty-state" style="grid-column:1/-1"><div class="empty-icon">üîç</div>Aucun projet trouv√©.</div>';return;}
  // Show skeleton first
  container.innerHTML=data.map(()=>`<div class="skel-card"><div class="skel-banner skeleton"></div><div class="skel-body"><div class="skel-line skeleton medium"></div><div class="skel-line skeleton short"></div><div class="skel-line skeleton"></div></div></div>`).join('');
  setTimeout(()=>{
    container.innerHTML=data.map(p=>{
      const eng=initEngagement(p);
      const urlHtml=p.url?`<a class="sc-url-link" href="${p.url}" target="_blank" rel="noopener">üîó ${p.url.replace(/^https?:\/\//,'')}</a>`:'';
      return `
      <div class="showcase-card" onclick="openProjDetail(${p.id})" style="cursor:pointer">
        ${p.badge?`<div class="sc-badge">${p.badge}</div>`:''}
        <div class="sc-banner" style="background:${p.color}">${p.emoji}</div>
        <div class="sc-body">
          <div class="sc-category">${p.type}</div>
          <div class="sc-name">${p.name}</div>
          <div class="sc-desc">${p.desc}</div>
          ${urlHtml}
          <div class="sc-footer" style="margin-top:10px" onclick="event.stopPropagation()">
            <div class="sc-author"><div class="sc-avatar" style="background:${p.color}">${p.author[0]}</div>${p.author}</div>
            <div class="sc-votes">
              <button class="btn-vote${eng.liked?' voted':''}" id="vote-${containerId}-${p.id}" onclick="vote('${containerId}',${p.id},this)">‚ñ≤ <span class="vote-count">${p.votes}</span></button>
            </div>
          </div>
          <div class="sc-engagement" onclick="event.stopPropagation()">
            <span class="views-badge">üëÅ <span id="views-${containerId}-${p.id}">${fmtNum(eng.views)}</span></span>
            <button class="btn-engage${eng.liked?' liked':''}" id="like-${containerId}-${p.id}" onclick="toggleLike('${containerId}',${p.id},this)">‚ù§Ô∏è <span class="like-count">${fmtNum(eng.likes)}</span></button>
            <button class="btn-engage${eng.faved?' faved':''}" id="fav-${containerId}-${p.id}" onclick="toggleFav('${containerId}',${p.id},this)">‚≠ê <span class="fav-count">${fmtNum(eng.favs)}</span></button>
            <button class="btn-engage" onclick="shareProject2('${p.name}','${p.url||''}',this)">üîó Partager</button>
          </div>
        </div>
      </div>`;
    }).join('');
  },400);
}

function fmtNum(n){return n>=1000?(n/1000).toFixed(1)+'K':n;}

function vote(containerId,id,btn){
  if(btn.classList.contains('voted'))return;
  btn.classList.add('voted');
  const cnt=btn.querySelector('.vote-count');
  cnt.textContent=parseInt(cnt.textContent)+1;
  const proj=showcaseData.find(p=>p.id===id);
  if(proj)proj.votes++;
}

function toggleLike(containerId,id,btn){
  const eng=getEngagement(id);
  eng.liked=!eng.liked;
  eng.likes+=eng.liked?1:-1;
  saveEngagement(id,eng);
  btn.classList.toggle('liked',eng.liked);
  btn.querySelector('.like-count').textContent=fmtNum(eng.likes);
  // sync other grid if open
  const other=containerId==='showcase-grid'?'app-showcase-grid':'showcase-grid';
  const ob=document.getElementById('like-'+other+'-'+id);
  if(ob){ob.classList.toggle('liked',eng.liked);ob.querySelector('.like-count').textContent=fmtNum(eng.likes);}
}

function toggleFav(containerId,id,btn){
  const eng=getEngagement(id);
  eng.faved=!eng.faved;
  eng.favs+=eng.faved?1:-1;
  saveEngagement(id,eng);
  btn.classList.toggle('faved',eng.faved);
  btn.querySelector('.fav-count').textContent=fmtNum(eng.favs);
  const other=containerId==='showcase-grid'?'app-showcase-grid':'showcase-grid';
  const ob=document.getElementById('fav-'+other+'-'+id);
  if(ob){ob.classList.toggle('faved',eng.faved);ob.querySelector('.fav-count').textContent=fmtNum(eng.favs);}
}

function shareProject2(name,url,btn){
  const txt=url?url:`D√©couvrez ${name} sur ViralBoost ! üöÄ ${window.location.href}`;
  navigator.clipboard.writeText(txt).then(()=>{
    btn.classList.add('shared');btn.textContent='‚úÖ Copi√© !';
    toast('Lien copi√© dans le presse-papier !','success',2000);
    setTimeout(()=>{btn.classList.remove('shared');btn.innerHTML='üîó Partager';},2000);
  });
}

function copyBoost(){
  navigator.clipboard.writeText(document.getElementById('boost-text').textContent).then(()=>{
    const btn=event.currentTarget;btn.textContent='‚úÖ Copi√© !';
    toast('Strat√©gie copi√©e !','success',2000);
    setTimeout(()=>btn.textContent='üìã Copier la strat√©gie',2000);
  });
}

function filterShowcase(el,filter){
  currentFilter.landing=filter;
  document.querySelectorAll('.showcase-filters .sf-btn').forEach(b=>b.classList.remove('active'));
  el.classList.add('active');
  buildShowcaseGrid('showcase-grid',filter);
}

function filterApp(el,filter){
  currentFilter.app=filter;
  document.querySelectorAll('#tab-showcase .sf-btn').forEach(b=>b.classList.remove('active'));
  el.classList.add('active');
  buildShowcaseGrid('app-showcase-grid',filter);
}

function searchShowcase(containerId,query){
  const filter=containerId==='showcase-grid'?currentFilter.landing:currentFilter.app;
  let data=filter==='all'?showcaseData:showcaseData.filter(p=>p.cat===filter);
  if(query.trim()){
    const q=query.toLowerCase();
    data=data.filter(p=>p.name.toLowerCase().includes(q)||p.desc.toLowerCase().includes(q)||p.author.toLowerCase().includes(q));
  }
  renderShowcaseGrid(containerId,data);
}

function sortShowcase(containerId,sortBy){
  const filter=containerId==='showcase-grid'?currentFilter.landing:currentFilter.app;
  let data=filter==='all'?[...showcaseData]:showcaseData.filter(p=>p.cat===filter);
  if(sortBy==='votes')data.sort((a,b)=>b.votes-a.votes);
  else if(sortBy==='views')data.sort((a,b)=>(getEngagement(b.id).views||0)-(getEngagement(a.id).views||0));
  else if(sortBy==='likes')data.sort((a,b)=>(getEngagement(b.id).likes||0)-(getEngagement(a.id).likes||0));
  else if(sortBy==='recent')data.sort((a,b)=>b.id-a.id);
  renderShowcaseGrid(containerId,data);
}

// ‚îÄ‚îÄ AUTH ‚îÄ‚îÄ
function signup(){
  const name=document.getElementById('s-name').value.trim();
  const email=document.getElementById('s-email').value.trim();
  const pass=document.getElementById('s-pass').value;
  if(!name||!email||!pass){toast('Remplis tous les champs.','error');return;}
  if(pass.length<8){toast('Mot de passe trop court (8 car. min).','error');return;}
  currentUser={name,email,plan:'free',boosts:3,projects:[],totalVotes:0};
  localStorage.setItem('viralboost_user',JSON.stringify(currentUser));
  closeModal('signup-modal');showApp();
  toast(`Bienvenue ${name} ! üöÄ 3 boosts gratuits t'attendent.`,'success');
}

function login(){
  const email=document.getElementById('l-email').value.trim();
  const pass=document.getElementById('l-pass').value;
  if(!email||!pass){toast('Remplis tous les champs.','error');return;}
  const saved=localStorage.getItem('viralboost_user');
  if(saved){const u=JSON.parse(saved);if(u.email===email){currentUser=u;closeModal('login-modal');showApp();toast(`Content de te revoir, ${u.name} ! üëã`,'success');return;}}
  currentUser={name:email.split('@')[0],email,plan:'free',boosts:3,projects:[],totalVotes:0};
  localStorage.setItem('viralboost_user',JSON.stringify(currentUser));
  closeModal('login-modal');showApp();
  toast(`Bienvenue ${currentUser.name} ! üöÄ`,'success');
}

function logout(){
  if(ws){ws.close();ws=null;}
  currentUser=null;
  document.getElementById('app').style.display='none';
  document.getElementById('landing').style.display='block';
  window.scrollTo(0,0);
}

function showApp(){
  document.getElementById('landing').style.display='none';
  document.getElementById('app').style.display='block';
  document.getElementById('app-username').textContent=currentUser.name;
  document.getElementById('app-plan').textContent=currentUser.plan.toUpperCase();
  document.getElementById('dash-name').textContent=currentUser.name;
  const menuUser=document.getElementById('app-menu-user');
  if(menuUser)menuUser.textContent=`üë§ ${currentUser.name} ¬∑ ${currentUser.plan.toUpperCase()}`;
  boostHistory=JSON.parse(localStorage.getItem('vb_history_'+currentUser.email)||'[]');
  updateDashStats();
  buildShowcaseGrid('app-showcase-grid');
  buildDashTop();
  buildProjectsGrid();
  buildHistory();
  checkMobile();
  window.scrollTo(0,0);
  saveUserToDB(currentUser);
  // Connect WebSocket for live chat
  if(!ws||ws.readyState===WebSocket.CLOSED||ws.readyState===WebSocket.CLOSING)connectWS();
}

function updateDashStats(){
  document.getElementById('stat-boosts').textContent=currentUser.plan==='elite'?'‚àû':currentUser.boosts;
  document.getElementById('stat-projects').textContent=(currentUser.projects||[]).length;
  document.getElementById('stat-votes').textContent=currentUser.totalVotes||0;
  document.getElementById('stat-plan').textContent=currentUser.plan.toUpperCase();
}

function buildDashTop(){
  const top=showcaseData.slice().sort((a,b)=>b.votes-a.votes).slice(0,3);
  document.getElementById('dash-top').innerHTML=top.map(p=>{
    const eng=getEngagement(p.id);
    const urlBtn=p.url?`<a href="${p.url}" target="_blank" rel="noopener" style="font-size:11px;color:var(--v3);text-decoration:none;margin-left:auto">‚Üó Visiter</a>`:'';
    return `
    <div style="background:var(--s2);border:1.5px solid var(--border);border-radius:12px;padding:14px;display:flex;align-items:center;gap:12px">
      <div style="width:40px;height:40px;border-radius:10px;background:${p.color};display:flex;align-items:center;justify-content:center;font-size:20px;flex-shrink:0">${p.emoji}</div>
      <div style="flex:1;min-width:0">
        <div style="font-weight:700;font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">${p.name}</div>
        <div style="font-size:11px;color:var(--muted);display:flex;gap:8px;margin-top:3px">
          <span>üëÅ ${fmtNum(eng.views)}</span><span>‚ù§Ô∏è ${fmtNum(eng.likes)}</span><span>‚≠ê ${fmtNum(eng.favs)}</span>
        </div>
      </div>
      <div style="font-size:13px;color:var(--v3);font-weight:700;white-space:nowrap">‚ñ≤ ${p.votes}</div>
      ${urlBtn}
    </div>`;
  }).join('');
}

// ‚îÄ‚îÄ TABS ‚îÄ‚îÄ
function showTab(tab,el){
  document.querySelectorAll('.app-tab').forEach(t=>t.classList.remove('active'));
  document.querySelectorAll('.tpanel').forEach(p=>p.classList.remove('active'));
  if(el)el.classList.add('active');
  document.getElementById('tab-'+tab).classList.add('active');
  // Clear live chat badge
  if(tab==='livechat'){
    const liveTab=document.getElementById('tab-btn-livechat');
    if(liveTab)liveTab.textContent='üí¨ Live Chat';
  }
}

// ‚îÄ‚îÄ SERVICE PICKER ‚îÄ‚îÄ
function pickService(el,service){
  document.querySelectorAll('#service-picker div').forEach(d=>d.classList.remove('active'));
  el.classList.add('active');
  selectedService=service;
}

// ‚îÄ‚îÄ GENERATE BOOST ‚îÄ‚îÄ
const servicePrompts={
  social:(name,type,target,desc)=>`Tu es expert en growth hacking TikTok et Instagram. G√©n√®re une strat√©gie de promotion compl√®te pour ce projet :\n- Projet: ${name} (${type})\n- Cible: ${target}\n- Description: ${desc}\n\nFournis:\n1. üì± STRAT√âGIE TIKTOK ‚Äî 5 id√©es de vid√©os virales avec scripts\n2. üì∏ STRAT√âGIE INSTAGRAM ‚Äî calendrier 30 jours + types de posts\n3. #Ô∏è‚É£ 20 HASHTAGS OPTIMIS√âS pour cette niche\n4. ‚è∞ MEILLEURS MOMENTS de publication\n5. üéØ PLAN D'ACTION ‚Äî 5 actions √† faire cette semaine`,
  seo:(name,type,target,desc)=>`Tu es expert SEO. G√©n√®re une strat√©gie de r√©f√©rencement compl√®te pour:\n- Projet: ${name} (${type})\n- Cible: ${target}\n- Description: ${desc}\n\nFournis:\n1. üîë 20 MOTS-CL√âS prioritaires avec volume estim√©\n2. üìù STRUCTURE de 5 articles de blog optimis√©s\n3. üîó STRAT√âGIE de backlinks (10 sites √† cibler)\n4. üè† OPTIMISATION ON-PAGE ‚Äî checklist compl√®te\n5. üìä OBJECTIFS ‚Äî timeline pour atteindre la page 1`,
  ads:(name,type,target,desc)=>`Tu es expert en copywriting publicitaire. G√©n√®re des publicit√©s percutantes pour:\n- Projet: ${name} (${type})\n- Cible: ${target}\n- Description: ${desc}\n\nFournis:\n1. üìò 3 PUBLICIT√âS FACEBOOK ADS (titre + description + CTA)\n2. üéµ 3 SCRIPTS TIKTOK ADS (15-30 secondes)\n3. üîç 3 ANNONCES GOOGLE ADS\n4. üì∏ 5 ACCROCHES INSTAGRAM (captions)\n5. üí° ANGLE MARKETING unique pour se d√©marquer`,
  email:(name,type,target,desc)=>`Tu es expert en email marketing. G√©n√®re une s√©quence email compl√®te pour:\n- Projet: ${name} (${type})\n- Cible: ${target}\n- Description: ${desc}\n\nFournis une s√©quence de 5 emails:\n1. EMAIL DE BIENVENUE (J+0)\n2. EMAIL DE VALEUR (J+3)\n3. EMAIL SOCIAL PROOF (J+7)\n4. EMAIL PROMOTION (J+14)\n5. EMAIL RE-ENGAGEMENT (J+30)\nPour chaque email: objet, preview text, corps complet.`,
  strategy:(name,type,target,desc)=>`Tu es consultant en strat√©gie digitale. G√©n√®re un plan de croissance 90 jours pour:\n- Projet: ${name} (${type})\n- Cible: ${target}\n- Description: ${desc}\n\nStructure:\n1. üìä ANALYSE ‚Äî Forces, faiblesses, opportunit√©s\n2. üéØ OBJECTIFS SMART sur 90 jours\n3. üìÖ MOIS 1 ‚Äî Actions prioritaires semaine par semaine\n4. üìÖ MOIS 2 ‚Äî Scaling et optimisation\n5. üìÖ MOIS 3 ‚Äî Consolidation et croissance\n6. üí∞ BUDGET ESTIM√â et ROI attendu`,
  showcase:(name,type,target,desc)=>`G√©n√®re une description percutante et un pitch court pour pr√©senter ce projet sur une vitrine de startups:\n- Projet: ${name} (${type})\n- Cible: ${target}\n- Description: ${desc}\n\nFournis:\n1. üè∑Ô∏è TAGLINE (max 10 mots, percutant)\n2. üìù DESCRIPTION COURTE (2-3 phrases, pour la vitrine)\n3. üöÄ PITCH (150 mots pour convaincre des utilisateurs)\n4. üíé 3 ARGUMENTS diff√©renciants\n5. üì£ CALL-TO-ACTION pour les visiteurs`
};

async function generateBoost(){
  if(!currentUser){openModal('login-modal');return;}
  if(currentUser.plan==='free'&&currentUser.boosts<=0){
    if(confirm('Boosts √©puis√©s ! Passer au plan Starter (29‚Ç¨/mois) pour continuer ?'))startSub('starter');
    return;
  }
  const name=document.getElementById('b-name').value.trim()||'Mon projet';
  const type=document.getElementById('b-type').value;
  const target=document.getElementById('b-target').value.trim()||'Grand public';
  const desc=document.getElementById('b-desc').value.trim()||'Projet digital innovant';

  const btn=document.getElementById('btn-boost');
  btn.disabled=true;btn.textContent='‚ö° G√©n√©ration en cours...';
  document.getElementById('boost-output').style.display='block';
  const out=document.getElementById('boost-text');
  out.innerHTML='<div class="dots"><span></span><span></span><span></span></div>';

  const prompt=servicePrompts[selectedService](name,type,target,desc);
  try{
    const res=await fetch(`${CONFIG.apiEndpoint}/generate-boost`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({prompt})});
    const data=await res.json();
    out.textContent=data.content;
    if(currentUser.plan==='free')currentUser.boosts--;
    localStorage.setItem('viralboost_user',JSON.stringify(currentUser));
    updateDashStats();
    // Save to history
    const hEntry={id:Date.now(),name,type,service:selectedService,date:new Date().toLocaleDateString('fr-FR'),strategy:data.content};
    boostHistory.unshift(hEntry);
    if(boostHistory.length>50)boostHistory.pop();
    localStorage.setItem('vb_history_'+currentUser.email,JSON.stringify(boostHistory));
    buildHistory();
    toast(`Strat√©gie g√©n√©r√©e pour ${name} ! üéØ`,'success');
    if(selectedService==='showcase'&&name){addProjectToShowcase(name,type,desc,out.textContent);}
  }catch(e){out.textContent='Erreur de connexion. V√©rifie ton backend Render.';toast('Erreur de connexion au serveur','error');}
  btn.disabled=false;btn.textContent='‚ö° G√©n√©rer ma strat√©gie';
}

function copyBoost(){
  navigator.clipboard.writeText(document.getElementById('boost-text').textContent).then(()=>{
    const btn=event.currentTarget;btn.textContent='‚úÖ Copi√© !';setTimeout(()=>btn.textContent='üìã Copier la strat√©gie',2000);
  });
}

function addToShowcase(){
  const name=document.getElementById('b-name').value.trim();
  const type=document.getElementById('b-type').value;
  const desc=document.getElementById('b-desc').value.trim();
  if(!name){toast('Donne un nom √† ton projet !','error');return;}
  addProjectToShowcase(name,type,desc,'');
  toast('üéâ Projet ajout√© √† la vitrine !','success');
  showTab('projects',null);
  document.querySelector('.app-tab').click();
}

function viewProject(id){
  openProjDetail(id);
}

// ‚îÄ‚îÄ PROJECT DETAIL MODAL ‚îÄ‚îÄ
function openProjDetail(id){
  const p=currentUser?.projects.find(pr=>pr.id===id)||showcaseData.find(pr=>pr.id===id);
  if(!p)return;
  currentProjDetail=p;
  const eng=getEngagement(p.id);
  document.getElementById('pdm-banner').style.background=p.color;
  document.getElementById('pdm-banner').textContent=p.emoji;
  document.getElementById('pdm-name').textContent=p.name;
  document.getElementById('pdm-type').textContent=p.type+' ¬∑ par '+p.author;
  document.getElementById('pdm-views').textContent=fmtNum(eng.views);
  document.getElementById('pdm-likes').textContent=fmtNum(eng.likes);
  document.getElementById('pdm-favs').textContent=fmtNum(eng.favs);
  document.getElementById('pdm-votes').textContent=p.votes;
  document.getElementById('pdm-strategy').textContent=p.strategy||'Aucune strat√©gie enregistr√©e.';
  const urlDiv=document.getElementById('pdm-url');
  urlDiv.innerHTML=p.url?`<a class="sc-url-link" href="${p.url}" target="_blank" rel="noopener">üîó ${p.url}</a>`:'';
  openModal('proj-detail-modal');
}

function copyStrategy(){
  const txt=document.getElementById('pdm-strategy').textContent;
  if(txt==='Aucune strat√©gie enregistr√©e.'){toast('Aucune strat√©gie √† copier','error');return;}
  navigator.clipboard.writeText(txt).then(()=>toast('Strat√©gie copi√©e !','success'));
}

function exportPDF(){
  const p=currentProjDetail;
  if(!p||!p.strategy){toast('Aucune strat√©gie √† exporter','error');return;}
  const win=window.open('','_blank');
  win.document.write(`<!DOCTYPE html><html><head><meta charset="UTF-8"><title>Strat√©gie ${p.name} ‚Äî ViralBoost</title><style>
    body{font-family:Georgia,serif;max-width:800px;margin:40px auto;padding:0 20px;color:#1a0a3c;}
    h1{font-size:28px;color:#7c3aed;margin-bottom:4px;}
    .meta{color:#6b5b8a;font-size:14px;margin-bottom:32px;}
    pre{white-space:pre-wrap;line-height:1.8;font-family:Georgia,serif;font-size:15px;}
    .footer{margin-top:40px;padding-top:16px;border-top:1px solid #e8e0ff;font-size:12px;color:#9d8bb8;}
  </style></head><body>
    <h1>${p.emoji} ${p.name}</h1>
    <div class="meta">${p.type} ¬∑ G√©n√©r√© par ViralBoost ¬∑ ${new Date().toLocaleDateString('fr-FR')}</div>
    <pre>${p.strategy}</pre>
    <div class="footer">G√©n√©r√© par ViralBoost ‚Äî L'IA qui fait exploser votre pr√©sence digitale</div>
  </body></html>`);
  win.document.close();
  setTimeout(()=>win.print(),500);
  toast('Export PDF ouvert dans un nouvel onglet üìÑ','success');
}

// ‚îÄ‚îÄ HISTORIQUE ‚îÄ‚îÄ
function buildHistory(){
  const container=document.getElementById('history-list-container');
  if(!boostHistory.length){
    container.innerHTML='<div class="empty-state"><div class="empty-icon">üìã</div>Aucun boost encore.<br>Lance ta premi√®re strat√©gie !</div>';
    return;
  }
  const serviceLabels={social:'üì± Social',seo:'üîç SEO',ads:'üé® Ads',email:'üìß Email',strategy:'üìä Strat√©gie',showcase:'üåê Vitrine'};
  container.innerHTML=`<div class="history-list">${boostHistory.map(h=>`
    <div class="history-item" onclick="showHistoryDetail(${h.id})" style="cursor:pointer">
      <div class="history-dot"></div>
      <div class="history-meta">
        <div class="history-name">${h.name}</div>
        <div class="history-date">${h.date} ¬∑ ${h.type}</div>
      </div>
      <div class="history-type">${serviceLabels[h.service]||h.service}</div>
    </div>`).join('')}
  </div>`;
}

function showHistoryDetail(id){
  const h=boostHistory.find(x=>x.id===id);
  if(!h)return;
  // Build a temp project object for the modal
  const tmp={id:h.id,name:h.name,type:h.type,cat:h.type,emoji:'üìã',color:'linear-gradient(135deg,#7c3aed,#e879f9)',author:currentUser.name,votes:0,strategy:h.strategy,url:''};
  currentProjDetail=tmp;
  document.getElementById('pdm-banner').style.background=tmp.color;
  document.getElementById('pdm-banner').textContent=tmp.emoji;
  document.getElementById('pdm-name').textContent=h.name;
  document.getElementById('pdm-type').textContent=h.type+' ¬∑ '+h.date;
  document.getElementById('pdm-views').textContent='‚Äî';
  document.getElementById('pdm-likes').textContent='‚Äî';
  document.getElementById('pdm-favs').textContent='‚Äî';
  document.getElementById('pdm-votes').textContent='‚Äî';
  document.getElementById('pdm-url').innerHTML='';
  document.getElementById('pdm-strategy').textContent=h.strategy||'Aucune strat√©gie.';
  openModal('proj-detail-modal');
}

function addProjectToShowcase(name,type,desc,strategy){
  const emojis={'site':'üåê','app':'üì±','saas':'üöÄ','tiktok':'üéµ','instagram':'üì∏','ecommerce':'üõçÔ∏è'};
  const colors=['linear-gradient(135deg,#7c3aed,#e879f9)','linear-gradient(135deg,#0284c7,#00d4ff)','linear-gradient(135deg,#059669,#0284c7)','linear-gradient(135deg,#dc2626,#f97316)'];
  const proj={id:Date.now(),name,type:type.charAt(0).toUpperCase()+type.slice(1),cat:type,desc:desc.slice(0,100)+'...',emoji:emojis[type]||'üöÄ',color:colors[Math.floor(Math.random()*colors.length)],author:currentUser.name,votes:0,strategy,url:document.getElementById('b-url')?.value.trim()||'',views:0,likes:0,favs:0};
  currentUser.projects=currentUser.projects||[];
  currentUser.projects.unshift(proj);
  showcaseData.unshift(proj);
  localStorage.setItem('viralboost_user',JSON.stringify(currentUser));
  updateDashStats();
  buildProjectsGrid();
  buildShowcaseGrid('app-showcase-grid');
}

function buildProjectsGrid(){
  const projects=currentUser?.projects||[];
  const grid=document.getElementById('projects-grid');
  if(!projects.length){grid.innerHTML='<div class="empty-state"><div class="empty-icon">üöÄ</div>Aucun projet encore.<br>Booste ton premier projet !</div>';return;}
  grid.innerHTML=projects.map(p=>{
    const eng=getEngagement(p.id);
    const urlHtml=p.url?`<a class="sc-url-link" href="${p.url}" target="_blank" rel="noopener" style="margin-bottom:8px;display:block">üîó ${p.url.replace(/^https?:\/\//,'')}</a>`:'';
    return `
    <div class="proj-card">
      <div class="proj-banner" style="background:${p.color}">${p.emoji}</div>
      <div class="proj-body">
        <div class="proj-name">${p.name}</div>
        <div class="proj-cat">${p.type}</div>
        ${urlHtml}
        <div style="display:flex;gap:10px;font-size:12px;color:var(--muted);margin:8px 0;flex-wrap:wrap">
          <span>üëÅ ${fmtNum(eng.views)} vues</span>
          <span>‚ù§Ô∏è ${fmtNum(eng.likes)} likes</span>
          <span>‚≠ê ${fmtNum(eng.favs)} favoris</span>
          <span>‚ñ≤ ${p.votes} votes</span>
        </div>
        <div class="proj-actions">
          <button class="btn-proj btn-proj-view" onclick="viewProject(${p.id})">üëÅ Strat√©gie</button>
          <button class="btn-proj btn-proj-view" style="background:rgba(124,58,237,0.15)" onclick="shareProject2('${p.name}','${p.url||''}',this)">üîó Partager</button>
        </div>
      </div>
    </div>`;
  }).join('');
}

function viewProject(id){
  const p=currentUser.projects.find(pr=>pr.id===id);
  if(p&&p.strategy)alert(`Strat√©gie pour ${p.name}:\n\n${p.strategy.slice(0,500)}...`);
}

// ‚îÄ‚îÄ COACH ‚îÄ‚îÄ
async function sendCoach(){
  const input=document.getElementById('coach-in');
  const msg=input.value.trim();if(!msg)return;
  input.value='';
  const msgs=document.getElementById('chat-msgs');
  msgs.innerHTML+=`<div class="msg-user"><div class="bubble-user">${msg}</div></div>`;
  msgs.innerHTML+=`<div class="msg-ai" id="typing"><div class="bubble-ai"><div class="dots"><span></span><span></span><span></span></div></div></div>`;
  msgs.scrollTop=msgs.scrollHeight;
  chatHistory.push({role:'user',content:msg});
  try{
    const res=await fetch(`${CONFIG.apiEndpoint}/chat-promo`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({messages:chatHistory,lang:currentLang})});
    const data=await res.json();
    document.getElementById('typing').remove();
    msgs.innerHTML+=`<div class="msg-ai"><div class="bubble-ai">${data.reply.replace(/\n/g,'<br>')}</div></div>`;
    chatHistory.push({role:'assistant',content:data.reply});
  }catch(e){
    document.getElementById('typing').remove();
    msgs.innerHTML+=`<div class="msg-ai"><div class="bubble-ai">Erreur de connexion. R√©essaie !</div></div>`;
  }
  msgs.scrollTop=msgs.scrollHeight;
}

// ‚îÄ‚îÄ SUBSCRIPTION ‚îÄ‚îÄ
function startSub(plan){
  pendingPlan=plan;
  const prices={starter:'29‚Ç¨',elite:'79‚Ç¨'};
  const labels={starter:'STARTER',elite:'ELITE'};
  document.getElementById('pay-plan-label').textContent=labels[plan];
  document.getElementById('pay-plan-price').textContent=prices[plan];
  openModal('payment-modal');
  if(stripe){
    const el=stripe.elements({appearance:{theme:'night',variables:{colorPrimary:'#7c3aed',colorBackground:'#0d0920',colorText:'#f5f0ff',borderRadius:'10px',fontFamily:'Cabinet Grotesk, sans-serif'}}});
    cardElement=el.create('card');
    setTimeout(()=>cardElement.mount('#card-element'),100);
  }
}

async function processSub(){
  const btn=document.getElementById('btn-sub');
  btn.disabled=true;btn.innerHTML='<div class="dots" style="justify-content:center"><span></span><span></span><span></span></div>';
  try{
    const amounts={starter:2900,elite:7900};
    const res=await fetch(`${CONFIG.apiEndpoint}/create-payment-intent`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({amount:amounts[pendingPlan]})});
    const{clientSecret,error:ie}=await res.json();
    if(ie)throw new Error(ie);
    const{error,paymentIntent}=await stripe.confirmCardPayment(clientSecret,{payment_method:{card:cardElement}});
    if(error)throw new Error(error.message);
    if(paymentIntent.status==='succeeded'){
      currentUser.plan=pendingPlan;
      currentUser.boosts=pendingPlan==='starter'?30:999999;
      localStorage.setItem('viralboost_user',JSON.stringify(currentUser));
      document.getElementById('app-plan').textContent=pendingPlan.toUpperCase();
      closeModal('payment-modal');
      updateDashStats();
      toast(`üéâ Plan ${pendingPlan.toUpperCase()} activ√© ! Bienvenue dans l'√©lite.`,'success',4000);
    }
  }catch(err){
    document.getElementById('card-errors').textContent=err.message;
    toast(err.message,'error');
    btn.disabled=false;btn.textContent='üîí S\'abonner maintenant';
  }
}

// ‚îÄ‚îÄ MODAL ‚îÄ‚îÄ
function openModal(id){document.getElementById(id).classList.add('open');}
function closeModal(id){document.getElementById(id).classList.remove('open');}
function switchModal(a,b){closeModal(a);setTimeout(()=>openModal(b),200);}
document.querySelectorAll('.modal-bg').forEach(m=>m.addEventListener('click',e=>{if(e.target===m)m.classList.remove('open');}));

// ‚îÄ‚îÄ MONGODB ‚Äî SAUVEGARDE UTILISATEURS ‚îÄ‚îÄ
async function saveUserToDB(user){
  try{
    await fetch(`${CONFIG.apiEndpoint}/register-user`,{
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body:JSON.stringify({
        name:user.name,
        email:user.email,
        plan:user.plan,
        createdAt:user.createdAt||new Date().toISOString(),
        projectsCount:(user.projects||[]).length
      })
    });
  }catch(e){/* silencieux si le serveur n'est pas dispo */}
}

// ‚îÄ‚îÄ STRIPE ‚îÄ‚îÄ
try{stripe=Stripe(CONFIG.stripePublicKey);}catch(e){}

// ‚îÄ‚îÄ INIT ‚îÄ‚îÄ
window.addEventListener('load',()=>{
  buildShowcaseGrid('showcase-grid');
  const saved=localStorage.getItem('viralboost_user');
  if(saved){currentUser=JSON.parse(saved);showApp();}
  // Scroll reveal
  const obs=new IntersectionObserver((entries)=>{
    entries.forEach(e=>{if(e.isIntersecting){e.target.classList.add('visible');obs.unobserve(e.target);}});
  },{threshold:0.08});
  document.querySelectorAll('.reveal').forEach(el=>obs.observe(el));

  // ‚îÄ‚îÄ URGENCY BAR TIMER ‚îÄ‚îÄ
  let ubTime = 23*3600 + 47*60 + 12;
  setInterval(()=>{
    ubTime = Math.max(0, ubTime-1);
    const h=Math.floor(ubTime/3600), m=Math.floor((ubTime%3600)/60), s=ubTime%60;
    const el=document.getElementById('ub-timer');
    if(el) el.textContent=`‚è± ${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
  }, 1000);

  // ‚îÄ‚îÄ PRICING COUNTDOWN (11h47m33s) ‚îÄ‚îÄ
  let cdTime = 11*3600 + 47*60 + 33;
  setInterval(()=>{
    cdTime = Math.max(0, cdTime-1);
    const h=Math.floor(cdTime/3600), m=Math.floor((cdTime%3600)/60), s=cdTime%60;
    const eh=document.getElementById('cd-h'), em=document.getElementById('cd-m'), es=document.getElementById('cd-s');
    if(eh) eh.textContent=String(h).padStart(2,'0');
    if(em) em.textContent=String(m).padStart(2,'0');
    if(es) es.textContent=String(s).padStart(2,'0');
  }, 1000);

  // ‚îÄ‚îÄ EXIT POPUP TIMER ‚îÄ‚îÄ
  let epTime = 14*60 + 59;
  const epTimer = setInterval(()=>{
    epTime = Math.max(0, epTime-1);
    const m=Math.floor(epTime/60), s=epTime%60;
    const em=document.getElementById('ep-min'), es=document.getElementById('ep-sec');
    if(em) em.textContent=String(m).padStart(2,'0');
    if(es) es.textContent=String(s).padStart(2,'0');
    if(epTime===0) clearInterval(epTimer);
  }, 1000);

  // ‚îÄ‚îÄ EXIT INTENT (souris sort en haut) ‚îÄ‚îÄ
  let popupShown = sessionStorage.getItem('vb_popup_shown');
  if(!popupShown){
    document.addEventListener('mouseleave',(e)=>{
      if(e.clientY < 10 && !currentUser){
        document.getElementById('exit-popup').classList.add('show');
        sessionStorage.setItem('vb_popup_shown','1');
      }
    });
    // Popup apr√®s 45 secondes si pas boug√©
    setTimeout(()=>{
      if(!currentUser && !document.getElementById('exit-popup').classList.contains('show')){
        document.getElementById('exit-popup').classList.add('show');
        sessionStorage.setItem('vb_popup_shown','1');
      }
    }, 45000);
  }

  // ‚îÄ‚îÄ MOUSE GLOW SUR BOUTON ‚îÄ‚îÄ
  document.querySelectorAll('.btn-hero-primary').forEach(btn=>{
    btn.addEventListener('mousemove',(e)=>{
      const r=btn.getBoundingClientRect();
      btn.style.setProperty('--mx',((e.clientX-r.left)/r.width*100)+'%');
      btn.style.setProperty('--my',((e.clientY-r.top)/r.height*100)+'%');
    });
  });

  // ‚îÄ‚îÄ NAV MARGIN (urgency bar) ‚îÄ‚îÄ
  const bar=document.getElementById('urgency-bar');
  if(bar && !bar.classList.contains('hidden')){
    document.querySelector('nav').style.marginTop='40px';
  }
});

// ‚îÄ‚îÄ EXIT POPUP ‚îÄ‚îÄ
function closeExitPopup(){
  document.getElementById('exit-popup').classList.remove('show');
}
document.getElementById('exit-popup')?.addEventListener('click',e=>{
  if(e.target===document.getElementById('exit-popup')) closeExitPopup();
});

// ‚îÄ‚îÄ REFERRAL LINK ‚îÄ‚îÄ
function copyRefLink(){
  const code = currentUser ? btoa(currentUser.email).slice(0,8).toUpperCase() : 'DEMO123';
  const link = `https://viralboost.app/ref/${code}`;
  document.getElementById('ref-link-display').textContent = link;
  navigator.clipboard.writeText(link).then(()=>{
    const btn=event.currentTarget;
    btn.textContent='‚úÖ Copi√© !';
    setTimeout(()=>btn.textContent='üìã Copier',2000);
    toast('üîó Lien copi√© ! Partage-le pour gagner des boosts üöÄ');
  });
}

// ‚îÄ‚îÄ REFERRAL IN APP ‚îÄ‚îÄ
function getRefLink(){
  if(!currentUser) return 'viralboost.app/ref/DEMO';
  const code=btoa(currentUser.email).slice(0,8).toUpperCase();
  return `viralboost.app/ref/${code}`;
}
</script>
</body>
</html>
